(()=>{"use strict";var e,r,t={630:(e,r,t)=>{var n={w:800,h:400,lInputCodes:["KeyJ","ArrowLeft"],rInputCodes:["KeyK","ArrowRight"],xOffs:[-.3,-.1,.1,.3],ts:1/60,sinLim:.4,sinStep:.03,sinDecay:.01,velLim:4,velDecay:.01,groundHalfWidth:100,groundFlatCenterHalfWidth:1,groundDetailInterval:.2,get nTerrainPts(){return this.groundHalfWidth/this.groundDetailInterval*2+1},wallH:.9,wallW:.5,slopeDecay:.9,slopeLim:.4,slopeDiffMag:.125,slopeDiffDecay:1.1,slopeDiffLim:.2,get barMax(){var e="vel"==this.targetType?this.velLim:this.sinLim;return.45*this.w/e},barHeight:25,get scoreDenomEps(){return this.sinLim},crashSinLimit:.8,maxTorque:1,nWorkers:8,multiplier:2,epLen:800,twitchinesses:[0,.1,.05,.025,.01,.005,.0025,null],cmaSigma:.5,targetType:"vel"},o=Float32Array.from([1.097368597984314,-.4921252429485321,-2.4285199642181396,1.9147231578826904,1.4103649854660034,-1.0730559825897217,3.633850336074829,.969073474407196,1.72327721118927,3.862189769744873,-.5683848857879639,.4833804965019226,1.621141791343689,-1.7951841354370117,.28255704045295715,.8373199105262756,-1.491740107536316,1.680241346359253,4.32080602645874,-6.2230939865112305,3.8894057273864746,-.43056386709213257,-1.0381842851638794,1.206999659538269,-2.442864418029785,-3.2872400283813477,4.1724443435668945,-1.3102113008499146,2.0718746185302734,-2.012195348739624,-.09232735633850098,-2.3299849033355713,-1.3458508253097534,1.57430899143219,1.585335373878479,-4.818405628204346,-.5162748098373413,-.35466793179512024,.6563999056816101,.5765581130981445,3.2163033485412598,-2.673863410949707,-2.775988817214966,.3102789521217346,2.8213186264038086,-2.6345112323760986,.41489309072494507,.5273040533065796,2.8084323406219482,-.22201833128929138,-1.8847272396087646,2.1349411010742188,3.9124855995178223,.23571348190307617,-.4009905755519867,-2.32651686668396,-5.905391693115234,-3.277113199234009,-3.1946818828582764,.6040287613868713,1.5398304462432861,-1.7137975692749023,-2.5994322299957275,.7596493363380432,2.0505306720733643,-1.0719929933547974,-.12434184551239014,-.21520830690860748,-2.977525234222412,-2.916106700897217,-2.0895442962646484,.6780237555503845,-1.1381938457489014,-.3976782262325287,-8.091259002685547,-.8609429597854614,2.272367000579834,-.44986462593078613,-1.9860502481460571,-2.037736654281616,1.3788461685180664,-.946772575378418,-2.512946128845215,1.2120083570480347,-.8112329840660095,-.2584746479988098,-.8203612565994263,-1.7425763607025146,-2.4738595485687256,.20930416882038116,-3.1742286682128906,-.1539025902748108,2.706810474395752,-1.630825400352478,.03723296895623207,-2.7679619789123535,-1.1558122634887695,-.16676628589630127,-.11495263129472733,-.3647719621658325,-1.2723920345306396,-.8320516347885132,.0584125891327858,-.20485924184322357,-.6998800039291382,-.7748422622680664,.03306061774492264,.05045829713344574,-.7898354530334473,-.3644859194755554,-1.9912363290786743,.30128753185272217,.4223995506763458,-3.72501277923584,-6.310052394866943,3.808600425720215,1.4358415603637695,-2.62609601020813,-2.87255597114563,2.104060649871826,-3.1228067874908447,.46431323885917664,1.5147188901901245,1.0571037530899048,.053630534559488297,.8355461359024048,-2.3932297229766846,-1.0719527006149292,-1.0285042524337769,4.927562236785889,-4.36212682723999,1.996174693107605,2.3710286617279053,-.3524213433265686,-.06643331795930862,-.9069985747337341,2.0232365131378174,.6794627904891968,-3.7015702724456787,-1.2146440744400024,2.636486291885376,3.430572748184204,.665721595287323,.35096776485443115,-4.536441802978516,1.5776478052139282,3.518752098083496,4.304330348968506,.34464845061302185,.7764376401901245,.8761256337165833,3.0202441215515137,-1.0507209300994873,-.6082743406295776,-1.6540871858596802,2.939337968826294,-.17868749797344208,2.395843505859375,-.22536619007587433,-5.117509841918945,1.9952406883239746,-.9335593581199646,-.7380295395851135,.8094670176506042,.8877607583999634,-1.979039192199707,1.1599781513214111,-2.73085355758667,3.2037062644958496,.7695357799530029,1.7714511156082153,-2.932318925857544,-1.0461864471435547,3.496929407119751,3.517202138900757,2.6925926208496094,.33698439598083496,-.7475488185882568,.16617265343666077,-.07216118276119232,-2.731569766998291,2.3597419261932373,.14207404851913452,.34206706285476685,5.10419225692749,2.5803232192993164,.5957708358764648,.19110116362571716,.9374128580093384,1.2445136308670044,3.4148755073547363,-2.150707244873047,-2.19406795501709,-2.1235013008117676,-1.156686544418335,1.1939444541931152,3.0110416412353516,-.7731320261955261,-2.8795650005340576,2.6769773960113525,2.0949344635009766,-2.073817491531372,3.4075050354003906,1.9652248620986938,-1.1932811737060547,-2.3039934635162354,-2.7437469959259033,-1.7810425758361816,1.5841933488845825,2.8032116889953613,.25412386655807495,-1.4644629955291748,4.183811187744141,-.17973998188972473,2.7961342334747314,1.39539635181427,.34437960386276245,-1.1173146963119507,.40626052021980286,-1.5824397802352905,.14563427865505219,-2.399414539337158,6.656028747558594,.8279803395271301,-.7896231412887573,-2.388155460357666,-.5894807577133179,-1.5486451387405396,-.9272681474685669,-2.5805861949920654,.18140041828155518,-1.4993616342544556,.6692470908164978,-3.4452054500579834,-1.1278798580169678,-5.746531963348389,.692906379699707,.38156548142433167,1.763306736946106,-4.294862747192383,.6706625819206238,-.4210456311702728,-2.863720178604126,-.9124757647514343,2.075263023376465,-3.9785890579223633,.2882373631000519,.4847204089164734,-6.575814723968506,-6.198582649230957,.43105143308639526,-5.662414073944092,-4.541703701019287,-6.71414041519165,-5.687849044799805,-9.647754669189453,-2.682098865509033,-2.0994865894317627,2.992748737335205,-6.269527435302734,2.764437198638916,5.571993350982666,.817680835723877,3.074885845184326,-2.727198600769043,9.613213539123535,4.820910930633545,-4.828794956207275,-6.644251823425293]),i=t(4749);function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||l(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var u,c=!1;function f(e){for(var r=function(e){for(var r=!1,t=new Float32Array(e.popsize*e.n_dim),n=0;n<e.popsize;n++){var o=e.ask();if(o.constructor!==Float32Array){r=!0;break}for(var i=0;i<o.length;i++)t[n*o.length+i]=o[i]}if(!r)return t;console.log("ask failed"),console.log(e)}(e),t=function(){var e,r=[],t=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=l(e))){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}(n.twitchinesses);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.push(p(o))}}catch(e){t.e(e)}finally{t.f()}return r}(),o=r.length/n.nWorkers,i=0,a=[],s=0;s<n.nWorkers;s++)a.push({targets:t,solutions:r.slice(i,i+o)}),i+=o;postMessage(["targetsSolutions",a])}function p(e){var r,t,o,i,l=new Float32Array(n.epLen).fill(0),s=new Float32Array(n.epLen).fill(0),u=!1,c=!1;null!=e&&e>0&&(Math.random()<.5?c=!0:u=!0);for(var f=1;f<n.epLen;f++){if(null===e)c=!0,u=!1;else if(Math.random()<e){var p=Math.random();p<.7?u==c?Math.random()<.5?(u=!0,c=!1):(u=!1,c=!0):c?(u=!0,c=!1):(u=!1,c=!0):p<.9?(u=!1,c=!1):Math.random()<.5?u=!0:c=!0}var m=a((r=u,t=c,o=void 0,i=void 0,o=l[f-1],i=s[f-1],r&&t||(0!=o&&(Math.abs(o)<n.sinDecay?o=0:o-=Math.sign(o)*n.sinDecay),r?(o-=n.sinStep)<-n.sinLim&&(o=-n.sinLim):t&&(o+=n.sinStep)>n.sinLim&&(o=n.sinLim),0!=i&&(Math.abs(i)<n.velDecay?i=0:i-=Math.sign(i)*n.velDecay),(i+=.102*o)>n.velLim?i=n.velLim:i<-n.velLim&&(i=-n.velLim)),[o,i]),2);l[f]=m[0],s[f]=m[1]}return"sin"===n.targetType?l:s}onmessage=function(e){var r,t,p,m,h=a(e.data,2),v=h[0],y=h[1];if("init_info"!=v||c){if("solutionsScores"==v){var d=y.map((function(e){return e.score}));u.tell(y),console.log("mean:  ".concat(d.reduce((function(e,r){return e+r}))/d.length)),console.log("min:  ".concat(Math.min.apply(Math,function(e){if(Array.isArray(e))return s(e)}(m=d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||l(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),postMessage(["cmaMeanWts",u.mean.slice()]),f(u)}}else r=function(e){var r=(0,i.S)(e),t=n.nWorkers*Math.ceil(n.multiplier*r/n.nWorkers),o=t*n.twitchinesses.length;return{cmaPopSize:t,totalPopSize:o,simulationPopSize:o/n.nWorkers}}(y.n_dim),t=r.cmaPopSize,r.totalPopSize,r.simulationPopSize,p=o.slice(),u=new i.Y(p,n.cmaSigma,t,void 0,void 0),c=!0,f(u)}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,o.x=()=>{var e=o.O(void 0,[749],(()=>o(630)));return o.O(e)},e=[],o.O=(r,t,n,i)=>{if(!t){var a=1/0;for(c=0;c<e.length;c++){for(var[t,n,i]=e[c],l=!0,s=0;s<t.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](t[s])))?t.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(c--,1);var u=n();void 0!==u&&(r=u)}}return r}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,n,i]},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((r,t)=>(o.f[t](e,r),r)),[])),o.u=e=>e+".7a88436021645b244df4.js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var r=o.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={630:1};o.f.i=(r,t)=>{e[r]||importScripts(o.p+o.u(r))};var r=self.webpackChunktippy_project_website=self.webpackChunktippy_project_website||[],t=r.push.bind(r);r.push=r=>{var[n,i,a]=r;for(var l in i)o.o(i,l)&&(o.m[l]=i[l]);for(a&&a(o);n.length;)e[n.pop()]=1;t(r)}})(),r=o.x,o.x=()=>o.e(749).then(r),o.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxFQUFRekcsU0FBUW1HLEVBQVlNLEVBQVFBLEVBQVF6RyxPQUFTLEdBQUd3RyxLQUs3RCxJQUFLTCxFQUFXLE1BQU0sSUFBSVEsTUFBTSx5REFDaENSLEVBQVlBLEVBQVVTLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQ3BGckQsRUFBb0JzRCxFQUFJVixHLFNDWHhCLElBQUlXLEVBQWtCLENBQ3JCLElBQUssR0FnQk52RCxFQUFvQjRCLEVBQUV4RixFQUFJLENBQUN5RixFQUFTRyxLQUUvQnVCLEVBQWdCMUIsSUFFbEJnQixjQUFjN0MsRUFBb0JzRCxFQUFJdEQsRUFBb0JpQyxFQUFFSixLQUsvRCxJQUFJMkIsRUFBcUJDLEtBQXdDLGtDQUFJQSxLQUF3QyxtQ0FBSyxHQUM5R0MsRUFBNkJGLEVBQW1CekcsS0FBSzRHLEtBQUtILEdBQzlEQSxFQUFtQnpHLEtBdkJDMkIsSUFDbkIsSUFBS2dDLEVBQVVrRCxFQUFhQyxHQUFXbkYsRUFDdkMsSUFBSSxJQUFJdUIsS0FBWTJELEVBQ2hCNUQsRUFBb0J3QixFQUFFb0MsRUFBYTNELEtBQ3JDRCxFQUFvQk0sRUFBRUwsR0FBWTJELEVBQVkzRCxJQUloRCxJQURHNEQsR0FBU0EsRUFBUTdELEdBQ2RVLEVBQVNqRSxRQUNkOEcsRUFBZ0I3QyxFQUFTb0QsT0FBUyxFQUNuQ0osRUFBMkJoRixLLEdibkJ4QnJGLEVBQU8yRyxFQUFvQmpCLEVBQy9CaUIsRUFBb0JqQixFQUFJLElBQ2hCaUIsRUFBb0J6QixFQUFFLEtBQUt3RixLQUFLMUssR2NEZDJHLEVBQW9CakIsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS93ZWJwYWNrL3J1bnRpbWUvc3RhcnR1cCBjaHVuayBkZXBlbmRlbmNpZXMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlLy4vc3JjL3BhZ2VzL3RpcHB5L2dsb2JhbHMuanMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlLy4vc3JjL3BhZ2VzL3RpcHB5L2NtYU1lYW5Jbml0LmpzIiwid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS8uL3NyYy9wYWdlcy90aXBweS93b3JrZXJzL3RyYWluaW5nLXdvcmtlci5qcyIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvLi9zcmMvcGFnZXMvdGlwcHkvdGlwcHkuanMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9lbnN1cmUgY2h1bmsiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2dldCBtaW5pLWNzcyBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9pbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgbmV4dCA9IF9fd2VicGFja19yZXF1aXJlX18ueDtcbl9fd2VicGFja19yZXF1aXJlX18ueCA9ICgpID0+IHtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZSg3NDkpLnRoZW4obmV4dCk7XG59OyIsImV4cG9ydCBjb25zdCBnbG9iYWxzID0ge1xuICB3OiA4MDAsXG4gIGg6IDQwMCxcbiAgbElucHV0Q29kZXM6IFtcIktleUpcIiwgXCJBcnJvd0xlZnRcIl0sXG4gIHJJbnB1dENvZGVzOiBbXCJLZXlLXCIsIFwiQXJyb3dSaWdodFwiXSxcbiAgeE9mZnM6IFstMC4zLCAtMC4xLCAwLjEsIDAuM10sXG4gIHRzOiAxLjAgLyA2MCxcbiAgLy8gc2luTGltOiAwLjMsXG4gIHNpbkxpbTogMC40LFxuICAvLyBkaXJlY3Rpb25TdGVwOiAwLjAyLFxuICBzaW5TdGVwOiAwLjAzLFxuICBzaW5EZWNheTogMC4wMSxcbiAgdmVsTGltOiA0LFxuICB2ZWxEZWNheTogMC4wMSxcbiAgZ3JvdW5kSGFsZldpZHRoOiAxMDAsXG4gIGdyb3VuZEZsYXRDZW50ZXJIYWxmV2lkdGg6IDEsXG4gIGdyb3VuZERldGFpbEludGVydmFsOiAwLjIsXG4gIC8vIG5UZXJyYWluUHRzOiAyICogKHRoaXMuZ3JvdW5kSGFsZldpZHRoIC8gdGhpcy5ncm91bmREZXRhaWxJbnRlcnZhbCkgKyAxLFxuICBnZXQgblRlcnJhaW5QdHMoKSB7XG4gICAgcmV0dXJuIDIgKiAodGhpcy5ncm91bmRIYWxmV2lkdGggLyB0aGlzLmdyb3VuZERldGFpbEludGVydmFsKSArIDFcbiAgfSxcbiAgd2FsbEg6IDAuOSxcbiAgd2FsbFc6IDAuNSxcbiAgLy8gc2xvcGVNYWc6IDAuMSxcbiAgc2xvcGVEZWNheTogMC45LFxuICBzbG9wZUxpbTogMC40LFxuICBzbG9wZURpZmZNYWc6IDAuMTI1LFxuICBzbG9wZURpZmZEZWNheTogMS4xLFxuICBzbG9wZURpZmZMaW06IDAuMixcbiAgZ2V0IGJhck1heCgpIHtcbiAgICBjb25zdCBsaW0gPSB0aGlzLnRhcmdldFR5cGUgPT0gXCJ2ZWxcIiA/IHRoaXMudmVsTGltIDogdGhpcy5zaW5MaW1cbiAgICByZXR1cm4gKDAuNSAqIDAuOSAqIHRoaXMudykgLyBsaW1cbiAgfSxcbiAgYmFySGVpZ2h0OiAyNSxcbiAgLy8gc2NvcmVEZW5vbUVwczogMC4wMSxcbiAgLy8gc2NvcmVEZW5vbUVwczogMC4xLFxuICBnZXQgc2NvcmVEZW5vbUVwcygpIHtcbiAgICByZXR1cm4gdGhpcy5zaW5MaW1cbiAgfSxcbiAgY3Jhc2hTaW5MaW1pdDogMC44LFxuICBtYXhUb3JxdWU6IDEuMCxcbiAgbldvcmtlcnM6IDgsXG4gIG11bHRpcGxpZXI6IDIsXG4gIGVwTGVuOiA4MDAsXG4gIHR3aXRjaGluZXNzZXM6IFswLCAwLjEsIDAuMDUsIDAuMDI1LCAwLjAxLCAwLjAwNSwgMC4wMDI1LCBudWxsXSxcbiAgY21hU2lnbWE6IDAuNSxcbiAgLy8gdGFyZ2V0VHlwZTogXCJzaW5cIixcbiAgdGFyZ2V0VHlwZTogXCJ2ZWxcIixcbn1cbiIsImV4cG9ydCBjb25zdCBjbWFNZWFuSW5pdCA9IEZsb2F0MzJBcnJheS5mcm9tKFtcbiAgMS4wOTczNjg1OTc5ODQzMTQsIC0wLjQ5MjEyNTI0Mjk0ODUzMjEsIC0yLjQyODUxOTk2NDIxODEzOTYsXG4gIDEuOTE0NzIzMTU3ODgyNjkwNCwgMS40MTAzNjQ5ODU0NjYwMDM0LCAtMS4wNzMwNTU5ODI1ODk3MjE3LFxuICAzLjYzMzg1MDMzNjA3NDgyOSwgMC45NjkwNzM0NzQ0MDcxOTYsIDEuNzIzMjc3MjExMTg5MjcsIDMuODYyMTg5NzY5NzQ0ODczLFxuICAtMC41NjgzODQ4ODU3ODc5NjM5LCAwLjQ4MzM4MDQ5NjUwMTkyMjYsIDEuNjIxMTQxNzkxMzQzNjg5LFxuICAtMS43OTUxODQxMzU0MzcwMTE3LCAwLjI4MjU1NzA0MDQ1Mjk1NzE1LCAwLjgzNzMxOTkxMDUyNjI3NTYsXG4gIC0xLjQ5MTc0MDEwNzUzNjMxNiwgMS42ODAyNDEzNDYzNTkyNTMsIDQuMzIwODA2MDI2NDU4NzQsIC02LjIyMzA5Mzk4NjUxMTIzMDUsXG4gIDMuODg5NDA1NzI3Mzg2NDc0NiwgLTAuNDMwNTYzODY3MDkyMTMyNTcsIC0xLjAzODE4NDI4NTE2Mzg3OTQsXG4gIDEuMjA2OTk5NjU5NTM4MjY5LCAtMi40NDI4NjQ0MTgwMjk3ODUsIC0zLjI4NzI0MDAyODM4MTM0NzcsXG4gIDQuMTcyNDQ0MzQzNTY2ODk0NSwgLTEuMzEwMjExMzAwODQ5OTE0NiwgMi4wNzE4NzQ2MTg1MzAyNzM0LFxuICAtMi4wMTIxOTUzNDg3Mzk2MjQsIC0wLjA5MjMyNzM1NjMzODUwMDk4LCAtMi4zMjk5ODQ5MDMzMzU1NzEzLFxuICAtMS4zNDU4NTA4MjUzMDk3NTM0LCAxLjU3NDMwODk5MTQzMjE5LCAxLjU4NTMzNTM3Mzg3ODQ3OSwgLTQuODE4NDA1NjI4MjA0MzQ2LFxuICAtMC41MTYyNzQ4MDk4MzczNDEzLCAtMC4zNTQ2Njc5MzE3OTUxMjAyNCwgMC42NTYzOTk5MDU2ODE2MTAxLFxuICAwLjU3NjU1ODExMzA5ODE0NDUsIDMuMjE2MzAzMzQ4NTQxMjU5OCwgLTIuNjczODYzNDEwOTQ5NzA3LFxuICAtMi43NzU5ODg4MTcyMTQ5NjYsIDAuMzEwMjc4OTUyMTIxNzM0NiwgMi44MjEzMTg2MjY0MDM4MDg2LFxuICAtMi42MzQ1MTEyMzIzNzYwOTg2LCAwLjQxNDg5MzA5MDcyNDk0NTA3LCAwLjUyNzMwNDA1MzMwNjU3OTYsXG4gIDIuODA4NDMyMzQwNjIxOTQ4MiwgLTAuMjIyMDE4MzMxMjg5MjkxMzgsIC0xLjg4NDcyNzIzOTYwODc2NDYsXG4gIDIuMTM0OTQxMTAxMDc0MjE4OCwgMy45MTI0ODU1OTk1MTc4MjIzLCAwLjIzNTcxMzQ4MTkwMzA3NjE3LFxuICAtMC40MDA5OTA1NzU1NTE5ODY3LCAtMi4zMjY1MTY4NjY2ODM5NiwgLTUuOTA1MzkxNjkzMTE1MjM0LFxuICAtMy4yNzcxMTMxOTkyMzQwMDksIC0zLjE5NDY4MTg4Mjg1ODI3NjQsIDAuNjA0MDI4NzYxMzg2ODcxMyxcbiAgMS41Mzk4MzA0NDYyNDMyODYxLCAtMS43MTM3OTc1NjkyNzQ5MDIzLCAtMi41OTk0MzIyMjk5OTU3Mjc1LFxuICAwLjc1OTY0OTMzNjMzODA0MzIsIDIuMDUwNTMwNjcyMDczMzY0MywgLTEuMDcxOTkyOTkzMzU0Nzk3NCxcbiAgLTAuMTI0MzQxODQ1NTEyMzkwMTQsIC0wLjIxNTIwODMwNjkwODYwNzQ4LCAtMi45Nzc1MjUyMzQyMjI0MTIsXG4gIC0yLjkxNjEwNjcwMDg5NzIxNywgLTIuMDg5NTQ0Mjk2MjY0NjQ4NCwgMC42NzgwMjM3NTU1NTAzODQ1LFxuICAtMS4xMzgxOTM4NDU3NDg5MDE0LCAtMC4zOTc2NzgyMjYyMzI1Mjg3LCAtOC4wOTEyNTkwMDI2ODU1NDcsXG4gIC0wLjg2MDk0Mjk1OTc4NTQ2MTQsIDIuMjcyMzY3MDAwNTc5ODM0LCAtMC40NDk4NjQ2MjU5MzA3ODYxMyxcbiAgLTEuOTg2MDUwMjQ4MTQ2MDU3MSwgLTIuMDM3NzM2NjU0MjgxNjE2LCAxLjM3ODg0NjE2ODUxODA2NjQsXG4gIC0wLjk0Njc3MjU3NTM3ODQxOCwgLTIuNTEyOTQ2MTI4ODQ1MjE1LCAxLjIxMjAwODM1NzA0ODAzNDcsXG4gIC0wLjgxMTIzMjk4NDA2NjAwOTUsIC0wLjI1ODQ3NDY0Nzk5ODgwOTgsIC0wLjgyMDM2MTI1NjU5OTQyNjMsXG4gIC0xLjc0MjU3NjM2MDcwMjUxNDYsIC0yLjQ3Mzg1OTU0ODU2ODcyNTYsIDAuMjA5MzA0MTY4ODIwMzgxMTYsXG4gIC0zLjE3NDIyODY2ODIxMjg5MDYsIC0wLjE1MzkwMjU5MDI3NDgxMDgsIDIuNzA2ODEwNDc0Mzk1NzUyLFxuICAtMS42MzA4MjU0MDAzNTI0NzgsIDAuMDM3MjMyOTY4OTU2MjMyMDcsIC0yLjc2Nzk2MTk3ODkxMjM1MzUsXG4gIC0xLjE1NTgxMjI2MzQ4ODc2OTUsIC0wLjE2Njc2NjI4NTg5NjMwMTI3LCAtMC4xMTQ5NTI2MzEyOTQ3MjczMyxcbiAgLTAuMzY0NzcxOTYyMTY1ODMyNSwgLTEuMjcyMzkyMDM0NTMwNjM5NiwgLTAuODMyMDUxNjM0Nzg4NTEzMixcbiAgMC4wNTg0MTI1ODkxMzI3ODU4LCAtMC4yMDQ4NTkyNDE4NDMyMjM1NywgLTAuNjk5ODgwMDAzOTI5MTM4MixcbiAgLTAuNzc0ODQyMjYyMjY4MDY2NCwgMC4wMzMwNjA2MTc3NDQ5MjI2NCwgMC4wNTA0NTgyOTcxMzM0NDU3NCxcbiAgLTAuNzg5ODM1NDUzMDMzNDQ3MywgLTAuMzY0NDg1OTE5NDc1NTU1NCwgLTEuOTkxMjM2MzI5MDc4Njc0MyxcbiAgMC4zMDEyODc1MzE4NTI3MjIxNywgMC40MjIzOTk1NTA2NzYzNDU4LCAtMy43MjUwMTI3NzkyMzU4NCxcbiAgLTYuMzEwMDUyMzk0ODY2OTQzLCAzLjgwODYwMDQyNTcyMDIxNSwgMS40MzU4NDE1NjAzNjM3Njk1LCAtMi42MjYwOTYwMTAyMDgxMyxcbiAgLTIuODcyNTU1OTcxMTQ1NjMsIDIuMTA0MDYwNjQ5ODcxODI2LCAtMy4xMjI4MDY3ODc0OTA4NDQ3LFxuICAwLjQ2NDMxMzIzODg1OTE3NjY0LCAxLjUxNDcxODg5MDE5MDEyNDUsIDEuMDU3MTAzNzUzMDg5OTA0OCxcbiAgMC4wNTM2MzA1MzQ1NTk0ODgyOTcsIDAuODM1NTQ2MTM1OTAyNDA0OCwgLTIuMzkzMjI5NzIyOTc2Njg0NixcbiAgLTEuMDcxOTUyNzAwNjE0OTI5MiwgLTEuMDI4NTA0MjUyNDMzNzc2OSwgNC45Mjc1NjIyMzY3ODU4ODksXG4gIC00LjM2MjEyNjgyNzIzOTk5LCAxLjk5NjE3NDY5MzEwNzYwNSwgMi4zNzEwMjg2NjE3Mjc5MDUzLCAtMC4zNTI0MjEzNDMzMjY1Njg2LFxuICAtMC4wNjY0MzMzMTc5NTkzMDg2MiwgLTAuOTA2OTk4NTc0NzMzNzM0MSwgMi4wMjMyMzY1MTMxMzc4MTc0LFxuICAwLjY3OTQ2Mjc5MDQ4OTE5NjgsIC0zLjcwMTU3MDI3MjQ0NTY3ODcsIC0xLjIxNDY0NDA3NDQ0MDAwMjQsXG4gIDIuNjM2NDg2MjkxODg1Mzc2LCAzLjQzMDU3Mjc0ODE4NDIwNCwgMC42NjU3MjE1OTUyODczMjMsIDAuMzUwOTY3NzY0ODU0NDMxMTUsXG4gIC00LjUzNjQ0MTgwMjk3ODUxNiwgMS41Nzc2NDc4MDUyMTM5MjgyLCAzLjUxODc1MjA5ODA4MzQ5NiwgNC4zMDQzMzAzNDg5Njg1MDYsXG4gIDAuMzQ0NjQ4NDUwNjEzMDIxODUsIDAuNzc2NDM3NjQwMTkwMTI0NSwgMC44NzYxMjU2MzM3MTY1ODMzLFxuICAzLjAyMDI0NDEyMTU1MTUxMzcsIC0xLjA1MDcyMDkzMDA5OTQ4NzMsIC0wLjYwODI3NDM0MDYyOTU3NzYsXG4gIC0xLjY1NDA4NzE4NTg1OTY4MDIsIDIuOTM5MzM3OTY4ODI2Mjk0LCAtMC4xNzg2ODc0OTc5NzM0NDIwOCxcbiAgMi4zOTU4NDM1MDU4NTkzNzUsIC0wLjIyNTM2NjE5MDA3NTg3NDMzLCAtNS4xMTc1MDk4NDE5MTg5NDUsXG4gIDEuOTk1MjQwNjg4MzIzOTc0NiwgLTAuOTMzNTU5MzU4MTE5OTY0NiwgLTAuNzM4MDI5NTM5NTg1MTEzNSxcbiAgMC44MDk0NjcwMTc2NTA2MDQyLCAwLjg4Nzc2MDc1ODM5OTk2MzQsIC0xLjk3OTAzOTE5MjE5OTcwNyxcbiAgMS4xNTk5NzgxNTEzMjE0MTExLCAtMi43MzA4NTM1NTc1ODY2NywgMy4yMDM3MDYyNjQ0OTU4NDk2LCAwLjc2OTUzNTc3OTk1MzAwMjksXG4gIDEuNzcxNDUxMTE1NjA4MjE1MywgLTIuOTMyMzE4OTI1ODU3NTQ0LCAtMS4wNDYxODY0NDcxNDM1NTQ3LFxuICAzLjQ5NjkyOTQwNzExOTc1MSwgMy41MTcyMDIxMzg5MDA3NTcsIDIuNjkyNTkyNjIwODQ5NjA5NCwgMC4zMzY5ODQzOTU5ODA4MzQ5NixcbiAgLTAuNzQ3NTQ4ODE4NTg4MjU2OCwgMC4xNjYxNzI2NTM0MzY2NjA3NywgLTAuMDcyMTYxMTgyNzYxMTkyMzIsXG4gIC0yLjczMTU2OTc2Njk5ODI5MSwgMi4zNTk3NDE5MjYxOTMyMzczLCAwLjE0MjA3NDA0ODUxOTEzNDUyLFxuICAwLjM0MjA2NzA2Mjg1NDc2Njg1LCA1LjEwNDE5MjI1NjkyNzQ5LCAyLjU4MDMyMzIxOTI5OTMxNjQsIDAuNTk1NzcwODM1ODc2NDY0OCxcbiAgMC4xOTExMDExNjM2MjU3MTcxNiwgMC45Mzc0MTI4NTgwMDkzMzg0LCAxLjI0NDUxMzYzMDg2NzAwNDQsXG4gIDMuNDE0ODc1NTA3MzU0NzM2MywgLTIuMTUwNzA3MjQ0ODczMDQ3LCAtMi4xOTQwNjc5NTUwMTcwOSxcbiAgLTIuMTIzNTAxMzAwODExNzY3NiwgLTEuMTU2Njg2NTQ0NDE4MzM1LCAxLjE5Mzk0NDQ1NDE5MzExNTIsXG4gIDMuMDExMDQxNjQxMjM1MzUxNiwgLTAuNzczMTMyMDI2MTk1NTI2MSwgLTIuODc5NTY1MDAwNTM0MDU3NixcbiAgMi42NzY5NzczOTYwMTEzNTI1LCAyLjA5NDkzNDQ2MzUwMDk3NjYsIC0yLjA3MzgxNzQ5MTUzMTM3MixcbiAgMy40MDc1MDUwMzU0MDAzOTA2LCAxLjk2NTIyNDg2MjA5ODY5MzgsIC0xLjE5MzI4MTE3MzcwNjA1NDcsXG4gIC0yLjMwMzk5MzQ2MzUxNjIzNTQsIC0yLjc0Mzc0Njk5NTkyNTkwMzMsIC0xLjc4MTA0MjU3NTgzNjE4MTYsXG4gIDEuNTg0MTkzMzQ4ODg0NTgyNSwgMi44MDMyMTE2ODg5OTUzNjEzLCAwLjI1NDEyMzg2NjU1ODA3NDk1LFxuICAtMS40NjQ0NjI5OTU1MjkxNzQ4LCA0LjE4MzgxMTE4Nzc0NDE0MSwgLTAuMTc5NzM5OTgxODg5NzI0NzMsXG4gIDIuNzk2MTM0MjMzNDc0NzMxNCwgMS4zOTUzOTYzNTE4MTQyNywgMC4zNDQzNzk2MDM4NjI3NjI0NSxcbiAgLTEuMTE3MzE0Njk2MzExOTUwNywgMC40MDYyNjA1MjAyMTk4MDI4NiwgLTEuNTgyNDM5NzgwMjM1MjkwNSxcbiAgMC4xNDU2MzQyNzg2NTUwNTIxOSwgLTIuMzk5NDE0NTM5MzM3MTU4LCA2LjY1NjAyODc0NzU1ODU5NCxcbiAgMC44Mjc5ODAzMzk1MjcxMzAxLCAtMC43ODk2MjMxNDEyODg3NTczLCAtMi4zODgxNTU0NjAzNTc2NjYsXG4gIC0wLjU4OTQ4MDc1NzcxMzMxNzksIC0xLjU0ODY0NTEzODc0MDUzOTYsIC0wLjkyNzI2ODE0NzQ2ODU2NjksXG4gIC0yLjU4MDU4NjE5NDk5MjA2NTQsIDAuMTgxNDAwNDE4MjgxNTU1MTgsIC0xLjQ5OTM2MTYzNDI1NDQ1NTYsXG4gIDAuNjY5MjQ3MDkwODE2NDk3OCwgLTMuNDQ1MjA1NDUwMDU3OTgzNCwgLTEuMTI3ODc5ODU4MDE2OTY3OCxcbiAgLTUuNzQ2NTMxOTYzMzQ4Mzg5LCAwLjY5MjkwNjM3OTY5OTcwNywgMC4zODE1NjU0ODE0MjQzMzE2NywgMS43NjMzMDY3MzY5NDYxMDYsXG4gIC00LjI5NDg2Mjc0NzE5MjM4MywgMC42NzA2NjI1ODE5MjA2MjM4LCAtMC40MjEwNDU2MzExNzAyNzI4LFxuICAtMi44NjM3MjAxNzg2MDQxMjYsIC0wLjkxMjQ3NTc2NDc1MTQzNDMsIDIuMDc1MjYzMDIzMzc2NDY1LFxuICAtMy45Nzg1ODkwNTc5MjIzNjMzLCAwLjI4ODIzNzM2MzEwMDA1MTksIDAuNDg0NzIwNDA4OTE2NDczNCxcbiAgLTYuNTc1ODE0NzIzOTY4NTA2LCAtNi4xOTg1ODI2NDkyMzA5NTcsIDAuNDMxMDUxNDMzMDg2Mzk1MjYsXG4gIC01LjY2MjQxNDA3Mzk0NDA5MiwgLTQuNTQxNzAzNzAxMDE5Mjg3LCAtNi43MTQxNDA0MTUxOTE2NSwgLTUuNjg3ODQ5MDQ0Nzk5ODA1LFxuICAtOS42NDc3NTQ2NjkxODk0NTMsIC0yLjY4MjA5ODg2NTUwOTAzMywgLTIuMDk5NDg2NTg5NDMxNzYyNyxcbiAgMi45OTI3NDg3MzczMzUyMDUsIC02LjI2OTUyNzQzNTMwMjczNCwgMi43NjQ0MzcxOTg2Mzg5MTYsIDUuNTcxOTkzMzUwOTgyNjY2LFxuICAwLjgxNzY4MDgzNTcyMzg3NywgMy4wNzQ4ODU4NDUxODQzMjYsIC0yLjcyNzE5ODYwMDc2OTA0MywgOS42MTMyMTM1MzkxMjM1MzUsXG4gIDQuODIwOTEwOTMwNjMzNTQ1LCAtNC44Mjg3OTQ5NTYyMDcyNzUsIC02LjY0NDI1MTgyMzQyNTI5Myxcbl0pXG4iLCIvLyBsZXQgTW9kdWxlID0geyBUT1RBTF9NRU1PUlk6IDI1NiAqIDEwMjQgKiAxMDI0IH1cbi8vIGltcG9ydFNjcmlwdHMoXG4vLyAgIFwiLi4vcmFuZG9tX25vcm1hbC5qc1wiLFxuLy8gICBcIi4uL2NtYV9saWIuanNcIixcbi8vICAgXCIuLi9nbG9iYWxzLmpzXCIsXG4vLyAgIFwiLi4vdGlwcHkuanNcIixcbi8vICAgXCIuLi9jbWFNZWFuSW5pdC5qc1wiXG4vLyApXG5cbmltcG9ydCB7IGdsb2JhbHMgfSBmcm9tIFwiLi8uLi9nbG9iYWxzLmpzXCJcbmltcG9ydCB7IGNtYU1lYW5Jbml0IH0gZnJvbSBcIi4vLi4vY21hTWVhbkluaXQuanNcIlxuaW1wb3J0IHsgdXBkYXRlRGlyZWN0aW9uIH0gZnJvbSBcIi4vLi4vdGlwcHkuanNcIlxuaW1wb3J0IHsgQ01BLCBnZXREZWZhdWx0Q01BUG9wc2l6ZSB9IGZyb20gXCIuLy4uLy4uLy4uL2pzL2NtYS1saWIuanNcIlxuXG5sZXQgY21hLFxuICBpbml0aWFsaXplZCA9IGZhbHNlXG5cbm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gIGNvbnN0IFtpbmZvLCBtc2ddID0gZS5kYXRhXG4gIGlmIChpbmZvID09IFwiaW5pdF9pbmZvXCIgJiYgIWluaXRpYWxpemVkKSB7XG4gICAgaW5pdChtc2cpXG4gIH0gZWxzZSBpZiAoaW5mbyA9PSBcInNvbHV0aW9uc1Njb3Jlc1wiKSB7XG4gICAgY29uc3Qgc2NvcmVzID0gbXNnLm1hcCgoeCkgPT4geC5zY29yZSlcbiAgICBjbWEudGVsbChtc2cpXG4gICAgY29uc29sZS5sb2coYG1lYW46ICAke3Njb3Jlcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKSAvIHNjb3Jlcy5sZW5ndGh9YClcbiAgICBjb25zb2xlLmxvZyhgbWluOiAgJHtNYXRoLm1pbiguLi5zY29yZXMpfWApXG4gICAgcG9zdE1lc3NhZ2UoW1wiY21hTWVhbld0c1wiLCBjbWEubWVhbi5zbGljZSgpXSlcbiAgICB0cmFpbihjbWEpXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdChpbml0SW5mbykge1xuICBjb25zdCB7IGNtYVBvcFNpemUsIHRvdGFsUG9wU2l6ZSwgc2ltdWxhdGlvblBvcFNpemUgfSA9IGdldFBvcHNpemVzKFxuICAgIGluaXRJbmZvLm5fZGltXG4gIClcblxuICAvLyBjb25zdCBjbWFNZWFuID0gbmV3IEZsb2F0MzJBcnJheShpbml0SW5mby5uX2RpbSkuZmlsbCgwKVxuICBjb25zdCBjbWFNZWFuID0gY21hTWVhbkluaXQuc2xpY2UoKVxuICBjbWEgPSBuZXcgQ01BKGNtYU1lYW4sIGdsb2JhbHMuY21hU2lnbWEsIGNtYVBvcFNpemUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKVxuICAvLyBpbml0U2ltV29ya2Vycyhpbml0SW5mby50ZXJyYWluUHRzKVxuICBpbml0aWFsaXplZCA9IHRydWVcblxuICB0cmFpbihjbWEpXG59XG5cbmZ1bmN0aW9uIHRyYWluKGNtYSkge1xuICBjb25zdCBzb2x1dGlvbnMgPSBnZXROZXdTb2x1dGlvbnMoY21hKSxcbiAgICB0YXJnZXRBcnJheXMgPSBnZW5lcmF0ZVRhcmdldEFycmF5cygpLFxuICAgIHdvcmtlclNvbHV0aW9uTGVuZ3RoID0gc29sdXRpb25zLmxlbmd0aCAvIGdsb2JhbHMubldvcmtlcnNcbiAgbGV0IHNvbHV0aW9uSWR4ID0gMFxuICBjb25zdCB0YXJnZXRzU29sdXRpb25zID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iYWxzLm5Xb3JrZXJzOyBpKyspIHtcbiAgICB0YXJnZXRzU29sdXRpb25zLnB1c2goe1xuICAgICAgdGFyZ2V0czogdGFyZ2V0QXJyYXlzLFxuICAgICAgc29sdXRpb25zOiBzb2x1dGlvbnMuc2xpY2UoXG4gICAgICAgIHNvbHV0aW9uSWR4LFxuICAgICAgICBzb2x1dGlvbklkeCArIHdvcmtlclNvbHV0aW9uTGVuZ3RoXG4gICAgICApLFxuICAgIH0pXG4gICAgc29sdXRpb25JZHggKz0gd29ya2VyU29sdXRpb25MZW5ndGhcbiAgfVxuICBwb3N0TWVzc2FnZShbXCJ0YXJnZXRzU29sdXRpb25zXCIsIHRhcmdldHNTb2x1dGlvbnNdKVxufVxuXG5mdW5jdGlvbiBnZXROZXdTb2x1dGlvbnMoY21hKSB7XG4gIGxldCBiYWRTb2x1dGlvbiA9IGZhbHNlXG4gIGNvbnN0IHNvbHV0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoY21hLnBvcHNpemUgKiBjbWEubl9kaW0pXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY21hLnBvcHNpemU7IGkrKykge1xuICAgIGNvbnN0IHNvbHV0aW9uID0gY21hLmFzaygpXG4gICAgaWYgKHNvbHV0aW9uLmNvbnN0cnVjdG9yICE9PSBGbG9hdDMyQXJyYXkpIHtcbiAgICAgIGJhZFNvbHV0aW9uID0gdHJ1ZVxuICAgICAgYnJlYWtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzb2x1dGlvbi5sZW5ndGg7IGorKykge1xuICAgICAgc29sdXRpb25zW2kgKiBzb2x1dGlvbi5sZW5ndGggKyBqXSA9IHNvbHV0aW9uW2pdXG4gICAgfVxuICB9XG4gIC8vIGNvbnNvbGUubG9nKGNtYS5tZWFuKVxuICBpZiAoIWJhZFNvbHV0aW9uKSB7XG4gICAgcmV0dXJuIHNvbHV0aW9uc1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwiYXNrIGZhaWxlZFwiKVxuICAgIGNvbnNvbGUubG9nKGNtYSlcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUVwaXNvZGVUYXJnZXRzKHR3aXRjaGluZXNzKSB7XG4gIGNvbnN0IHRhcmdldFNpbnMgPSBuZXcgRmxvYXQzMkFycmF5KGdsb2JhbHMuZXBMZW4pLmZpbGwoMCksXG4gICAgdGFyZ2V0VmVscyA9IG5ldyBGbG9hdDMyQXJyYXkoZ2xvYmFscy5lcExlbikuZmlsbCgwKVxuICBsZXQgbGVmdERvd24gPSBmYWxzZSxcbiAgICByaWdodERvd24gPSBmYWxzZVxuXG4gIGlmICh0d2l0Y2hpbmVzcyAhPSBudWxsICYmIHR3aXRjaGluZXNzID4gMCkge1xuICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICByaWdodERvd24gPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnREb3duID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgZ2xvYmFscy5lcExlbjsgaSsrKSB7XG4gICAgaWYgKHR3aXRjaGluZXNzID09PSBudWxsKSB7XG4gICAgICByaWdodERvd24gPSB0cnVlXG4gICAgICBsZWZ0RG93biA9IGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIChNYXRoLnJhbmRvbSgpIDwgdHdpdGNoaW5lc3MpIHtcbiAgICAgIC8vICAgbGVmdERvd24gPSAhbGVmdERvd25cbiAgICAgIC8vIH1cbiAgICAgIC8vIGlmIChNYXRoLnJhbmRvbSgpIDwgdHdpdGNoaW5lc3MpIHtcbiAgICAgIC8vICAgcmlnaHREb3duID0gIXJpZ2h0RG93blxuICAgICAgLy8gfVxuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCB0d2l0Y2hpbmVzcykge1xuICAgICAgICBjb25zdCByYW5kID0gTWF0aC5yYW5kb20oKVxuICAgICAgICBpZiAocmFuZCA8IDAuNykge1xuICAgICAgICAgIC8vIDYwJSBjaGFuY2UgdG8gY2hvb3NlIG9uZSBvciBzd2l0Y2hcbiAgICAgICAgICBpZiAobGVmdERvd24gPT0gcmlnaHREb3duKSB7XG4gICAgICAgICAgICAvLyBjaG9vc2UgcmFuZG9tIGlmIG5laXRoZXIgb3IgYm90aFxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcbiAgICAgICAgICAgICAgbGVmdERvd24gPSB0cnVlXG4gICAgICAgICAgICAgIHJpZ2h0RG93biA9IGZhbHNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZWZ0RG93biA9IGZhbHNlXG4gICAgICAgICAgICAgIHJpZ2h0RG93biA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gc3dpdGNoIGRpcmVjdGlvblxuICAgICAgICAgICAgaWYgKHJpZ2h0RG93bikge1xuICAgICAgICAgICAgICBsZWZ0RG93biA9IHRydWVcbiAgICAgICAgICAgICAgcmlnaHREb3duID0gZmFsc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxlZnREb3duID0gZmFsc2VcbiAgICAgICAgICAgICAgcmlnaHREb3duID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyYW5kIDwgMC45KSB7XG4gICAgICAgICAgLy8gMjAlIGNoYW5jZSB0byBjb2FzdFxuICAgICAgICAgIGxlZnREb3duID0gZmFsc2VcbiAgICAgICAgICByaWdodERvd24gPSBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIDEwJSBjaGFuY2UgdG8gcHJlc3MgcmFuZG9tXG4gICAgICAgICAgLy8gKG1heWJlIGJvdGgsIG1heWJlIG9uZSlcbiAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuICAgICAgICAgICAgbGVmdERvd24gPSB0cnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJpZ2h0RG93biA9IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgO1t0YXJnZXRTaW5zW2ldLCB0YXJnZXRWZWxzW2ldXSA9IHVwZGF0ZURpcmVjdGlvbihcbiAgICAgIGxlZnREb3duLFxuICAgICAgcmlnaHREb3duLFxuICAgICAgdGFyZ2V0U2luc1tpIC0gMV0sXG4gICAgICB0YXJnZXRWZWxzW2kgLSAxXVxuICAgIClcbiAgfVxuICAvLyByZXR1cm4gdGFyZ2V0U2luc1xuICByZXR1cm4gZ2xvYmFscy50YXJnZXRUeXBlID09PSBcInNpblwiID8gdGFyZ2V0U2lucyA6IHRhcmdldFZlbHNcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVUYXJnZXRBcnJheXMoKSB7XG4gIGNvbnN0IHRhcmdldEFycmF5cyA9IFtdXG4gIGZvciAobGV0IHR3aXRjaGluZXNzIG9mIGdsb2JhbHMudHdpdGNoaW5lc3Nlcykge1xuICAgIHRhcmdldEFycmF5cy5wdXNoKGdlbmVyYXRlRXBpc29kZVRhcmdldHModHdpdGNoaW5lc3MpKVxuICB9XG4gIHJldHVybiB0YXJnZXRBcnJheXNcbn1cblxuZnVuY3Rpb24gZ2V0Q3JlYXR1cmVzUGVyV29ya2VyKG5fZGltKSB7XG4gIHJldHVybiBNYXRoLmNlaWwoXG4gICAgKDQgKyBNYXRoLmZsb29yKDMgKiBNYXRoLmxvZyhuX2RpbSkpKSAqXG4gICAgICAoZ2xvYmFscy5tdWx0aXBsaWVyIC8gZ2xvYmFscy5uV29ya2VycylcbiAgKSAvLyAoZXEuIDQ4KVxufVxuXG4vLyBmdW5jdGlvbiBnZXREZWZhdWx0Q01BUG9wc2l6ZShuX2RpbSkge1xuLy8gICByZXR1cm4gNCArIE1hdGguZmxvb3IoMyAqIE1hdGgubG9nKG5fZGltKSkgLy8gKGVxLiA0OClcbi8vIH1cblxuZnVuY3Rpb24gZ2V0UG9wc2l6ZXMobl9kaW0pIHtcbiAgY29uc3QgZGVmYXVsdFBvcFNpemUgPSBnZXREZWZhdWx0Q01BUG9wc2l6ZShuX2RpbSksXG4gICAgY21hUG9wU2l6ZSA9XG4gICAgICBnbG9iYWxzLm5Xb3JrZXJzICpcbiAgICAgIE1hdGguY2VpbCgoZ2xvYmFscy5tdWx0aXBsaWVyICogZGVmYXVsdFBvcFNpemUpIC8gZ2xvYmFscy5uV29ya2VycyksXG4gICAgdG90YWxQb3BTaXplID0gY21hUG9wU2l6ZSAqIGdsb2JhbHMudHdpdGNoaW5lc3Nlcy5sZW5ndGgsXG4gICAgc2ltdWxhdGlvblBvcFNpemUgPSB0b3RhbFBvcFNpemUgLyBnbG9iYWxzLm5Xb3JrZXJzXG4gIHJldHVybiB7IGNtYVBvcFNpemUsIHRvdGFsUG9wU2l6ZSwgc2ltdWxhdGlvblBvcFNpemUgfVxufVxuIiwiaW1wb3J0IHsgZ2xvYmFscyB9IGZyb20gXCIuL2dsb2JhbHMuanNcIlxuaW1wb3J0IHsgcmFuZF9ub3JtYWwgfSBmcm9tIFwiLi9yYW5kb21fbm9ybWFsLmpzXCJcblxuY2xhc3MgVGlwcHkge1xuICBjb25zdHJ1Y3Rvcih3aGVlbFBvc0luaXQsIHdvcmxkLCBiMiwgcG9wdWxhdGlvbikge1xuICAgIHRoaXMucG9wdWxhdGlvbiA9IHBvcHVsYXRpb25cbiAgICBjb25zb2xlLmFzc2VydCh3aGVlbFBvc0luaXQubGVuZ3RoID09IDIsIFwiVGlwcHkgcmVxdWlyZXMgMmQgd2hlZWxQb3NcIilcbiAgICAvLyB0aGlzLndoZWVsUG9zSW5pdCA9IHdoZWVsUG9zSW5pdC5zbGljZSgpXG4gICAgdGhpcy53aGVlbFIgPSAwLjI1XG4gICAgdGhpcy53aGVlbFBvc0luaXQgPSBbd2hlZWxQb3NJbml0WzBdLCB3aGVlbFBvc0luaXRbMV0gLSB0aGlzLndoZWVsUl1cbiAgICBjb25zdCB3aGVlbEZyaWN0aW9uID0gMC45LFxuICAgICAgd2hlZWxEZW5zaXR5ID0gMC41LFxuICAgICAgd2hlZWxSZXN0aXR1dGlvbiA9IDAuMSxcbiAgICAgIGNoYXNzaXNEZW5zaXR5ID0gMi4wXG4gICAgdGhpcy5jaGFzc2lzSCA9IDEuMFxuICAgIHRoaXMuY2hhc3Npc1cgPSAwLjNcbiAgICB0aGlzLmF4bGVPZmZzZXRZID0gMC4xXG5cbiAgICAvLyBjcmVhdGUgd2hlZWxcbiAgICB7XG4gICAgICBjb25zdCBiZCA9IG5ldyBiMi5iMkJvZHlEZWYoKVxuICAgICAgYmQuc2V0X3R5cGUoYjIuYjJfZHluYW1pY0JvZHkpXG4gICAgICBiZC5zZXRfcG9zaXRpb24obmV3IGIyLmIyVmVjMiguLi50aGlzLndoZWVsUG9zSW5pdCkpXG4gICAgICB0aGlzLndoZWVsQm9keSA9IHdvcmxkLkNyZWF0ZUJvZHkoYmQpXG5cbiAgICAgIGNvbnN0IHNoYXBlID0gbmV3IGIyLmIyQ2lyY2xlU2hhcGUoKVxuICAgICAgc2hhcGUuc2V0X21fcmFkaXVzKHRoaXMud2hlZWxSKVxuXG4gICAgICBjb25zdCBmZCA9IG5ldyBiMi5iMkZpeHR1cmVEZWYoKVxuICAgICAgZmQuc2V0X3NoYXBlKHNoYXBlKVxuICAgICAgZmQuc2V0X2RlbnNpdHkod2hlZWxEZW5zaXR5KVxuICAgICAgZmQuc2V0X2ZyaWN0aW9uKHdoZWVsRnJpY3Rpb24pXG4gICAgICBmZC5zZXRfcmVzdGl0dXRpb24od2hlZWxSZXN0aXR1dGlvbilcblxuICAgICAgY29uc3QgZmlsdGVyID0gZmQuZ2V0X2ZpbHRlcigpXG4gICAgICBmaWx0ZXIuc2V0X2NhdGVnb3J5Qml0cygweDAwMDIpXG4gICAgICBmaWx0ZXIuc2V0X21hc2tCaXRzKDB4MDAwMSlcbiAgICAgIGZkLnNldF9maWx0ZXIoZmlsdGVyKVxuICAgICAgY29uc3QgZml4dHVyZSA9IGIyLmNhc3RPYmplY3QoXG4gICAgICAgIHRoaXMud2hlZWxCb2R5LkNyZWF0ZUZpeHR1cmUoZmQpLFxuICAgICAgICBiMi5iMkZpeHR1cmVcbiAgICAgIClcbiAgICAgIGZpeHR1cmUucGFydFR5cGUgPSBcIndoZWVsXCJcbiAgICAgIGZpeHR1cmUuc3BvdCA9IHRoaXNcblxuICAgICAgdGhpcy53aGVlbE1hc3MgPSB0aGlzLndoZWVsQm9keS5HZXRNYXNzKClcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgY2hhc3Npc1xuICAgIHtcbiAgICAgIGNvbnN0IGVkZ2VYID0gMC41ICogdGhpcy5jaGFzc2lzVyxcbiAgICAgICAgZWRnZVkgPSAwLjUgKiB0aGlzLmNoYXNzaXNILFxuICAgICAgICBjdXRvdXRYID0gMC4yICogdGhpcy5jaGFzc2lzVyxcbiAgICAgICAgY3V0b3V0WSA9IDAuMzUgKiB0aGlzLmNoYXNzaXNIXG5cbiAgICAgIHRoaXMuY2hhc3Npc1ZlcnRpY2VzID0gW1xuICAgICAgICBbK2VkZ2VYLCAtZWRnZVldLFxuICAgICAgICBbLWVkZ2VYLCAtZWRnZVldLFxuICAgICAgICBbLWVkZ2VYLCArY3V0b3V0WV0sXG4gICAgICAgIFstY3V0b3V0WCwgK2VkZ2VZXSxcbiAgICAgICAgWytjdXRvdXRYLCArZWRnZVldLFxuICAgICAgICBbK2VkZ2VYLCArY3V0b3V0WV0sXG4gICAgICBdXG5cbiAgICAgIGNvbnN0IGIyQ2hhc3Npc1ZlcnRpY2VzID0gW11cbiAgICAgIGZvciAobGV0IHZlcnRleCBvZiB0aGlzLmNoYXNzaXNWZXJ0aWNlcykge1xuICAgICAgICBiMkNoYXNzaXNWZXJ0aWNlcy5wdXNoKFxuICAgICAgICAgIG5ldyBiMi5iMlZlYzIoXG4gICAgICAgICAgICB2ZXJ0ZXhbMF0gKyB0aGlzLndoZWVsUG9zSW5pdFswXSxcbiAgICAgICAgICAgIHZlcnRleFsxXSArIHRoaXMud2hlZWxQb3NJbml0WzFdXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2hhc3Npc1Bvc0luaXQgPSBbXG4gICAgICAgIHRoaXMud2hlZWxQb3NJbml0WzBdLFxuICAgICAgICB0aGlzLndoZWVsUG9zSW5pdFsxXSAtIDAuNSAqIHRoaXMuY2hhc3Npc0ggKyB0aGlzLmF4bGVPZmZzZXRZLFxuICAgICAgXVxuICAgICAgY29uc3QgYmQgPSBuZXcgYjIuYjJCb2R5RGVmKClcbiAgICAgIGJkLnNldF90eXBlKGIyLmIyX2R5bmFtaWNCb2R5KVxuICAgICAgYmQuc2V0X3Bvc2l0aW9uKG5ldyBiMi5iMlZlYzIoLi4udGhpcy5jaGFzc2lzUG9zSW5pdCkpXG4gICAgICAvLyBiZC5zZXRfbGluZWFyRGFtcGluZygwLjEpXG4gICAgICAvLyBiZC5zZXRfYW5ndWxhckRhbXBpbmcoMC4xKVxuICAgICAgdGhpcy5jaGFzc2lzQm9keSA9IHdvcmxkLkNyZWF0ZUJvZHkoYmQpXG4gICAgICBjb25zdCBzaGFwZSA9IHRoaXMuYjJDcmVhdGVQb2x5Z29uU2hhcGUoYjJDaGFzc2lzVmVydGljZXMsIGIyKVxuICAgICAgY29uc3QgZmQgPSBuZXcgYjIuYjJGaXh0dXJlRGVmKClcbiAgICAgIGNvbnN0IGZpbHRlciA9IGZkLmdldF9maWx0ZXIoKVxuICAgICAgZmlsdGVyLnNldF9jYXRlZ29yeUJpdHMoMHgwMDAyKVxuICAgICAgZmlsdGVyLnNldF9tYXNrQml0cygweDAwMDEpXG4gICAgICBmZC5zZXRfZmlsdGVyKGZpbHRlcilcbiAgICAgIGZkLnNldF9kZW5zaXR5KGNoYXNzaXNEZW5zaXR5KVxuICAgICAgZmQuc2V0X3NoYXBlKHNoYXBlKVxuICAgICAgLy8gZmQuc2V0X2ZyaWN0aW9uKDAuMylcbiAgICAgIC8vIGZkLnNldF9yZXN0aXR1dGlvbigwLjEpXG4gICAgICBjb25zdCBmaXh0dXJlID0gYjIuY2FzdE9iamVjdChcbiAgICAgICAgdGhpcy5jaGFzc2lzQm9keS5DcmVhdGVGaXh0dXJlKGZkKSxcbiAgICAgICAgYjIuYjJGaXh0dXJlXG4gICAgICApXG4gICAgICBmaXh0dXJlLnBhcnRUeXBlID0gXCJjaGFzc2lzXCJcbiAgICAgIGZpeHR1cmUuc3BvdCA9IHRoaXNcbiAgICAgIHRoaXMuY2hhc3Npc01hc3MgPSB0aGlzLmNoYXNzaXNCb2R5LkdldE1hc3MoKVxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBqb2ludFxuICAgIHtcbiAgICAgIGNvbnN0IGpkID0gbmV3IGIyLmIyUmV2b2x1dGVKb2ludERlZigpXG4gICAgICBqZC5Jbml0aWFsaXplKFxuICAgICAgICB0aGlzLndoZWVsQm9keSxcbiAgICAgICAgdGhpcy5jaGFzc2lzQm9keSxcbiAgICAgICAgbmV3IGIyLmIyVmVjMiguLi50aGlzLndoZWVsUG9zSW5pdClcbiAgICAgIClcblxuICAgICAgamQuc2V0X2VuYWJsZU1vdG9yKHRydWUpXG4gICAgICBqZC5zZXRfbWF4TW90b3JUb3JxdWUoZ2xvYmFscy5tYXhUb3JxdWUpXG4gICAgICB0aGlzLmF4bGUgPSBiMi5jYXN0T2JqZWN0KHdvcmxkLkNyZWF0ZUpvaW50KGpkKSwgYjIuYjJSZXZvbHV0ZUpvaW50KVxuICAgIH1cblxuICAgIHRoaXMuaW5wdXREaW0gPSB0aGlzLmdldElucHV0cygwKS5sZW5ndGhcbiAgICAvLyAvLyB0aGlzLnNoYXBlcyA9IFt0aGlzLmlucHV0RGltLCAxNiwgOCwgNF1cbiAgICAvLyAvLyB0aGlzLnNoYXBlcyA9IFt0aGlzLmlucHV0RGltLCAyMCwgMTAsIDRdXG4gICAgdGhpcy5zaGFwZXMgPSBbdGhpcy5pbnB1dERpbSwgMTIsIDgsIDFdXG5cbiAgICB0aGlzLm5fZGltID0gMFxuICAgIHRoaXMud2VpZ2h0Q291bnQgPSAwXG4gICAgdGhpcy5iaWFzQ291bnQgPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNoYXBlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLnNoYXBlc1tpXSxcbiAgICAgICAgbSA9IHRoaXMuc2hhcGVzW2kgKyAxXVxuICAgICAgdGhpcy5uX2RpbSArPSAobiArIDEpICogbVxuICAgICAgdGhpcy53ZWlnaHRDb3VudCArPSBuICogbVxuICAgICAgdGhpcy5iaWFzQ291bnQgKz0gbVxuICAgIH1cblxuICAgIHRoaXMucmVzZXQoYjIpXG4gIH1cblxuICBiMkNyZWF0ZVBvbHlnb25TaGFwZSh2ZXJ0aWNlcywgYjIpIHtcbiAgICBjb25zdCBzaGFwZSA9IG5ldyBiMi5iMlBvbHlnb25TaGFwZSgpXG4gICAgY29uc3QgYnVmZmVyID0gYjIuX21hbGxvYyh2ZXJ0aWNlcy5sZW5ndGggKiA4KVxuICAgIGxldCBvZmZzZXQgPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgYjIuSEVBUEYzMlsoYnVmZmVyICsgb2Zmc2V0KSA+PiAyXSA9IHZlcnRpY2VzW2ldLmdldF94KClcbiAgICAgIGIyLkhFQVBGMzJbKGJ1ZmZlciArIChvZmZzZXQgKyA0KSkgPj4gMl0gPSB2ZXJ0aWNlc1tpXS5nZXRfeSgpXG4gICAgICBvZmZzZXQgKz0gOFxuICAgIH1cbiAgICBjb25zdCBwdHJfd3JhcHBlZCA9IGIyLndyYXBQb2ludGVyKGJ1ZmZlciwgYjIuYjJWZWMyKVxuICAgIHNoYXBlLlNldChwdHJfd3JhcHBlZCwgdmVydGljZXMubGVuZ3RoKVxuICAgIHJldHVybiBzaGFwZVxuICB9XG5cbiAgc2V0V3RzKGZsYXRXdHMpIHtcbiAgICAvLyB0aGlzLmZsYXRXdHMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMubl9kaW0pLm1hcCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KVxuICAgIHRoaXMuZmxhdFd0cyA9IGZsYXRXdHNcbiAgICBsZXQgZmxhdFd0SWR4ID0gMFxuICAgIHRoaXMud2VpZ2h0cyA9IFtdXG4gICAgLy8gdGhpcy53ZWlnaHRDb3VudCA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2hhcGVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3QgbiA9IHRoaXMuc2hhcGVzW2ldLFxuICAgICAgICBtID0gdGhpcy5zaGFwZXNbaSArIDFdLFxuICAgICAgICBuZXdXZWlnaHQgPSBGbG9hdDMyQXJyYXkuZnJvbShcbiAgICAgICAgICB0aGlzLmZsYXRXdHMuc2xpY2UoZmxhdFd0SWR4LCBmbGF0V3RJZHggKyBuICogbSlcbiAgICAgICAgKVxuICAgICAgLy8gdGhpcy53ZWlnaHRDb3VudCArPSBuZXdXZWlnaHQubGVuZ3RoXG4gICAgICB0aGlzLndlaWdodHMucHVzaChuZXcgTWF0cml4KG5ld1dlaWdodCwgbiwgbSkpXG4gICAgICBmbGF0V3RJZHggKz0gbiAqIG1cbiAgICB9XG4gICAgdGhpcy5iaWFzZXMgPSBbXVxuICAgIC8vIHRoaXMuYmlhc0NvdW50ID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaGFwZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBjb25zdCBuID0gMSxcbiAgICAgICAgbSA9IHRoaXMuc2hhcGVzW2kgKyAxXSxcbiAgICAgICAgbmV3QmlhcyA9IEZsb2F0MzJBcnJheS5mcm9tKFxuICAgICAgICAgIHRoaXMuZmxhdFd0cy5zbGljZShmbGF0V3RJZHgsIGZsYXRXdElkeCArIG4gKiBtKVxuICAgICAgICApXG4gICAgICAvLyB0aGlzLmJpYXNDb3VudCArPSBuZXdCaWFzLmxlbmd0aFxuICAgICAgdGhpcy5iaWFzZXMucHVzaChuZXcgTWF0cml4KG5ld0JpYXMsIG4sIG0pKVxuICAgICAgZmxhdFd0SWR4ICs9IG4gKiBtXG4gICAgfVxuICB9XG5cbiAgcmVzZXQoYjIpIHtcbiAgICB0aGlzLmNoYXNzaXNCb2R5LlNldFRyYW5zZm9ybShuZXcgYjIuYjJWZWMyKC4uLnRoaXMuY2hhc3Npc1Bvc0luaXQpLCAwKVxuICAgIHRoaXMuY2hhc3Npc0JvZHkuU2V0TGluZWFyVmVsb2NpdHkobmV3IGIyLmIyVmVjMigwLCAwKSlcbiAgICB0aGlzLmNoYXNzaXNCb2R5LlNldEFuZ3VsYXJWZWxvY2l0eSgwKVxuICAgIHRoaXMuY2hhc3Npc0JvZHkuU2V0QXdha2UoMSlcblxuICAgIHRoaXMud2hlZWxCb2R5LlNldFRyYW5zZm9ybShuZXcgYjIuYjJWZWMyKC4uLnRoaXMud2hlZWxQb3NJbml0KSwgMClcbiAgICB0aGlzLndoZWVsQm9keS5TZXRMaW5lYXJWZWxvY2l0eShuZXcgYjIuYjJWZWMyKDAsIDApKVxuICAgIHRoaXMud2hlZWxCb2R5LlNldEFuZ3VsYXJWZWxvY2l0eSgwKVxuICAgIHRoaXMud2hlZWxCb2R5LlNldEF3YWtlKDEpXG5cbiAgICB0aGlzLnRhcmdldFNxRXJyU3VtID0gMFxuICAgIHRoaXMudGFyZ2V0UHJldiA9IG51bGxcblxuICAgIHRoaXMucHJldk91dHB1dCA9IDBcbiAgICB0aGlzLm91dHB1dERpZmZTcVN1bSA9IDBcblxuICAgIHRoaXMucHJldldoZWVsVmVsWCA9IDBcbiAgICB0aGlzLndoZWVsQWNjWCA9IDBcbiAgICB0aGlzLnByZXZDaGFzc2lzVmVsWCA9IDBcbiAgICB0aGlzLmNoYXNzaXNBY2NYID0gMFxuXG4gICAgdGhpcy5kcmlmdFhTcVN1bSA9IDBcbiAgICB0aGlzLmNyYXNoU3RlcENvdW50ID0gMFxuICB9XG5cbiAgdXBkYXRlVGFyZ2V0U2NvcmUodGFyZ2V0LCBjdXJyZW50KSB7XG4gICAgY29uc3QgZGlmZiA9IHRhcmdldCAtIGN1cnJlbnQsXG4gICAgICBkaWZmU3EgPSBkaWZmICogZGlmZixcbiAgICAgIGRlbm9tID0gTWF0aC5hYnModGFyZ2V0KSArIGdsb2JhbHMuc2NvcmVEZW5vbUVwc1xuICAgIC8vIHRoaXMudGFyZ2V0U3FFcnJTdW0gKz0gZGlmZlNxIC8gZGVub21cbiAgICB0aGlzLnRhcmdldFNxRXJyU3VtICs9IGdsb2JhbHMudGFyZ2V0VHlwZSA9PT0gXCJ2ZWxcIiA/IGRpZmZTcSA6IDFlMiAqIGRpZmZTcVxuICB9XG5cbiAgc2V0U3BlZWQoc3BlZWQpIHtcbiAgICB0aGlzLmF4bGUuU2V0TW90b3JTcGVlZChzcGVlZClcbiAgfVxuXG4gIGdldElucHV0cyh0YXJnZXQpIHtcbiAgICB0aGlzLnJldmVyc2UgPSB0YXJnZXQgIT0gMCA/IE1hdGguc2lnbih0YXJnZXQpIDogMVxuICAgIGxldCBpbnB1dHNcbiAgICBpZiAodGhpcy5pbnB1dERpbSAhPSBudWxsKSB7XG4gICAgICBpbnB1dHMgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuaW5wdXREaW0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0cyA9IFtdXG4gICAgfVxuICAgIGxldCBpID0gMFxuICAgIC8vIGVsZXZhdGlvblxuICAgIGNvbnN0IHdoZWVsUG9zID0gdGhpcy53aGVlbEJvZHkuR2V0UG9zaXRpb24oKSxcbiAgICAgIHdoZWVsWCA9IHdoZWVsUG9zLmdldF94KCksXG4gICAgICB3aGVlbFkgPSB3aGVlbFBvcy5nZXRfeSgpXG4gICAgLy8gICBpbnRlcnBZID0gaW50ZXJwVGVycmFpblkod2hlZWxYLCB0aGlzLnBvcHVsYXRpb24udGVycmFpblB0cylcbiAgICAvLyB0aGlzLnlDbGVhcmFuY2UgPSBpbnRlcnBZIC0gd2hlZWxZIC0gdGhpcy53aGVlbFJcbiAgICAvLyBpbnB1dHNbaV0gPSB0aGlzLnlDbGVhcmFuY2VcbiAgICAvLyBpKytcbiAgICB0aGlzLmxpZGFyWXMgPSBbXVxuICAgIGZvciAobGV0IHhPZmYgb2YgZ2xvYmFscy54T2Zmcykge1xuICAgICAgY29uc3QgbGlkYXJZID1cbiAgICAgICAgaW50ZXJwVGVycmFpblkoXG4gICAgICAgICAgd2hlZWxYICsgdGhpcy5yZXZlcnNlICogeE9mZixcbiAgICAgICAgICB0aGlzLnBvcHVsYXRpb24udGVycmFpblB0c1xuICAgICAgICApIC1cbiAgICAgICAgd2hlZWxZIC1cbiAgICAgICAgdGhpcy53aGVlbFJcbiAgICAgIHRoaXMubGlkYXJZcy5wdXNoKGxpZGFyWSlcbiAgICAgIGlucHV0c1tpXSA9IGxpZGFyWVxuICAgICAgaSsrXG4gICAgfVxuXG4gICAgLy8gY2hhc3Npc1NpblxuICAgIGNvbnN0IGNoYXNzaXNTaW4gPSBNYXRoLnNpbih0aGlzLmNoYXNzaXNCb2R5LkdldEFuZ2xlKCkpXG4gICAgaW5wdXRzW2ldID0gdGhpcy5yZXZlcnNlICogY2hhc3Npc1NpblxuICAgIGkrK1xuICAgIGlmIChNYXRoLmFicyhjaGFzc2lzU2luKSA+IGdsb2JhbHMuY3Jhc2hTaW5MaW1pdCkge1xuICAgICAgdGhpcy5jcmFzaFN0ZXBDb3VudCsrXG4gICAgfVxuICAgIC8vIGNoYXNzaXNWZWxYLCBjaGFzc2lzVmVsWVxuICAgIGNvbnN0IGNoYXNzaXNWZWwgPSB0aGlzLmNoYXNzaXNCb2R5LkdldExpbmVhclZlbG9jaXR5KCksXG4gICAgICBjaGFzc2lzVmVsWCA9IGNoYXNzaXNWZWwuZ2V0X3goKVxuICAgIHRoaXMuY2hhc3Npc0FjY1ggPSBjaGFzc2lzVmVsWCAtIHRoaXMucHJldkNoYXNzaXNWZWxYXG4gICAgdGhpcy5wcmV2Q2hhc3Npc1ZlbFggPSBjaGFzc2lzVmVsWFxuICAgIC8vIGlucHV0c1tpXSA9IHRoaXMucmV2ZXJzZSAqIGNoYXNzaXNWZWwuZ2V0X3goKVxuICAgIC8vIGkrK1xuICAgIC8vIGlucHV0c1tpXSA9IGNoYXNzaXNWZWwuZ2V0X3koKVxuICAgIC8vIGkrK1xuICAgIC8vIGNoYXNzaXNBbmdWZWxcbiAgICBpZiAodGFyZ2V0ID09IDApIHtcbiAgICAgIHRoaXMuZHJpZnRYU3FTdW0gKz0gdGhpcy5jaGFzc2lzQWNjWCAqIHRoaXMuY2hhc3Npc0FjY1hcbiAgICB9XG4gICAgY29uc3QgY2hhc3Npc0FuZ1ZlbCA9IHRoaXMuY2hhc3Npc0JvZHkuR2V0QW5ndWxhclZlbG9jaXR5KClcbiAgICBpbnB1dHNbaV0gPSB0aGlzLnJldmVyc2UgKiBjaGFzc2lzQW5nVmVsXG4gICAgaSsrXG4gICAgLy8gd2hlZWxWZWxYLCB3aGVlbFZlbFlcbiAgICBjb25zdCB3aGVlbFZlbCA9IHRoaXMud2hlZWxCb2R5LkdldExpbmVhclZlbG9jaXR5KCksXG4gICAgICB3aGVlbFZlbFggPSB3aGVlbFZlbC5nZXRfeCgpXG4gICAgdGhpcy53aGVlbEFjY1ggPSB3aGVlbFZlbFggLSB0aGlzLnByZXZXaGVlbFZlbFhcbiAgICB0aGlzLnByZXZXaGVlbFZlbFggPSB3aGVlbFZlbFhcbiAgICBpbnB1dHNbaV0gPSB0aGlzLnJldmVyc2UgKiB3aGVlbFZlbFhcbiAgICBpKytcbiAgICBpbnB1dHNbaV0gPSB3aGVlbFZlbC5nZXRfeSgpXG4gICAgaSsrXG4gICAgLy8gd2hlZWxBbmdWZWxcbiAgICBjb25zdCB3aGVlbEFuZ1ZlbCA9IHRoaXMud2hlZWxCb2R5LkdldEFuZ3VsYXJWZWxvY2l0eSgpXG4gICAgaW5wdXRzW2ldID0gdGhpcy5yZXZlcnNlICogd2hlZWxBbmdWZWxcbiAgICBpKytcbiAgICBjb25zdCBheGxlUnhuID0gdGhpcy5heGxlLkdldFJlYWN0aW9uRm9yY2UoNjApXG4gICAgaW5wdXRzW2ldID0gMWUtMiAqIHRoaXMucmV2ZXJzZSAqIGF4bGVSeG4uZ2V0X3goKVxuICAgIGkrK1xuICAgIGlucHV0c1tpXSA9IDFlLTIgKiBheGxlUnhuLmdldF95KClcbiAgICBpKytcbiAgICAvLyB0YXJnZXRcbiAgICBpbnB1dHNbaV0gPSB0aGlzLnJldmVyc2UgKiB0YXJnZXRcbiAgICBpKytcblxuICAgIGlmICh0aGlzLnRhcmdldFByZXYgIT09IG51bGwpIHtcbiAgICAgIGlmIChnbG9iYWxzLnRhcmdldFR5cGUgPT09IFwic2luXCIpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXRTY29yZSh0aGlzLnRhcmdldFByZXYsIGNoYXNzaXNTaW4pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnVwZGF0ZVRhcmdldFNjb3JlKHRoaXMudGFyZ2V0UHJldiwgd2hlZWxWZWxYKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnRhcmdldFByZXYgPSB0YXJnZXRcblxuICAgIHJldHVybiBpbnB1dHNcbiAgfVxuXG4gIHVwZGF0ZSh0YXJnZXQpIHtcbiAgICBjb25zdCBpbnB1dHNBcnJheSA9IHRoaXMuZ2V0SW5wdXRzKHRhcmdldClcbiAgICBjb25zdCBpbnB1dHNNYXRyaXggPSBuZXcgTWF0cml4KGlucHV0c0FycmF5LCAxLCBpbnB1dHNBcnJheS5sZW5ndGgpXG4gICAgY29uc3Qgb3V0cHV0UmF3ID0gaW5wdXRzTWF0cml4XG4gICAgICAvLyBjb25zdCBzcGVlZHMgPSBpbnB1dHNcbiAgICAgIC5tdWwodGhpcy53ZWlnaHRzWzBdKVxuICAgICAgLmFkZCh0aGlzLmJpYXNlc1swXSlcbiAgICAgIC8vIC5yZWx1KClcbiAgICAgIC8vIC5sZWFreVJlbHUoKVxuICAgICAgLmxlYWt5RWx1KClcbiAgICAgIC5tdWwodGhpcy53ZWlnaHRzWzFdKVxuICAgICAgLmFkZCh0aGlzLmJpYXNlc1sxXSlcbiAgICAgIC8vIC5yZWx1KClcbiAgICAgIC8vIC5sZWFreVJlbHUoKVxuICAgICAgLmxlYWt5RWx1KClcbiAgICAgIC5tdWwodGhpcy53ZWlnaHRzWzJdKVxuICAgICAgLmFkZCh0aGlzLmJpYXNlc1syXSkuZGF0YVswXVxuXG4gICAgLy8gY29uc3QgcmV2ZXJzZSA9IHRhcmdldCAhPSAwID8gTWF0aC5zaWduKHRhcmdldCkgOiAxLFxuICAgIGNvbnN0IG91dHB1dCA9IHRoaXMucmV2ZXJzZSAqIG91dHB1dFJhd1xuICAgIHRoaXMuc2V0U3BlZWQob3V0cHV0KVxuXG4gICAgY29uc3Qgb3V0cHV0RGlmZiA9IG91dHB1dCAtIHRoaXMucHJldk91dHB1dFxuICAgIHRoaXMub3V0cHV0RGlmZlNxU3VtICs9IG91dHB1dERpZmYgKiBvdXRwdXREaWZmXG4gICAgdGhpcy5wcmV2T3V0cHV0ID0gb3V0cHV0XG4gIH1cblxuICBnZXQgZHJhd1Bvc2l0aW9uRGF0YSgpIHtcbiAgICAvLyByZXR1cm4ge1xuICAgIC8vICAgd2hlZWxQb3NDdXJyZW50OiB0aGlzLndoZWVsQm9keS5HZXRQb3NpdGlvbigpLFxuICAgIC8vICAgd2hlZWxBbmdsZUN1cnJlbnQ6IHRoaXMud2hlZWxCb2R5LkdldEFuZ2xlKCksXG4gICAgLy8gICBjaGFzc2lzUG9zQ3VycmVudDogdGhpcy5jaGFzc2lzQm9keS5HZXRQb3NpdGlvbigpLFxuICAgIC8vICAgY2hhc3Npc0FuZ2xlQ3VycmVudDogdGhpcy5jaGFzc2lzQm9keS5HZXRBbmdsZSgpLFxuICAgIC8vIH1cbiAgICBjb25zdCB3aGVlbFBvcyA9IHRoaXMud2hlZWxCb2R5LkdldFBvc2l0aW9uKCksXG4gICAgICBjaGFzc2lzUG9zID0gdGhpcy5jaGFzc2lzQm9keS5HZXRQb3NpdGlvbigpXG4gICAgcmV0dXJuIHtcbiAgICAgIHdoZWVsUG9zQ3VycmVudDogW3doZWVsUG9zLmdldF94KCksIHdoZWVsUG9zLmdldF95KCldLFxuICAgICAgd2hlZWxBbmdsZUN1cnJlbnQ6IHRoaXMud2hlZWxCb2R5LkdldEFuZ2xlKCksXG4gICAgICBjaGFzc2lzUG9zQ3VycmVudDogW2NoYXNzaXNQb3MuZ2V0X3goKSwgY2hhc3Npc1Bvcy5nZXRfeSgpXSxcbiAgICAgIGNoYXNzaXNBbmdsZUN1cnJlbnQ6IHRoaXMuY2hhc3Npc0JvZHkuR2V0QW5nbGUoKSxcbiAgICB9XG4gIH1cblxuICBnZXQgY29yckRhdGEoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1hdGguc2luKHRoaXMuY2hhc3Npc0JvZHkuR2V0QW5nbGUoKSksXG4gICAgICB0aGlzLndoZWVsQWNjWCxcbiAgICAgIHRoaXMuY2hhc3Npc0FjY1gsXG4gICAgXVxuICB9XG5cbiAgLy8gc2xlZXAoKSB7XG4gIC8vICAgZm9yIChsZXQgYm9keSBvZiBbXG4gIC8vICAgICB0aGlzLmNoYXNzaXNCb2R5LFxuICAvLyAgICAgdGhpcy51cHBlckZvcmVsZWdCb2R5LFxuICAvLyAgICAgdGhpcy5sb3dlckZvcmVsZWdCb2R5LFxuICAvLyAgICAgdGhpcy51cHBlckhpbmRsZWdCb2R5LFxuICAvLyAgICAgdGhpcy5sb3dlckhpbmRsZWdCb2R5LFxuICAvLyAgIF0pIHtcbiAgLy8gICAgIGJvZHkuU2V0QXdha2UoMClcbiAgLy8gICAgIC8vIGJvZHkuU2V0RW5hYmxlZCgwKVxuICAvLyAgIH1cbiAgLy8gfVxufVxuXG5jbGFzcyBNYXRyaXgge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBtLCBuKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YVxuICAgIHRoaXMubSA9IG1cbiAgICB0aGlzLm4gPSBuXG4gIH1cblxuICBtdWwob3RoZXIpIHtcbiAgICBjb25zdCBhID0gdGhpcy5kYXRhLFxuICAgICAgYiA9IG90aGVyLmRhdGEsXG4gICAgICBtID0gdGhpcy5tLFxuICAgICAgbiA9IHRoaXMubixcbiAgICAgIHAgPSBvdGhlci5uLFxuICAgICAgYyA9IG5ldyBGbG9hdDMyQXJyYXkobmV3IEFycmF5QnVmZmVyKDQgKiBtICogcCkpXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBwOyBqKyspIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbTsgaSsrKSB7XG4gICAgICAgIGxldCBzdW0gPSAwXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbjsgaysrKSB7XG4gICAgICAgICAgc3VtICs9IGFbaSAqIG4gKyBrXSAqIGJbayAqIHAgKyBqXVxuICAgICAgICB9XG4gICAgICAgIGNbaSAqIHAgKyBqXSA9IHN1bVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE1hdHJpeChjLCBtLCBwKVxuICB9XG5cbiAgYWRkKG90aGVyKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuZGF0YSxcbiAgICAgIGIgPSBvdGhlci5kYXRhLFxuICAgICAgbCA9IGEubGVuZ3RoLFxuICAgICAgYyA9IG5ldyBGbG9hdDMyQXJyYXkobmV3IEFycmF5QnVmZmVyKDQgKiBsKSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY1tpXSA9IGFbaV0gKyBiW2ldXG4gICAgfVxuICAgIHJldHVybiBuZXcgTWF0cml4KGMsIHRoaXMubSwgdGhpcy5uKVxuICB9XG5cbiAgcmVsdSgpIHtcbiAgICBjb25zdCBuID0gdGhpcy5kYXRhLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IHRoaXMuZGF0YS5zbGljZSgpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IE1hdGgubWF4KDAsIHJlc3VsdFtpXSlcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNYXRyaXgocmVzdWx0LCB0aGlzLm0sIHRoaXMubilcbiAgfVxuXG4gIGxlYWt5UmVsdSgpIHtcbiAgICBjb25zdCBuID0gdGhpcy5kYXRhLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IHRoaXMuZGF0YS5zbGljZSgpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IE1hdGgubWF4KDAuMSAqIHJlc3VsdFtpXSwgcmVzdWx0W2ldKVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE1hdHJpeChyZXN1bHQsIHRoaXMubSwgdGhpcy5uKVxuICB9XG5cbiAgZWx1KCkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmRhdGEubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gdGhpcy5kYXRhLnNsaWNlKClcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgaWYgKHJlc3VsdFtpXSA8IDApIHtcbiAgICAgICAgcmVzdWx0W2ldID0gTWF0aC5leHBtMShyZXN1bHRbaV0pXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgTWF0cml4KHJlc3VsdCwgdGhpcy5tLCB0aGlzLm4pXG4gIH1cblxuICBsZWFreUVsdSgpIHtcbiAgICBjb25zdCBuID0gdGhpcy5kYXRhLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IHRoaXMuZGF0YS5zbGljZSgpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmIChyZXN1bHRbaV0gPCAwKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IE1hdGguZXhwbTEocmVzdWx0W2ldKSArIDAuMSAqIHJlc3VsdFtpXVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE1hdHJpeChyZXN1bHQsIHRoaXMubSwgdGhpcy5uKVxuICB9XG59XG5cbmZ1bmN0aW9uIHZlY3Rvck5vcm1zKHZlY3RvcnMpIHtcbiAgY29uc3QgcmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheSh2ZWN0b3JzLmxlbmd0aCkuZmlsbCgwKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHZlY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB2ZWN0b3IgPSB2ZWN0b3JzW2ldLmRhdGFcbiAgICBmb3IgKGxldCB4IG9mIHZlY3Rvcikge1xuICAgICAgcmVzdWx0W2ldICs9IHggKiB4XG4gICAgfVxuICAgIC8vIHJlc3VsdFtpXSA9IE1hdGguc3FydChyZXN1bHRbaV0pXG4gICAgcmVzdWx0W2ldIC89IHZlY3Rvci5sZW5ndGhcbiAgfVxuICByZXR1cm4gcmVzdWx0XG59XG5cbmZ1bmN0aW9uIHJvd05vcm1UaGluZ3kobWF0KSB7XG4gIC8vIG06IHJvdyBjb3VudCwgbjogY29sdW1uIGNvdW50XG4gIGNvbnN0IHJvd0NvdW50ID0gbWF0Lm0sXG4gICAgY29sQ291bnQgPSBtYXQublxuICBsZXQgc3VtQWxsID0gMFxuICBjb25zdCByb3dTdW1zID0gbmV3IEZsb2F0MzJBcnJheShyb3dDb3VudCkuZmlsbCgwKSxcbiAgICBjb2xTdW1zID0gbmV3IEZsb2F0MzJBcnJheShjb2xDb3VudCkuZmlsbCgwKVxuICAvLyByb3cgaWR4XG4gIGZvciAobGV0IHJvd0lkeCA9IDA7IHJvd0lkeCA8IHJvd0NvdW50OyByb3dJZHgrKykge1xuICAgIC8vIGNvbCBpZHhcbiAgICBmb3IgKGxldCBjb2xJZHggPSAwOyBjb2xJZHggPCBjb2xDb3VudDsgY29sSWR4KyspIHtcbiAgICAgIGNvbnN0IHZhbCA9IG1hdC5kYXRhW3Jvd0lkeCAqIGNvbENvdW50ICsgY29sSWR4XSxcbiAgICAgICAgdmFsU3EgPSB2YWwgKiB2YWxcbiAgICAgIC8vIHJvd1N1bXNbcm93SWR4XSArPSBNYXRoLmFicyh2YWwpXG4gICAgICByb3dTdW1zW3Jvd0lkeF0gKz0gdmFsU3FcbiAgICAgIC8vIGNvbFN1bXNbY29sSWR4XSArPSBNYXRoLmFicyh2YWwpXG4gICAgICBjb2xTdW1zW2NvbElkeF0gKz0gdmFsU3FcbiAgICAgIHN1bUFsbCArPSB2YWxTcVxuICAgIH1cbiAgfVxuICBzdW1BbGwgLz0gcm93Q291bnQgKiBjb2xDb3VudFxuICBsZXQgc3VtUm93cyA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dDb3VudDsgaSsrKSB7XG4gICAgY29uc3QgdmFsID0gcm93U3Vtc1tpXSAvIGNvbENvdW50XG4gICAgc3VtUm93cyArPSB2YWwgKiB2YWxcbiAgfVxuICBzdW1Sb3dzIC89IHJvd0NvdW50XG4gIGxldCBzdW1Db2xzID0gMFxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbENvdW50OyBpKyspIHtcbiAgICBjb25zdCB2YWwgPSBjb2xTdW1zW2ldIC8gcm93Q291bnRcbiAgICBzdW1Db2xzICs9IHZhbCAqIHZhbFxuICB9XG4gIHN1bUNvbHMgLz0gY29sQ291bnRcblxuICAvLyByZXR1cm4gc3VtQWxsICsgMC4xICogc3VtUm93cyArIDEuMCAqIHN1bUNvbHNcbiAgcmV0dXJuIHN1bUFsbFxufVxuXG5leHBvcnQgY2xhc3MgUG9wdWxhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHdoZWVsUG9zSW5pdCwgblRpcHB5cywgdGVycmFpblB0cywgYjIpIHtcbiAgICB0aGlzLndoZWVsUG9zSW5pdCA9IHdoZWVsUG9zSW5pdC5zbGljZSgpXG5cbiAgICB7XG4gICAgICBjb25zdCBncmF2aXR5ID0gbmV3IGIyLmIyVmVjMigwLCA5LjgxKVxuICAgICAgdGhpcy53b3JsZCA9IG5ldyBiMi5iMldvcmxkKGdyYXZpdHkpXG4gICAgfVxuXG4gICAgdGhpcy5iMiA9IGIyXG4gICAgdGhpcy50ZXJyYWluUHRzID0gdGVycmFpblB0c1xuXG4gICAgLy8gYWRkIGdyb3VuZFxuICAgIHtcbiAgICAgIGNvbnN0IGdyb3VuZEJvZHkgPSB0aGlzLndvcmxkLkNyZWF0ZUJvZHkobmV3IGIyLmIyQm9keURlZigpKVxuXG4gICAgICBjb25zdCB0ZXJyYWluUHRzRmlsdGVyZWQgPSBbXVxuICAgICAgbGV0IHlEaWZmUHJldlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbG9iYWxzLm5UZXJyYWluUHRzOyBpKyspIHtcbiAgICAgICAgY29uc3QgeURpZmZDdXJyID0gdGVycmFpblB0c1tpICsgMV0gLSB0ZXJyYWluUHRzW2ldLFxuICAgICAgICAgIHNhbWVTbG9wZSA9IHlEaWZmQ3VyciA9PSB5RGlmZlByZXZcbiAgICAgICAgeURpZmZQcmV2ID0geURpZmZDdXJyXG4gICAgICAgIGlmIChzYW1lU2xvcGUgJiYgaSAhPSBnbG9iYWxzLm5UZXJyYWluUHRzIC0gMSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgdGVycmFpblB0c0ZpbHRlcmVkLnB1c2goW3RlcnJhaW5JZHhUb1hQb3MoaSksIHRlcnJhaW5QdHNbaV1dKVxuICAgICAgfVxuICAgICAgLy8gY29uc29sZS5sb2codGVycmFpblB0c0ZpbHRlcmVkLmxlbmd0aCwgZ2xvYmFscy5uVGVycmFpblB0cylcbiAgICAgIC8vIHJldmVyc2VkIGxvb3AgZm9yIENDVyB3aW5kaW5nIG9yZGVyIChCb3gyRClcbiAgICAgIGZvciAobGV0IGkgPSB0ZXJyYWluUHRzRmlsdGVyZWQubGVuZ3RoIC0gMTsgaSA+PSAxOyBpLS0pIHtcbiAgICAgICAgY29uc3QgZWRnZVNoYXBlID0gbmV3IGIyLmIyRWRnZVNoYXBlKClcbiAgICAgICAgZWRnZVNoYXBlLlNldFR3b1NpZGVkKFxuICAgICAgICAgIG5ldyBiMi5iMlZlYzIodGVycmFpblB0c0ZpbHRlcmVkW2ldWzBdLCB0ZXJyYWluUHRzRmlsdGVyZWRbaV1bMV0pLFxuICAgICAgICAgIG5ldyBiMi5iMlZlYzIoXG4gICAgICAgICAgICB0ZXJyYWluUHRzRmlsdGVyZWRbaSAtIDFdWzBdLFxuICAgICAgICAgICAgdGVycmFpblB0c0ZpbHRlcmVkW2kgLSAxXVsxXVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBncm91bmRGRCA9IG5ldyBiMi5iMkZpeHR1cmVEZWYoKVxuICAgICAgICBncm91bmRGRC5zZXRfc2hhcGUoZWRnZVNoYXBlKVxuICAgICAgICBncm91bmRGRC5zZXRfZnJpY3Rpb24oMC45KVxuICAgICAgICBncm91bmRGRC5zZXRfcmVzdGl0dXRpb24oMC4xKVxuICAgICAgICBjb25zdCBncm91bmRGaXh0dXJlID0gYjIuY2FzdE9iamVjdChcbiAgICAgICAgICBncm91bmRCb2R5LkNyZWF0ZUZpeHR1cmUoZ3JvdW5kRkQpLFxuICAgICAgICAgIGIyLmIyRml4dHVyZVxuICAgICAgICApXG4gICAgICB9XG4gICAgICAvLyBhZGQgd2FsbHNcbiAgICAgIGZvciAoY29uc3QgaWR4IG9mIFswLCBnbG9iYWxzLm5UZXJyYWluUHRzIC0gMV0pIHtcbiAgICAgICAgY29uc3QgW3gsIHldID0gW3RlcnJhaW5JZHhUb1hQb3MoaWR4KSwgdGVycmFpblB0c1tpZHhdXVxuICAgICAgICBjb25zdCBlZGdlU2hhcGUgPSBuZXcgYjIuYjJFZGdlU2hhcGUoKVxuICAgICAgICBlZGdlU2hhcGUuU2V0VHdvU2lkZWQoXG4gICAgICAgICAgbmV3IGIyLmIyVmVjMih4LCB5KSxcbiAgICAgICAgICBuZXcgYjIuYjJWZWMyKHgsIHkgLSBnbG9iYWxzLndhbGxIKVxuICAgICAgICApXG4gICAgICAgIGNvbnN0IGdyb3VuZEZEID0gbmV3IGIyLmIyRml4dHVyZURlZigpXG4gICAgICAgIGdyb3VuZEZELnNldF9zaGFwZShlZGdlU2hhcGUpXG4gICAgICAgIGdyb3VuZEZELnNldF9mcmljdGlvbigwLjkpXG4gICAgICAgIGdyb3VuZEZELnNldF9yZXN0aXR1dGlvbigwLjEpXG4gICAgICAgIGNvbnN0IGdyb3VuZEZpeHR1cmUgPSBiMi5jYXN0T2JqZWN0KFxuICAgICAgICAgIGdyb3VuZEJvZHkuQ3JlYXRlRml4dHVyZShncm91bmRGRCksXG4gICAgICAgICAgYjIuYjJGaXh0dXJlXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50aXBweXMgPSBbXVxuICAgIHRoaXMuYWRkVGlwcHlzKG5UaXBweXMpXG4gICAgdGhpcy5uX2RpbSA9IHRoaXMudGlwcHlzWzBdLm5fZGltXG4gIH1cblxuICByZXNldCgpIHtcbiAgICBmb3IgKGxldCB0aXBweSBvZiB0aGlzLnRpcHB5cykge1xuICAgICAgdGlwcHkucmVzZXQodGhpcy5iMilcbiAgICB9XG4gIH1cblxuICBhZGRUaXBweXMoblRpcHB5cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgblRpcHB5czsgaSsrKSB7XG4gICAgICB0aGlzLnRpcHB5cy5wdXNoKG5ldyBUaXBweSh0aGlzLndoZWVsUG9zSW5pdCwgdGhpcy53b3JsZCwgdGhpcy5iMiwgdGhpcykpXG4gICAgfVxuICB9XG5cbiAgc2V0V3RzKGZsYXRXdHMpIHtcbiAgICBsZXQgZmxhdFd0c0lkeCA9IDBcbiAgICBmb3IgKGxldCB0aXBweSBvZiB0aGlzLnRpcHB5cykge1xuICAgICAgdGlwcHkuc2V0V3RzKGZsYXRXdHMuc2xpY2UoZmxhdFd0c0lkeCwgZmxhdFd0c0lkeCArIHRoaXMubl9kaW0pKVxuICAgICAgZmxhdFd0c0lkeCArPSB0aGlzLm5fZGltXG4gICAgfVxuICB9XG5cbiAgdHJhaW4oeyB0YXJnZXRzLCBzb2x1dGlvbnMgfSkge1xuICAgIC8vIGFzc2lnbiBzb2x1dGlvbiBhbmQgdGFyZ2V0IHRvIGVhY2ggdGlwcHlcbiAgICBjb25zdCBuU29sdXRpb25zID0gc29sdXRpb25zLmxlbmd0aCAvIHRoaXMubl9kaW1cbiAgICBpZiAodGhpcy50aXBweXMubGVuZ3RoIDwgblNvbHV0aW9ucyAqIHRhcmdldHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmFkZFRpcHB5cyhuU29sdXRpb25zICogdGFyZ2V0cy5sZW5ndGggLSB0aGlzLnRpcHB5cy5sZW5ndGgpXG4gICAgfVxuICAgIGxldCBmbGF0V3RzSWR4ID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgblNvbHV0aW9uczsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRhcmdldHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgdGlwcHkgPSB0aGlzLnRpcHB5c1tpICogdGFyZ2V0cy5sZW5ndGggKyBqXVxuICAgICAgICB0aXBweS5zZXRXdHMoc29sdXRpb25zLnNsaWNlKGZsYXRXdHNJZHgsIGZsYXRXdHNJZHggKyB0aGlzLm5fZGltKSlcbiAgICAgICAgdGlwcHkudGFyZ2V0SWR4ID0galxuICAgICAgfVxuICAgICAgZmxhdFd0c0lkeCArPSB0aGlzLm5fZGltXG4gICAgfVxuICAgIC8vIHNpbXVsYXRlIHVzaW5nIG9uZSB0YXJnZXQgcGVyIHNvbHV0aW9uXG4gICAgdGhpcy5yZXNldCgpXG4gICAgZm9yIChsZXQgc3RlcCA9IDA7IHN0ZXAgPCB0YXJnZXRzWzBdLmxlbmd0aDsgc3RlcCsrKSB7XG4gICAgICBmb3IgKGxldCB0aXBweSBvZiB0aGlzLnRpcHB5cykge1xuICAgICAgICB0aXBweS51cGRhdGUodGFyZ2V0c1t0aXBweS50YXJnZXRJZHhdW3N0ZXBdKVxuICAgICAgfVxuICAgICAgdGhpcy53b3JsZC5TdGVwKGdsb2JhbHMudHMsIDgsIDMpXG4gICAgfVxuICAgIC8vIHNjb3JlIHNvbHV0aW9ucyBhZnRlciBzaW11bGF0aW9uXG4gICAgY29uc3Qgc29sdXRpb25zU2NvcmVzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5Tb2x1dGlvbnM7IGkrKykge1xuICAgICAgY29uc3QgdGlwcHkwID0gdGhpcy50aXBweXNbaSAqIHRhcmdldHMubGVuZ3RoXSxcbiAgICAgICAgc29sdXRpb24gPSB0aXBweTAuZmxhdFd0c1xuICAgICAgbGV0IHd0c05vcm0gPSAwXG4gICAgICBmb3IgKGxldCB3dExheWVyIG9mIHRpcHB5MC53ZWlnaHRzKSB7XG4gICAgICAgIGZvciAobGV0IHd0IG9mIHd0TGF5ZXIuZGF0YSkge1xuICAgICAgICAgIHd0c05vcm0gKz0gd3QgKiB3dFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3dHNOb3JtIC89IHRpcHB5MC53ZWlnaHRDb3VudFxuICAgICAgbGV0IGJpYXNOb3JtID0gMFxuICAgICAgZm9yIChsZXQgYmlhc0xheWVyIG9mIHRpcHB5MC5iaWFzZXMpIHtcbiAgICAgICAgZm9yIChsZXQgYmlhcyBvZiBiaWFzTGF5ZXIuZGF0YSkge1xuICAgICAgICAgIGJpYXNOb3JtICs9IGJpYXMgKiBiaWFzXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJpYXNOb3JtIC89IHRpcHB5MC5iaWFzQ291bnRcbiAgICAgIGNvbnN0IHRhc2tTY29yZXMgPSBbXVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0YXJnZXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHRhc2tUaXBweSA9IHRoaXMudGlwcHlzW2kgKiB0YXJnZXRzLmxlbmd0aCArIGpdLFxuICAgICAgICAgIG1zZSA9IHRhc2tUaXBweS50YXJnZXRTcUVyclN1bSAvIGdsb2JhbHMuZXBMZW4sXG4gICAgICAgICAgY3Jhc2hlZFJhdGlvID0gdGFza1RpcHB5LmNyYXNoU3RlcENvdW50IC8gZ2xvYmFscy5lcExlbixcbiAgICAgICAgICBkcmlmdFggPSB0YXNrVGlwcHkuZHJpZnRYU3FTdW0gLyBnbG9iYWxzLmVwTGVuXG4gICAgICAgIHRhc2tTY29yZXMucHVzaCh7IG1zZSwgY3Jhc2hlZFJhdGlvLCBkcmlmdFggfSlcbiAgICAgIH1cbiAgICAgIC8vIHNvbHV0aW9uc1Njb3Jlcy5wdXNoKHsgc29sdXRpb24sIHNjb3JlIH0pXG4gICAgICBzb2x1dGlvbnNTY29yZXMucHVzaCh7IHNvbHV0aW9uLCB3dHNOb3JtLCBiaWFzTm9ybSwgdGFza1Njb3JlcyB9KVxuICAgIH1cbiAgICByZXR1cm4gc29sdXRpb25zU2NvcmVzXG4gIH1cblxuICB1cGRhdGUodGFyZ2V0cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50aXBweXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRpcHB5ID0gdGhpcy50aXBweXNbaV1cbiAgICAgIHRpcHB5LnVwZGF0ZSh0YXJnZXRzW2ldKVxuICAgIH1cbiAgICB0aGlzLndvcmxkLlN0ZXAoZ2xvYmFscy50cywgOCwgMylcbiAgfVxuXG4gIGRyYXcoc2NhbGUsIGNlbnRlcikge1xuICAgIGZvciAobGV0IHRpcHB5IG9mIHRoaXMudGlwcHlzKSB7XG4gICAgICB0aXBweS5kcmF3KHNjYWxlLCBjZW50ZXIpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEaXJlY3Rpb24obGQsIHJkLCBfdGFyZ2V0U2luLCBfdGFyZ2V0VmVsKSB7XG4gIC8vIG5vIGNoYW5nZSBpZiBib3RoIGtleXMgZG93blxuICBsZXQgdGFyZ2V0U2luID0gX3RhcmdldFNpbixcbiAgICB0YXJnZXRWZWwgPSBfdGFyZ2V0VmVsXG4gIGlmIChsZCAmJiByZCkge1xuICAgIHJldHVybiBbdGFyZ2V0U2luLCB0YXJnZXRWZWxdXG4gIH1cbiAgLy8gZGVjYXkgc2luIHRvd2FyZCB6ZXJvXG4gIGlmICh0YXJnZXRTaW4gIT0gMCkge1xuICAgIGlmIChNYXRoLmFicyh0YXJnZXRTaW4pIDwgZ2xvYmFscy5zaW5EZWNheSkge1xuICAgICAgdGFyZ2V0U2luID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRTaW4gLT0gTWF0aC5zaWduKHRhcmdldFNpbikgKiBnbG9iYWxzLnNpbkRlY2F5XG4gICAgfVxuICB9XG4gIC8vIGNoYW5nZSBpZiBvbmx5IG9uZSBrZXlcbiAgLy8gYW5kIGxpbWl0IG91dHB1dFxuICBpZiAobGQpIHtcbiAgICB0YXJnZXRTaW4gLT0gZ2xvYmFscy5zaW5TdGVwXG4gICAgaWYgKHRhcmdldFNpbiA8IC1nbG9iYWxzLnNpbkxpbSkge1xuICAgICAgdGFyZ2V0U2luID0gLWdsb2JhbHMuc2luTGltXG4gICAgfVxuICB9IGVsc2UgaWYgKHJkKSB7XG4gICAgdGFyZ2V0U2luICs9IGdsb2JhbHMuc2luU3RlcFxuICAgIGlmICh0YXJnZXRTaW4gPiBnbG9iYWxzLnNpbkxpbSkge1xuICAgICAgdGFyZ2V0U2luID0gZ2xvYmFscy5zaW5MaW1cbiAgICB9XG4gIH1cbiAgLy8gZGVjYXkgdmVsIHRvd2FyZCB6ZXJvXG4gIGlmICh0YXJnZXRWZWwgIT0gMCkge1xuICAgIGlmIChNYXRoLmFicyh0YXJnZXRWZWwpIDwgZ2xvYmFscy52ZWxEZWNheSkge1xuICAgICAgdGFyZ2V0VmVsID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRWZWwgLT0gTWF0aC5zaWduKHRhcmdldFZlbCkgKiBnbG9iYWxzLnZlbERlY2F5XG4gICAgfVxuICB9XG5cbiAgdGFyZ2V0VmVsICs9IDAuMTAyICogdGFyZ2V0U2luXG4gIGlmICh0YXJnZXRWZWwgPiBnbG9iYWxzLnZlbExpbSkge1xuICAgIHRhcmdldFZlbCA9IGdsb2JhbHMudmVsTGltXG4gIH0gZWxzZSBpZiAodGFyZ2V0VmVsIDwgLWdsb2JhbHMudmVsTGltKSB7XG4gICAgdGFyZ2V0VmVsID0gLWdsb2JhbHMudmVsTGltXG4gIH1cbiAgLy8gLy8gdXBkYXRlIHRlc3QgdHJpZ29ub21ldHJ5XG4gIC8vIGlmICh0YXJnZXRTaW4gIT0gdGFyZ2V0RGlyZWN0aW9uQmVmb3JlKSB7XG4gIC8vICAgdGFyZ2V0QW5nbGUgPSBNYXRoLmFzaW4odGFyZ2V0U2luKVxuICAvLyAgIHRhcmdldENvcyA9IE1hdGguY29zKHRhcmdldEFuZ2xlKVxuICAvLyB9XG4gIHJldHVybiBbdGFyZ2V0U2luLCB0YXJnZXRWZWxdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRlcnJhaW5QdHMoKSB7XG4gIGZ1bmN0aW9uIHRlcnJhaW5MUk9iamVjdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2xvcGVEaWZmOiAwLFxuICAgICAgc2xvcGU6IDAsXG4gICAgICB5OiAwLFxuICAgICAgeDogZ2xvYmFscy5ncm91bmREZXRhaWxJbnRlcnZhbCxcbiAgICAgIHhJZHg6IDEsXG4gICAgICAvLyByYW5kVmFsczogcmFuZF9ub3JtYWwoZ2xvYmFscy5ncm91bmRIYWxmV2lkdGggLyBnbG9iYWxzLmdyb3VuZERldGFpbEludGVydmFsIC0gMSksXG4gICAgICAvLyBpZHg6IDAsXG4gICAgICB5czogW10sXG4gICAgICB1cGRhdGVTbG9wZSgpIHtcbiAgICAgICAgaWYgKHRoaXMueCA8PSBnbG9iYWxzLmdyb3VuZEZsYXRDZW50ZXJIYWxmV2lkdGgpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLnNsb3BlRGlmZiArPSBnbG9iYWxzLnNsb3BlRGlmZk1hZyAqIHRoaXMucmFuZFZhbHNbdGhpcy5pZHhdXG4gICAgICAgIHRoaXMuc2xvcGVEaWZmICs9IGdsb2JhbHMuc2xvcGVEaWZmTWFnICogcmFuZF9ub3JtYWwoMSlbMF1cbiAgICAgICAgLy8gdGhpcy5pZHgrK1xuICAgICAgICB0aGlzLnNsb3BlRGlmZiAqPSBnbG9iYWxzLnNsb3BlRGlmZkRlY2F5XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnNsb3BlRGlmZikgPiBnbG9iYWxzLnNsb3BlRGlmZkxpbSkge1xuICAgICAgICAgIHRoaXMuc2xvcGVEaWZmID0gTWF0aC5taW4oXG4gICAgICAgICAgICBNYXRoLm1heCh0aGlzLnNsb3BlRGlmZiwgLWdsb2JhbHMuc2xvcGVEaWZmTGltKSxcbiAgICAgICAgICAgIGdsb2JhbHMuc2xvcGVEaWZmTGltXG4gICAgICAgICAgKVxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2xvcGUgZGlmZiBidW1wXCIpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldlNsb3BlID0gdGhpcy5zbG9wZVxuICAgICAgICB0aGlzLnNsb3BlICs9IHRoaXMuc2xvcGVEaWZmXG4gICAgICAgIHRoaXMuc2xvcGUgKj0gZ2xvYmFscy5zbG9wZURlY2F5XG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnNsb3BlKSA+IGdsb2JhbHMuc2xvcGVMaW0pIHtcbiAgICAgICAgICB0aGlzLnNsb3BlID0gTWF0aC5taW4oXG4gICAgICAgICAgICBNYXRoLm1heCh0aGlzLnNsb3BlLCAtZ2xvYmFscy5zbG9wZUxpbSksXG4gICAgICAgICAgICBnbG9iYWxzLnNsb3BlTGltXG4gICAgICAgICAgKVxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2xvcGUgYnVtcFwiKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2xvcGVEaWZmID0gdGhpcy5zbG9wZSAtIHByZXZTbG9wZVxuICAgICAgfSxcbiAgICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVTbG9wZSgpXG4gICAgICAgIHRoaXMueSArPSB0aGlzLnNsb3BlICogZ2xvYmFscy5ncm91bmREZXRhaWxJbnRlcnZhbFxuICAgICAgICB0aGlzLnlzLnB1c2godGhpcy55KVxuICAgICAgICAvLyBwcmV2ZW50IGZsb2F0aW5nIHBvaW50IGRyaWZ0XG4gICAgICAgIHRoaXMueElkeCsrXG4gICAgICAgIHRoaXMueCA9IGdsb2JhbHMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWwgKiB0aGlzLnhJZHhcbiAgICAgIH0sXG4gICAgfVxuICB9XG4gIGNvbnN0IGxlZnRPYmogPSB0ZXJyYWluTFJPYmplY3QoKSxcbiAgICByaWdodE9iaiA9IHRlcnJhaW5MUk9iamVjdCgpXG5cbiAgZm9yIChcbiAgICBsZXQgXyA9IDA7XG4gICAgXyA8IGdsb2JhbHMuZ3JvdW5kSGFsZldpZHRoIC8gZ2xvYmFscy5ncm91bmREZXRhaWxJbnRlcnZhbDtcbiAgICBfKytcbiAgKSB7XG4gICAgbGVmdE9iai51cGRhdGUoKVxuICAgIHJpZ2h0T2JqLnVwZGF0ZSgpXG4gIH1cbiAgbGVmdE9iai55cy5yZXZlcnNlKClcblxuICByZXR1cm4gbGVmdE9iai55cy5jb25jYXQoWzBdKS5jb25jYXQocmlnaHRPYmoueXMpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB4UG9zVG9UZXJyYWluSWR4KHgpIHtcbiAgeCA9IE1hdGgubWluKE1hdGgubWF4KHgsIC1nbG9iYWxzLmdyb3VuZEhhbGZXaWR0aCksIGdsb2JhbHMuZ3JvdW5kSGFsZldpZHRoKVxuICByZXR1cm4gKFxuICAgIE1hdGgucm91bmQoeCAvIGdsb2JhbHMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWwpICsgKGdsb2JhbHMublRlcnJhaW5QdHMgLSAxKSAvIDJcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGVycmFpbklkeFRvWFBvcyhpZHgpIHtcbiAgcmV0dXJuIChpZHggLSAoZ2xvYmFscy5uVGVycmFpblB0cyAtIDEpIC8gMikgKiBnbG9iYWxzLmdyb3VuZERldGFpbEludGVydmFsXG59XG5cbmZ1bmN0aW9uIGludGVycFRlcnJhaW5ZKHgsIHRlcnJhaW5QdHMpIHtcbiAgeCA9IE1hdGgubWluKE1hdGgubWF4KHgsIC1nbG9iYWxzLmdyb3VuZEhhbGZXaWR0aCksIGdsb2JhbHMuZ3JvdW5kSGFsZldpZHRoKVxuICBjb25zdCB4U2NhbGVkID0geCAvIGdsb2JhbHMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWwsXG4gICAgaWR4T2Zmc2V0ID0gKGdsb2JhbHMublRlcnJhaW5QdHMgLSAxKSAvIDIsXG4gICAgY2xpcHBlZCA9IFtNYXRoLmZsb29yKHhTY2FsZWQpLCBNYXRoLmNlaWwoeFNjYWxlZCldLFxuICAgIHhzID0gY2xpcHBlZC5tYXAoKHYpID0+IGdsb2JhbHMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWwgKiB2KSxcbiAgICB5cyA9IGNsaXBwZWQubWFwKCh2KSA9PiB0ZXJyYWluUHRzW3YgKyBpZHhPZmZzZXRdKVxuXG4gIGlmICh4c1sxXSA9PSB4c1swXSkge1xuICAgIHJldHVybiB5c1swXVxuICB9XG4gIGNvbnN0IHNsb3BlID0gKHlzWzFdIC0geXNbMF0pIC8gKHhzWzFdIC0geHNbMF0pLFxuICAgIHhEaWZmID0geCAtIHhzWzBdLFxuICAgIHlEaWZmID0gc2xvcGUgKiB4RGlmZlxuICByZXR1cm4geXNbMF0gKyB5RGlmZlxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4vLyB0aGUgc3RhcnR1cCBmdW5jdGlvblxuX193ZWJwYWNrX3JlcXVpcmVfXy54ID0gKCkgPT4ge1xuXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcblx0Ly8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG5cdHZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzc0OV0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDYzMCkpKVxuXHRfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuXHRyZXR1cm4gX193ZWJwYWNrX2V4cG9ydHNfXztcbn07XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZiA9IHt9O1xuLy8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuLy8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSAoY2h1bmtJZCkgPT4ge1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5mKS5yZWR1Y2UoKHByb21pc2VzLCBrZXkpID0+IHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZba2V5XShjaHVua0lkLCBwcm9taXNlcyk7XG5cdFx0cmV0dXJuIHByb21pc2VzO1xuXHR9LCBbXSkpO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhc3luYyBjaHVua3MgYW5kIHNpYmxpbmcgY2h1bmtzIGZvciB0aGUgZW50cnlwb2ludFxuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgXCI4YTRiY2ViNzc3YzdkNmI1YjZhM1wiICsgXCIuanNcIjtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYWxsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5taW5pQ3NzRiA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gdW5kZWZpbmVkO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBjaHVua3Ncbi8vIFwiMVwiIG1lYW5zIFwiYWxyZWFkeSBsb2FkZWRcIlxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0NjMwOiAxXG59O1xuXG4vLyBpbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmdcbnZhciBpbnN0YWxsQ2h1bmsgPSAoZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdHdoaWxlKGNodW5rSWRzLmxlbmd0aClcblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZHMucG9wKCldID0gMTtcblx0cGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG59O1xuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmkgPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0Ly8gXCIxXCIgaXMgdGhlIHNpZ25hbCBmb3IgXCJhbHJlYWR5IGxvYWRlZFwiXG5cdGlmKCFpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRpZih0cnVlKSB7IC8vIGFsbCBjaHVua3MgaGF2ZSBKU1xuXHRcdFx0aW1wb3J0U2NyaXB0cyhfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCkpO1xuXHRcdH1cblx0fVxufTtcblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmt0aXBweV9wcm9qZWN0X3dlYnNpdGVcIl0gPSBzZWxmW1wid2VicGFja0NodW5rdGlwcHlfcHJvamVjdF93ZWJzaXRlXCJdIHx8IFtdO1xudmFyIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uID0gY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSBpbnN0YWxsQ2h1bms7XG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3QiLCIvLyBydW4gc3RhcnR1cFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLngoKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsIm5leHQiLCJnbG9iYWxzIiwidyIsImgiLCJsSW5wdXRDb2RlcyIsInJJbnB1dENvZGVzIiwieE9mZnMiLCJ0cyIsInNpbkxpbSIsInNpblN0ZXAiLCJzaW5EZWNheSIsInZlbExpbSIsInZlbERlY2F5IiwiZ3JvdW5kSGFsZldpZHRoIiwiZ3JvdW5kRmxhdENlbnRlckhhbGZXaWR0aCIsImdyb3VuZERldGFpbEludGVydmFsIiwiblRlcnJhaW5QdHMiLCJ0aGlzIiwid2FsbEgiLCJ3YWxsVyIsInNsb3BlRGVjYXkiLCJzbG9wZUxpbSIsInNsb3BlRGlmZk1hZyIsInNsb3BlRGlmZkRlY2F5Iiwic2xvcGVEaWZmTGltIiwiYmFyTWF4IiwibGltIiwidGFyZ2V0VHlwZSIsImJhckhlaWdodCIsInNjb3JlRGVub21FcHMiLCJjcmFzaFNpbkxpbWl0IiwibWF4VG9ycXVlIiwibldvcmtlcnMiLCJtdWx0aXBsaWVyIiwiZXBMZW4iLCJ0d2l0Y2hpbmVzc2VzIiwiY21hU2lnbWEiLCJjbWFNZWFuSW5pdCIsIkZsb2F0MzJBcnJheSIsImZyb20iLCJjbWEiLCJpbml0aWFsaXplZCIsInRyYWluIiwic29sdXRpb25zIiwiYmFkU29sdXRpb24iLCJwb3BzaXplIiwibl9kaW0iLCJpIiwic29sdXRpb24iLCJhc2siLCJjb25zdHJ1Y3RvciIsImoiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiZ2V0TmV3U29sdXRpb25zIiwidGFyZ2V0QXJyYXlzIiwidHdpdGNoaW5lc3MiLCJwdXNoIiwiZ2VuZXJhdGVFcGlzb2RlVGFyZ2V0cyIsImdlbmVyYXRlVGFyZ2V0QXJyYXlzIiwid29ya2VyU29sdXRpb25MZW5ndGgiLCJzb2x1dGlvbklkeCIsInRhcmdldHNTb2x1dGlvbnMiLCJ0YXJnZXRzIiwic2xpY2UiLCJwb3N0TWVzc2FnZSIsImxkIiwicmQiLCJ0YXJnZXRTaW4iLCJ0YXJnZXRWZWwiLCJ0YXJnZXRTaW5zIiwiZmlsbCIsInRhcmdldFZlbHMiLCJsZWZ0RG93biIsInJpZ2h0RG93biIsIk1hdGgiLCJyYW5kb20iLCJyYW5kIiwiYWJzIiwic2lnbiIsIm9ubWVzc2FnZSIsImUiLCJjbWFQb3BTaXplIiwiY21hTWVhbiIsImRhdGEiLCJpbmZvIiwibXNnIiwic2NvcmVzIiwibWFwIiwieCIsInNjb3JlIiwidGVsbCIsInJlZHVjZSIsImEiLCJiIiwibWluIiwibWVhbiIsImRlZmF1bHRQb3BTaXplIiwiZ2V0RGVmYXVsdENNQVBvcHNpemUiLCJjZWlsIiwidG90YWxQb3BTaXplIiwic2ltdWxhdGlvblBvcFNpemUiLCJnZXRQb3BzaXplcyIsIkNNQSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIl9fd2VicGFja19leHBvcnRzX18iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJmbiIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJPYmplY3QiLCJrZXlzIiwiZXZlcnkiLCJrZXkiLCJzcGxpY2UiLCJyIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZiIsImNodW5rSWQiLCJQcm9taXNlIiwiYWxsIiwicHJvbWlzZXMiLCJ1IiwibWluaUNzc0YiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwid2luZG93Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJiaW5kIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwicG9wIiwidGhlbiJdLCJzb3VyY2VSb290IjoiIn0=