(()=>{"use strict";var e,r,t={630:(e,r,t)=>{var n={w:800,h:400,lInputCodes:["ArrowLeft"],rInputCodes:["ArrowRight"],xOffs:[-.3,-.1,.1,.3],ts:1/60,sinLim:.4,sinStep:.03,sinDecay:.01,velLim:4,velDecay:.01,groundHalfWidth:100,groundFlatCenterHalfWidth:1,groundDetailInterval:.2,get nTerrainPts(){return this.groundHalfWidth/this.groundDetailInterval*2+1},wallH:.9,wallW:.5,slopeDecay:.9,slopeLim:.4,slopeDiffMag:.125,slopeDiffDecay:1.1,slopeDiffLim:.2,get barMax(){var e="vel"==this.targetType?this.velLim:this.sinLim;return.45*this.w/e},barHeight:25,get scoreDenomEps(){return this.sinLim},crashSinLimit:.8,maxTorque:1,nWorkers:8,multiplier:2,epLen:800,twitchinesses:[0,.1,.05,.025,.01,.005,.0025,null],cmaSigma:.5,targetType:"vel"},o=Float32Array.from([1.097368597984314,-.4921252429485321,-2.4285199642181396,1.9147231578826904,1.4103649854660034,-1.0730559825897217,3.633850336074829,.969073474407196,1.72327721118927,3.862189769744873,-.5683848857879639,.4833804965019226,1.621141791343689,-1.7951841354370117,.28255704045295715,.8373199105262756,-1.491740107536316,1.680241346359253,4.32080602645874,-6.2230939865112305,3.8894057273864746,-.43056386709213257,-1.0381842851638794,1.206999659538269,-2.442864418029785,-3.2872400283813477,4.1724443435668945,-1.3102113008499146,2.0718746185302734,-2.012195348739624,-.09232735633850098,-2.3299849033355713,-1.3458508253097534,1.57430899143219,1.585335373878479,-4.818405628204346,-.5162748098373413,-.35466793179512024,.6563999056816101,.5765581130981445,3.2163033485412598,-2.673863410949707,-2.775988817214966,.3102789521217346,2.8213186264038086,-2.6345112323760986,.41489309072494507,.5273040533065796,2.8084323406219482,-.22201833128929138,-1.8847272396087646,2.1349411010742188,3.9124855995178223,.23571348190307617,-.4009905755519867,-2.32651686668396,-5.905391693115234,-3.277113199234009,-3.1946818828582764,.6040287613868713,1.5398304462432861,-1.7137975692749023,-2.5994322299957275,.7596493363380432,2.0505306720733643,-1.0719929933547974,-.12434184551239014,-.21520830690860748,-2.977525234222412,-2.916106700897217,-2.0895442962646484,.6780237555503845,-1.1381938457489014,-.3976782262325287,-8.091259002685547,-.8609429597854614,2.272367000579834,-.44986462593078613,-1.9860502481460571,-2.037736654281616,1.3788461685180664,-.946772575378418,-2.512946128845215,1.2120083570480347,-.8112329840660095,-.2584746479988098,-.8203612565994263,-1.7425763607025146,-2.4738595485687256,.20930416882038116,-3.1742286682128906,-.1539025902748108,2.706810474395752,-1.630825400352478,.03723296895623207,-2.7679619789123535,-1.1558122634887695,-.16676628589630127,-.11495263129472733,-.3647719621658325,-1.2723920345306396,-.8320516347885132,.0584125891327858,-.20485924184322357,-.6998800039291382,-.7748422622680664,.03306061774492264,.05045829713344574,-.7898354530334473,-.3644859194755554,-1.9912363290786743,.30128753185272217,.4223995506763458,-3.72501277923584,-6.310052394866943,3.808600425720215,1.4358415603637695,-2.62609601020813,-2.87255597114563,2.104060649871826,-3.1228067874908447,.46431323885917664,1.5147188901901245,1.0571037530899048,.053630534559488297,.8355461359024048,-2.3932297229766846,-1.0719527006149292,-1.0285042524337769,4.927562236785889,-4.36212682723999,1.996174693107605,2.3710286617279053,-.3524213433265686,-.06643331795930862,-.9069985747337341,2.0232365131378174,.6794627904891968,-3.7015702724456787,-1.2146440744400024,2.636486291885376,3.430572748184204,.665721595287323,.35096776485443115,-4.536441802978516,1.5776478052139282,3.518752098083496,4.304330348968506,.34464845061302185,.7764376401901245,.8761256337165833,3.0202441215515137,-1.0507209300994873,-.6082743406295776,-1.6540871858596802,2.939337968826294,-.17868749797344208,2.395843505859375,-.22536619007587433,-5.117509841918945,1.9952406883239746,-.9335593581199646,-.7380295395851135,.8094670176506042,.8877607583999634,-1.979039192199707,1.1599781513214111,-2.73085355758667,3.2037062644958496,.7695357799530029,1.7714511156082153,-2.932318925857544,-1.0461864471435547,3.496929407119751,3.517202138900757,2.6925926208496094,.33698439598083496,-.7475488185882568,.16617265343666077,-.07216118276119232,-2.731569766998291,2.3597419261932373,.14207404851913452,.34206706285476685,5.10419225692749,2.5803232192993164,.5957708358764648,.19110116362571716,.9374128580093384,1.2445136308670044,3.4148755073547363,-2.150707244873047,-2.19406795501709,-2.1235013008117676,-1.156686544418335,1.1939444541931152,3.0110416412353516,-.7731320261955261,-2.8795650005340576,2.6769773960113525,2.0949344635009766,-2.073817491531372,3.4075050354003906,1.9652248620986938,-1.1932811737060547,-2.3039934635162354,-2.7437469959259033,-1.7810425758361816,1.5841933488845825,2.8032116889953613,.25412386655807495,-1.4644629955291748,4.183811187744141,-.17973998188972473,2.7961342334747314,1.39539635181427,.34437960386276245,-1.1173146963119507,.40626052021980286,-1.5824397802352905,.14563427865505219,-2.399414539337158,6.656028747558594,.8279803395271301,-.7896231412887573,-2.388155460357666,-.5894807577133179,-1.5486451387405396,-.9272681474685669,-2.5805861949920654,.18140041828155518,-1.4993616342544556,.6692470908164978,-3.4452054500579834,-1.1278798580169678,-5.746531963348389,.692906379699707,.38156548142433167,1.763306736946106,-4.294862747192383,.6706625819206238,-.4210456311702728,-2.863720178604126,-.9124757647514343,2.075263023376465,-3.9785890579223633,.2882373631000519,.4847204089164734,-6.575814723968506,-6.198582649230957,.43105143308639526,-5.662414073944092,-4.541703701019287,-6.71414041519165,-5.687849044799805,-9.647754669189453,-2.682098865509033,-2.0994865894317627,2.992748737335205,-6.269527435302734,2.764437198638916,5.571993350982666,.817680835723877,3.074885845184326,-2.727198600769043,9.613213539123535,4.820910930633545,-4.828794956207275,-6.644251823425293]),i=t(4749);function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||l(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var u,c=!1;function f(e){for(var r=function(e){for(var r=!1,t=new Float32Array(e.popsize*e.n_dim),n=0;n<e.popsize;n++){var o=e.ask();if(o.constructor!==Float32Array){r=!0;break}for(var i=0;i<o.length;i++)t[n*o.length+i]=o[i]}if(!r)return t;console.log("ask failed"),console.log(e)}(e),t=function(){var e,r=[],t=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=l(e))){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}(n.twitchinesses);try{for(t.s();!(e=t.n()).done;){var o=e.value;r.push(p(o))}}catch(e){t.e(e)}finally{t.f()}return r}(),o=r.length/n.nWorkers,i=0,a=[],s=0;s<n.nWorkers;s++)a.push({targets:t,solutions:r.slice(i,i+o)}),i+=o;postMessage(["targetsSolutions",a])}function p(e){var r,t,o,i,l=new Float32Array(n.epLen).fill(0),s=new Float32Array(n.epLen).fill(0),u=!1,c=!1;null!=e&&e>0&&(Math.random()<.5?c=!0:u=!0);for(var f=1;f<n.epLen;f++){if(null===e)c=!0,u=!1;else if(Math.random()<e){var p=Math.random();p<.7?u==c?Math.random()<.5?(u=!0,c=!1):(u=!1,c=!0):c?(u=!0,c=!1):(u=!1,c=!0):p<.9?(u=!1,c=!1):Math.random()<.5?u=!0:c=!0}var m=a((r=u,t=c,o=void 0,i=void 0,o=l[f-1],i=s[f-1],r&&t||(0!=o&&(Math.abs(o)<n.sinDecay?o=0:o-=Math.sign(o)*n.sinDecay),r?(o-=n.sinStep)<-n.sinLim&&(o=-n.sinLim):t&&(o+=n.sinStep)>n.sinLim&&(o=n.sinLim),0!=i&&(Math.abs(i)<n.velDecay?i=0:i-=Math.sign(i)*n.velDecay),(i+=.102*o)>n.velLim?i=n.velLim:i<-n.velLim&&(i=-n.velLim)),[o,i]),2);l[f]=m[0],s[f]=m[1]}return"sin"===n.targetType?l:s}onmessage=function(e){var r,t,p,m,h=a(e.data,2),v=h[0],y=h[1];if("init_info"!=v||c){if("solutionsScores"==v){var d=y.map((function(e){return e.score}));u.tell(y),console.log("mean:  ".concat(d.reduce((function(e,r){return e+r}))/d.length)),console.log("min:  ".concat(Math.min.apply(Math,function(e){if(Array.isArray(e))return s(e)}(m=d)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||l(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),postMessage(["cmaMeanWts",u.mean.slice()]),f(u)}}else r=function(e){var r=(0,i.S)(e),t=n.nWorkers*Math.ceil(n.multiplier*r/n.nWorkers),o=t*n.twitchinesses.length;return{cmaPopSize:t,totalPopSize:o,simulationPopSize:o/n.nWorkers}}(y.n_dim),t=r.cmaPopSize,r.totalPopSize,r.simulationPopSize,p=o.slice(),u=new i.Y(p,n.cmaSigma,t,void 0,void 0),c=!0,f(u)}}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,o.x=()=>{var e=o.O(void 0,[749],(()=>o(630)));return o.O(e)},e=[],o.O=(r,t,n,i)=>{if(!t){var a=1/0;for(c=0;c<e.length;c++){for(var[t,n,i]=e[c],l=!0,s=0;s<t.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](t[s])))?t.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(c--,1);var u=n();void 0!==u&&(r=u)}}return r}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,n,i]},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((r,t)=>(o.f[t](e,r),r)),[])),o.u=e=>e+".7a88436021645b244df4.js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var r=o.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={630:1};o.f.i=(r,t)=>{e[r]||importScripts(o.p+o.u(r))};var r=self.webpackChunktippy_project_website=self.webpackChunktippy_project_website||[],t=r.push.bind(r);r.push=r=>{var[n,i,a]=r;for(var l in i)o.o(i,l)&&(o.m[l]=i[l]);for(a&&a(o);n.length;)e[n.pop()]=1;t(r)}})(),r=o.x,o.x=()=>o.e(749).then(r),o.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UW1HLEVBQVlNLEVBQVFBLEVBQVF6RyxPQUFTLEdBQUd3RyxLQUs3RCxJQUFLTCxFQUFXLE1BQU0sSUFBSVEsTUFBTSx5REFDaENSLEVBQVlBLEVBQVVTLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQ3BGckQsRUFBb0JzRCxFQUFJVixHLFNDWHhCLElBQUlXLEVBQWtCLENBQ3JCLElBQUssR0FnQk52RCxFQUFvQjRCLEVBQUV4RixFQUFJLENBQUN5RixFQUFTRyxLQUUvQnVCLEVBQWdCMUIsSUFFbEJnQixjQUFjN0MsRUFBb0JzRCxFQUFJdEQsRUFBb0JpQyxFQUFFSixLQUsvRCxJQUFJMkIsRUFBcUJDLEtBQXdDLGtDQUFJQSxLQUF3QyxtQ0FBSyxHQUM5R0MsRUFBNkJGLEVBQW1CekcsS0FBSzRHLEtBQUtILEdBQzlEQSxFQUFtQnpHLEtBdkJDMkIsSUFDbkIsSUFBS2dDLEVBQVVrRCxFQUFhQyxHQUFXbkYsRUFDdkMsSUFBSSxJQUFJdUIsS0FBWTJELEVBQ2hCNUQsRUFBb0J3QixFQUFFb0MsRUFBYTNELEtBQ3JDRCxFQUFvQk0sRUFBRUwsR0FBWTJELEVBQVkzRCxJQUloRCxJQURHNEQsR0FBU0EsRUFBUTdELEdBQ2RVLEVBQVNqRSxRQUNkOEcsRUFBZ0I3QyxFQUFTb0QsT0FBUyxFQUNuQ0osRUFBMkJoRixLLEdibkJ4QnJGLEVBQU8yRyxFQUFvQmpCLEVBQy9CaUIsRUFBb0JqQixFQUFJLElBQ2hCaUIsRUFBb0J6QixFQUFFLEtBQUt3RixLQUFLMUssR2NEZDJHLEVBQW9CakIsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS93ZWJwYWNrL3J1bnRpbWUvc3RhcnR1cCBjaHVuayBkZXBlbmRlbmNpZXMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlLy4vc3JjL3BhZ2VzL3RpcHB5L2dsb2JhbHMuanMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlLy4vc3JjL3BhZ2VzL3RpcHB5L2NtYU1lYW5Jbml0LmpzIiwid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS8uL3NyYy9wYWdlcy90aXBweS93b3JrZXJzL3RyYWluaW5nLXdvcmtlci5qcyIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvLi9zcmMvcGFnZXMvdGlwcHkvdGlwcHkuanMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RpcHB5LXByb2plY3Qtd2Vic2l0ZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9lbnN1cmUgY2h1bmsiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2dldCBtaW5pLWNzcyBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90aXBweS1wcm9qZWN0LXdlYnNpdGUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svcnVudGltZS9pbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vdGlwcHktcHJvamVjdC13ZWJzaXRlL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgbmV4dCA9IF9fd2VicGFja19yZXF1aXJlX18ueDtcbl9fd2VicGFja19yZXF1aXJlX18ueCA9ICgpID0+IHtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZSg3NDkpLnRoZW4obmV4dCk7XG59OyIsImV4cG9ydCBjb25zdCBnbG9iYWxzID0ge1xuICB3OiA4MDAsXG4gIGg6IDQwMCxcbiAgbElucHV0Q29kZXM6IFtcIkFycm93TGVmdFwiXSxcbiAgcklucHV0Q29kZXM6IFtcIkFycm93UmlnaHRcIl0sXG4gIHhPZmZzOiBbLTAuMywgLTAuMSwgMC4xLCAwLjNdLFxuICB0czogMS4wIC8gNjAsXG4gIC8vIHNpbkxpbTogMC4zLFxuICBzaW5MaW06IDAuNCxcbiAgLy8gZGlyZWN0aW9uU3RlcDogMC4wMixcbiAgc2luU3RlcDogMC4wMyxcbiAgc2luRGVjYXk6IDAuMDEsXG4gIHZlbExpbTogNCxcbiAgdmVsRGVjYXk6IDAuMDEsXG4gIGdyb3VuZEhhbGZXaWR0aDogMTAwLFxuICBncm91bmRGbGF0Q2VudGVySGFsZldpZHRoOiAxLFxuICBncm91bmREZXRhaWxJbnRlcnZhbDogMC4yLFxuICAvLyBuVGVycmFpblB0czogMiAqICh0aGlzLmdyb3VuZEhhbGZXaWR0aCAvIHRoaXMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWwpICsgMSxcbiAgZ2V0IG5UZXJyYWluUHRzKCkge1xuICAgIHJldHVybiAyICogKHRoaXMuZ3JvdW5kSGFsZldpZHRoIC8gdGhpcy5ncm91bmREZXRhaWxJbnRlcnZhbCkgKyAxXG4gIH0sXG4gIHdhbGxIOiAwLjksXG4gIHdhbGxXOiAwLjUsXG4gIC8vIHNsb3BlTWFnOiAwLjEsXG4gIHNsb3BlRGVjYXk6IDAuOSxcbiAgc2xvcGVMaW06IDAuNCxcbiAgc2xvcGVEaWZmTWFnOiAwLjEyNSxcbiAgc2xvcGVEaWZmRGVjYXk6IDEuMSxcbiAgc2xvcGVEaWZmTGltOiAwLjIsXG4gIGdldCBiYXJNYXgoKSB7XG4gICAgY29uc3QgbGltID0gdGhpcy50YXJnZXRUeXBlID09IFwidmVsXCIgPyB0aGlzLnZlbExpbSA6IHRoaXMuc2luTGltXG4gICAgcmV0dXJuICgwLjUgKiAwLjkgKiB0aGlzLncpIC8gbGltXG4gIH0sXG4gIGJhckhlaWdodDogMjUsXG4gIC8vIHNjb3JlRGVub21FcHM6IDAuMDEsXG4gIC8vIHNjb3JlRGVub21FcHM6IDAuMSxcbiAgZ2V0IHNjb3JlRGVub21FcHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2luTGltXG4gIH0sXG4gIGNyYXNoU2luTGltaXQ6IDAuOCxcbiAgbWF4VG9ycXVlOiAxLjAsXG4gIG5Xb3JrZXJzOiA4LFxuICBtdWx0aXBsaWVyOiAyLFxuICBlcExlbjogODAwLFxuICB0d2l0Y2hpbmVzc2VzOiBbMCwgMC4xLCAwLjA1LCAwLjAyNSwgMC4wMSwgMC4wMDUsIDAuMDAyNSwgbnVsbF0sXG4gIGNtYVNpZ21hOiAwLjUsXG4gIC8vIHRhcmdldFR5cGU6IFwic2luXCIsXG4gIHRhcmdldFR5cGU6IFwidmVsXCIsXG59XG4iLCJleHBvcnQgY29uc3QgY21hTWVhbkluaXQgPSBGbG9hdDMyQXJyYXkuZnJvbShbXG4gIDEuMDk3MzY4NTk3OTg0MzE0LCAtMC40OTIxMjUyNDI5NDg1MzIxLCAtMi40Mjg1MTk5NjQyMTgxMzk2LFxuICAxLjkxNDcyMzE1Nzg4MjY5MDQsIDEuNDEwMzY0OTg1NDY2MDAzNCwgLTEuMDczMDU1OTgyNTg5NzIxNyxcbiAgMy42MzM4NTAzMzYwNzQ4MjksIDAuOTY5MDczNDc0NDA3MTk2LCAxLjcyMzI3NzIxMTE4OTI3LCAzLjg2MjE4OTc2OTc0NDg3MyxcbiAgLTAuNTY4Mzg0ODg1Nzg3OTYzOSwgMC40ODMzODA0OTY1MDE5MjI2LCAxLjYyMTE0MTc5MTM0MzY4OSxcbiAgLTEuNzk1MTg0MTM1NDM3MDExNywgMC4yODI1NTcwNDA0NTI5NTcxNSwgMC44MzczMTk5MTA1MjYyNzU2LFxuICAtMS40OTE3NDAxMDc1MzYzMTYsIDEuNjgwMjQxMzQ2MzU5MjUzLCA0LjMyMDgwNjAyNjQ1ODc0LCAtNi4yMjMwOTM5ODY1MTEyMzA1LFxuICAzLjg4OTQwNTcyNzM4NjQ3NDYsIC0wLjQzMDU2Mzg2NzA5MjEzMjU3LCAtMS4wMzgxODQyODUxNjM4Nzk0LFxuICAxLjIwNjk5OTY1OTUzODI2OSwgLTIuNDQyODY0NDE4MDI5Nzg1LCAtMy4yODcyNDAwMjgzODEzNDc3LFxuICA0LjE3MjQ0NDM0MzU2Njg5NDUsIC0xLjMxMDIxMTMwMDg0OTkxNDYsIDIuMDcxODc0NjE4NTMwMjczNCxcbiAgLTIuMDEyMTk1MzQ4NzM5NjI0LCAtMC4wOTIzMjczNTYzMzg1MDA5OCwgLTIuMzI5OTg0OTAzMzM1NTcxMyxcbiAgLTEuMzQ1ODUwODI1MzA5NzUzNCwgMS41NzQzMDg5OTE0MzIxOSwgMS41ODUzMzUzNzM4Nzg0NzksIC00LjgxODQwNTYyODIwNDM0NixcbiAgLTAuNTE2Mjc0ODA5ODM3MzQxMywgLTAuMzU0NjY3OTMxNzk1MTIwMjQsIDAuNjU2Mzk5OTA1NjgxNjEwMSxcbiAgMC41NzY1NTgxMTMwOTgxNDQ1LCAzLjIxNjMwMzM0ODU0MTI1OTgsIC0yLjY3Mzg2MzQxMDk0OTcwNyxcbiAgLTIuNzc1OTg4ODE3MjE0OTY2LCAwLjMxMDI3ODk1MjEyMTczNDYsIDIuODIxMzE4NjI2NDAzODA4NixcbiAgLTIuNjM0NTExMjMyMzc2MDk4NiwgMC40MTQ4OTMwOTA3MjQ5NDUwNywgMC41MjczMDQwNTMzMDY1Nzk2LFxuICAyLjgwODQzMjM0MDYyMTk0ODIsIC0wLjIyMjAxODMzMTI4OTI5MTM4LCAtMS44ODQ3MjcyMzk2MDg3NjQ2LFxuICAyLjEzNDk0MTEwMTA3NDIxODgsIDMuOTEyNDg1NTk5NTE3ODIyMywgMC4yMzU3MTM0ODE5MDMwNzYxNyxcbiAgLTAuNDAwOTkwNTc1NTUxOTg2NywgLTIuMzI2NTE2ODY2NjgzOTYsIC01LjkwNTM5MTY5MzExNTIzNCxcbiAgLTMuMjc3MTEzMTk5MjM0MDA5LCAtMy4xOTQ2ODE4ODI4NTgyNzY0LCAwLjYwNDAyODc2MTM4Njg3MTMsXG4gIDEuNTM5ODMwNDQ2MjQzMjg2MSwgLTEuNzEzNzk3NTY5Mjc0OTAyMywgLTIuNTk5NDMyMjI5OTk1NzI3NSxcbiAgMC43NTk2NDkzMzYzMzgwNDMyLCAyLjA1MDUzMDY3MjA3MzM2NDMsIC0xLjA3MTk5Mjk5MzM1NDc5NzQsXG4gIC0wLjEyNDM0MTg0NTUxMjM5MDE0LCAtMC4yMTUyMDgzMDY5MDg2MDc0OCwgLTIuOTc3NTI1MjM0MjIyNDEyLFxuICAtMi45MTYxMDY3MDA4OTcyMTcsIC0yLjA4OTU0NDI5NjI2NDY0ODQsIDAuNjc4MDIzNzU1NTUwMzg0NSxcbiAgLTEuMTM4MTkzODQ1NzQ4OTAxNCwgLTAuMzk3Njc4MjI2MjMyNTI4NywgLTguMDkxMjU5MDAyNjg1NTQ3LFxuICAtMC44NjA5NDI5NTk3ODU0NjE0LCAyLjI3MjM2NzAwMDU3OTgzNCwgLTAuNDQ5ODY0NjI1OTMwNzg2MTMsXG4gIC0xLjk4NjA1MDI0ODE0NjA1NzEsIC0yLjAzNzczNjY1NDI4MTYxNiwgMS4zNzg4NDYxNjg1MTgwNjY0LFxuICAtMC45NDY3NzI1NzUzNzg0MTgsIC0yLjUxMjk0NjEyODg0NTIxNSwgMS4yMTIwMDgzNTcwNDgwMzQ3LFxuICAtMC44MTEyMzI5ODQwNjYwMDk1LCAtMC4yNTg0NzQ2NDc5OTg4MDk4LCAtMC44MjAzNjEyNTY1OTk0MjYzLFxuICAtMS43NDI1NzYzNjA3MDI1MTQ2LCAtMi40NzM4NTk1NDg1Njg3MjU2LCAwLjIwOTMwNDE2ODgyMDM4MTE2LFxuICAtMy4xNzQyMjg2NjgyMTI4OTA2LCAtMC4xNTM5MDI1OTAyNzQ4MTA4LCAyLjcwNjgxMDQ3NDM5NTc1MixcbiAgLTEuNjMwODI1NDAwMzUyNDc4LCAwLjAzNzIzMjk2ODk1NjIzMjA3LCAtMi43Njc5NjE5Nzg5MTIzNTM1LFxuICAtMS4xNTU4MTIyNjM0ODg3Njk1LCAtMC4xNjY3NjYyODU4OTYzMDEyNywgLTAuMTE0OTUyNjMxMjk0NzI3MzMsXG4gIC0wLjM2NDc3MTk2MjE2NTgzMjUsIC0xLjI3MjM5MjAzNDUzMDYzOTYsIC0wLjgzMjA1MTYzNDc4ODUxMzIsXG4gIDAuMDU4NDEyNTg5MTMyNzg1OCwgLTAuMjA0ODU5MjQxODQzMjIzNTcsIC0wLjY5OTg4MDAwMzkyOTEzODIsXG4gIC0wLjc3NDg0MjI2MjI2ODA2NjQsIDAuMDMzMDYwNjE3NzQ0OTIyNjQsIDAuMDUwNDU4Mjk3MTMzNDQ1NzQsXG4gIC0wLjc4OTgzNTQ1MzAzMzQ0NzMsIC0wLjM2NDQ4NTkxOTQ3NTU1NTQsIC0xLjk5MTIzNjMyOTA3ODY3NDMsXG4gIDAuMzAxMjg3NTMxODUyNzIyMTcsIDAuNDIyMzk5NTUwNjc2MzQ1OCwgLTMuNzI1MDEyNzc5MjM1ODQsXG4gIC02LjMxMDA1MjM5NDg2Njk0MywgMy44MDg2MDA0MjU3MjAyMTUsIDEuNDM1ODQxNTYwMzYzNzY5NSwgLTIuNjI2MDk2MDEwMjA4MTMsXG4gIC0yLjg3MjU1NTk3MTE0NTYzLCAyLjEwNDA2MDY0OTg3MTgyNiwgLTMuMTIyODA2Nzg3NDkwODQ0NyxcbiAgMC40NjQzMTMyMzg4NTkxNzY2NCwgMS41MTQ3MTg4OTAxOTAxMjQ1LCAxLjA1NzEwMzc1MzA4OTkwNDgsXG4gIDAuMDUzNjMwNTM0NTU5NDg4Mjk3LCAwLjgzNTU0NjEzNTkwMjQwNDgsIC0yLjM5MzIyOTcyMjk3NjY4NDYsXG4gIC0xLjA3MTk1MjcwMDYxNDkyOTIsIC0xLjAyODUwNDI1MjQzMzc3NjksIDQuOTI3NTYyMjM2Nzg1ODg5LFxuICAtNC4zNjIxMjY4MjcyMzk5OSwgMS45OTYxNzQ2OTMxMDc2MDUsIDIuMzcxMDI4NjYxNzI3OTA1MywgLTAuMzUyNDIxMzQzMzI2NTY4NixcbiAgLTAuMDY2NDMzMzE3OTU5MzA4NjIsIC0wLjkwNjk5ODU3NDczMzczNDEsIDIuMDIzMjM2NTEzMTM3ODE3NCxcbiAgMC42Nzk0NjI3OTA0ODkxOTY4LCAtMy43MDE1NzAyNzI0NDU2Nzg3LCAtMS4yMTQ2NDQwNzQ0NDAwMDI0LFxuICAyLjYzNjQ4NjI5MTg4NTM3NiwgMy40MzA1NzI3NDgxODQyMDQsIDAuNjY1NzIxNTk1Mjg3MzIzLCAwLjM1MDk2Nzc2NDg1NDQzMTE1LFxuICAtNC41MzY0NDE4MDI5Nzg1MTYsIDEuNTc3NjQ3ODA1MjEzOTI4MiwgMy41MTg3NTIwOTgwODM0OTYsIDQuMzA0MzMwMzQ4OTY4NTA2LFxuICAwLjM0NDY0ODQ1MDYxMzAyMTg1LCAwLjc3NjQzNzY0MDE5MDEyNDUsIDAuODc2MTI1NjMzNzE2NTgzMyxcbiAgMy4wMjAyNDQxMjE1NTE1MTM3LCAtMS4wNTA3MjA5MzAwOTk0ODczLCAtMC42MDgyNzQzNDA2Mjk1Nzc2LFxuICAtMS42NTQwODcxODU4NTk2ODAyLCAyLjkzOTMzNzk2ODgyNjI5NCwgLTAuMTc4Njg3NDk3OTczNDQyMDgsXG4gIDIuMzk1ODQzNTA1ODU5Mzc1LCAtMC4yMjUzNjYxOTAwNzU4NzQzMywgLTUuMTE3NTA5ODQxOTE4OTQ1LFxuICAxLjk5NTI0MDY4ODMyMzk3NDYsIC0wLjkzMzU1OTM1ODExOTk2NDYsIC0wLjczODAyOTUzOTU4NTExMzUsXG4gIDAuODA5NDY3MDE3NjUwNjA0MiwgMC44ODc3NjA3NTgzOTk5NjM0LCAtMS45NzkwMzkxOTIxOTk3MDcsXG4gIDEuMTU5OTc4MTUxMzIxNDExMSwgLTIuNzMwODUzNTU3NTg2NjcsIDMuMjAzNzA2MjY0NDk1ODQ5NiwgMC43Njk1MzU3Nzk5NTMwMDI5LFxuICAxLjc3MTQ1MTExNTYwODIxNTMsIC0yLjkzMjMxODkyNTg1NzU0NCwgLTEuMDQ2MTg2NDQ3MTQzNTU0NyxcbiAgMy40OTY5Mjk0MDcxMTk3NTEsIDMuNTE3MjAyMTM4OTAwNzU3LCAyLjY5MjU5MjYyMDg0OTYwOTQsIDAuMzM2OTg0Mzk1OTgwODM0OTYsXG4gIC0wLjc0NzU0ODgxODU4ODI1NjgsIDAuMTY2MTcyNjUzNDM2NjYwNzcsIC0wLjA3MjE2MTE4Mjc2MTE5MjMyLFxuICAtMi43MzE1Njk3NjY5OTgyOTEsIDIuMzU5NzQxOTI2MTkzMjM3MywgMC4xNDIwNzQwNDg1MTkxMzQ1MixcbiAgMC4zNDIwNjcwNjI4NTQ3NjY4NSwgNS4xMDQxOTIyNTY5Mjc0OSwgMi41ODAzMjMyMTkyOTkzMTY0LCAwLjU5NTc3MDgzNTg3NjQ2NDgsXG4gIDAuMTkxMTAxMTYzNjI1NzE3MTYsIDAuOTM3NDEyODU4MDA5MzM4NCwgMS4yNDQ1MTM2MzA4NjcwMDQ0LFxuICAzLjQxNDg3NTUwNzM1NDczNjMsIC0yLjE1MDcwNzI0NDg3MzA0NywgLTIuMTk0MDY3OTU1MDE3MDksXG4gIC0yLjEyMzUwMTMwMDgxMTc2NzYsIC0xLjE1NjY4NjU0NDQxODMzNSwgMS4xOTM5NDQ0NTQxOTMxMTUyLFxuICAzLjAxMTA0MTY0MTIzNTM1MTYsIC0wLjc3MzEzMjAyNjE5NTUyNjEsIC0yLjg3OTU2NTAwMDUzNDA1NzYsXG4gIDIuNjc2OTc3Mzk2MDExMzUyNSwgMi4wOTQ5MzQ0NjM1MDA5NzY2LCAtMi4wNzM4MTc0OTE1MzEzNzIsXG4gIDMuNDA3NTA1MDM1NDAwMzkwNiwgMS45NjUyMjQ4NjIwOTg2OTM4LCAtMS4xOTMyODExNzM3MDYwNTQ3LFxuICAtMi4zMDM5OTM0NjM1MTYyMzU0LCAtMi43NDM3NDY5OTU5MjU5MDMzLCAtMS43ODEwNDI1NzU4MzYxODE2LFxuICAxLjU4NDE5MzM0ODg4NDU4MjUsIDIuODAzMjExNjg4OTk1MzYxMywgMC4yNTQxMjM4NjY1NTgwNzQ5NSxcbiAgLTEuNDY0NDYyOTk1NTI5MTc0OCwgNC4xODM4MTExODc3NDQxNDEsIC0wLjE3OTczOTk4MTg4OTcyNDczLFxuICAyLjc5NjEzNDIzMzQ3NDczMTQsIDEuMzk1Mzk2MzUxODE0MjcsIDAuMzQ0Mzc5NjAzODYyNzYyNDUsXG4gIC0xLjExNzMxNDY5NjMxMTk1MDcsIDAuNDA2MjYwNTIwMjE5ODAyODYsIC0xLjU4MjQzOTc4MDIzNTI5MDUsXG4gIDAuMTQ1NjM0Mjc4NjU1MDUyMTksIC0yLjM5OTQxNDUzOTMzNzE1OCwgNi42NTYwMjg3NDc1NTg1OTQsXG4gIDAuODI3OTgwMzM5NTI3MTMwMSwgLTAuNzg5NjIzMTQxMjg4NzU3MywgLTIuMzg4MTU1NDYwMzU3NjY2LFxuICAtMC41ODk0ODA3NTc3MTMzMTc5LCAtMS41NDg2NDUxMzg3NDA1Mzk2LCAtMC45MjcyNjgxNDc0Njg1NjY5LFxuICAtMi41ODA1ODYxOTQ5OTIwNjU0LCAwLjE4MTQwMDQxODI4MTU1NTE4LCAtMS40OTkzNjE2MzQyNTQ0NTU2LFxuICAwLjY2OTI0NzA5MDgxNjQ5NzgsIC0zLjQ0NTIwNTQ1MDA1Nzk4MzQsIC0xLjEyNzg3OTg1ODAxNjk2NzgsXG4gIC01Ljc0NjUzMTk2MzM0ODM4OSwgMC42OTI5MDYzNzk2OTk3MDcsIDAuMzgxNTY1NDgxNDI0MzMxNjcsIDEuNzYzMzA2NzM2OTQ2MTA2LFxuICAtNC4yOTQ4NjI3NDcxOTIzODMsIDAuNjcwNjYyNTgxOTIwNjIzOCwgLTAuNDIxMDQ1NjMxMTcwMjcyOCxcbiAgLTIuODYzNzIwMTc4NjA0MTI2LCAtMC45MTI0NzU3NjQ3NTE0MzQzLCAyLjA3NTI2MzAyMzM3NjQ2NSxcbiAgLTMuOTc4NTg5MDU3OTIyMzYzMywgMC4yODgyMzczNjMxMDAwNTE5LCAwLjQ4NDcyMDQwODkxNjQ3MzQsXG4gIC02LjU3NTgxNDcyMzk2ODUwNiwgLTYuMTk4NTgyNjQ5MjMwOTU3LCAwLjQzMTA1MTQzMzA4NjM5NTI2LFxuICAtNS42NjI0MTQwNzM5NDQwOTIsIC00LjU0MTcwMzcwMTAxOTI4NywgLTYuNzE0MTQwNDE1MTkxNjUsIC01LjY4Nzg0OTA0NDc5OTgwNSxcbiAgLTkuNjQ3NzU0NjY5MTg5NDUzLCAtMi42ODIwOTg4NjU1MDkwMzMsIC0yLjA5OTQ4NjU4OTQzMTc2MjcsXG4gIDIuOTkyNzQ4NzM3MzM1MjA1LCAtNi4yNjk1Mjc0MzUzMDI3MzQsIDIuNzY0NDM3MTk4NjM4OTE2LCA1LjU3MTk5MzM1MDk4MjY2NixcbiAgMC44MTc2ODA4MzU3MjM4NzcsIDMuMDc0ODg1ODQ1MTg0MzI2LCAtMi43MjcxOTg2MDA3NjkwNDMsIDkuNjEzMjEzNTM5MTIzNTM1LFxuICA0LjgyMDkxMDkzMDYzMzU0NSwgLTQuODI4Nzk0OTU2MjA3Mjc1LCAtNi42NDQyNTE4MjM0MjUyOTMsXG5dKVxuIiwiLy8gbGV0IE1vZHVsZSA9IHsgVE9UQUxfTUVNT1JZOiAyNTYgKiAxMDI0ICogMTAyNCB9XG4vLyBpbXBvcnRTY3JpcHRzKFxuLy8gICBcIi4uL3JhbmRvbV9ub3JtYWwuanNcIixcbi8vICAgXCIuLi9jbWFfbGliLmpzXCIsXG4vLyAgIFwiLi4vZ2xvYmFscy5qc1wiLFxuLy8gICBcIi4uL3RpcHB5LmpzXCIsXG4vLyAgIFwiLi4vY21hTWVhbkluaXQuanNcIlxuLy8gKVxuXG5pbXBvcnQgeyBnbG9iYWxzIH0gZnJvbSBcIi4vLi4vZ2xvYmFscy5qc1wiXG5pbXBvcnQgeyBjbWFNZWFuSW5pdCB9IGZyb20gXCIuLy4uL2NtYU1lYW5Jbml0LmpzXCJcbmltcG9ydCB7IHVwZGF0ZURpcmVjdGlvbiB9IGZyb20gXCIuLy4uL3RpcHB5LmpzXCJcbmltcG9ydCB7IENNQSwgZ2V0RGVmYXVsdENNQVBvcHNpemUgfSBmcm9tIFwiLi8uLi8uLi8uLi9qcy9jbWEtbGliLmpzXCJcblxubGV0IGNtYSxcbiAgaW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICBjb25zdCBbaW5mbywgbXNnXSA9IGUuZGF0YVxuICBpZiAoaW5mbyA9PSBcImluaXRfaW5mb1wiICYmICFpbml0aWFsaXplZCkge1xuICAgIGluaXQobXNnKVxuICB9IGVsc2UgaWYgKGluZm8gPT0gXCJzb2x1dGlvbnNTY29yZXNcIikge1xuICAgIGNvbnN0IHNjb3JlcyA9IG1zZy5tYXAoKHgpID0+IHguc2NvcmUpXG4gICAgY21hLnRlbGwobXNnKVxuICAgIGNvbnNvbGUubG9nKGBtZWFuOiAgJHtzY29yZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYikgLyBzY29yZXMubGVuZ3RofWApXG4gICAgY29uc29sZS5sb2coYG1pbjogICR7TWF0aC5taW4oLi4uc2NvcmVzKX1gKVxuICAgIHBvc3RNZXNzYWdlKFtcImNtYU1lYW5XdHNcIiwgY21hLm1lYW4uc2xpY2UoKV0pXG4gICAgdHJhaW4oY21hKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQoaW5pdEluZm8pIHtcbiAgY29uc3QgeyBjbWFQb3BTaXplLCB0b3RhbFBvcFNpemUsIHNpbXVsYXRpb25Qb3BTaXplIH0gPSBnZXRQb3BzaXplcyhcbiAgICBpbml0SW5mby5uX2RpbVxuICApXG5cbiAgLy8gY29uc3QgY21hTWVhbiA9IG5ldyBGbG9hdDMyQXJyYXkoaW5pdEluZm8ubl9kaW0pLmZpbGwoMClcbiAgY29uc3QgY21hTWVhbiA9IGNtYU1lYW5Jbml0LnNsaWNlKClcbiAgY21hID0gbmV3IENNQShjbWFNZWFuLCBnbG9iYWxzLmNtYVNpZ21hLCBjbWFQb3BTaXplLCB1bmRlZmluZWQsIHVuZGVmaW5lZClcbiAgLy8gaW5pdFNpbVdvcmtlcnMoaW5pdEluZm8udGVycmFpblB0cylcbiAgaW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgdHJhaW4oY21hKVxufVxuXG5mdW5jdGlvbiB0cmFpbihjbWEpIHtcbiAgY29uc3Qgc29sdXRpb25zID0gZ2V0TmV3U29sdXRpb25zKGNtYSksXG4gICAgdGFyZ2V0QXJyYXlzID0gZ2VuZXJhdGVUYXJnZXRBcnJheXMoKSxcbiAgICB3b3JrZXJTb2x1dGlvbkxlbmd0aCA9IHNvbHV0aW9ucy5sZW5ndGggLyBnbG9iYWxzLm5Xb3JrZXJzXG4gIGxldCBzb2x1dGlvbklkeCA9IDBcbiAgY29uc3QgdGFyZ2V0c1NvbHV0aW9ucyA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYmFscy5uV29ya2VyczsgaSsrKSB7XG4gICAgdGFyZ2V0c1NvbHV0aW9ucy5wdXNoKHtcbiAgICAgIHRhcmdldHM6IHRhcmdldEFycmF5cyxcbiAgICAgIHNvbHV0aW9uczogc29sdXRpb25zLnNsaWNlKFxuICAgICAgICBzb2x1dGlvbklkeCxcbiAgICAgICAgc29sdXRpb25JZHggKyB3b3JrZXJTb2x1dGlvbkxlbmd0aFxuICAgICAgKSxcbiAgICB9KVxuICAgIHNvbHV0aW9uSWR4ICs9IHdvcmtlclNvbHV0aW9uTGVuZ3RoXG4gIH1cbiAgcG9zdE1lc3NhZ2UoW1widGFyZ2V0c1NvbHV0aW9uc1wiLCB0YXJnZXRzU29sdXRpb25zXSlcbn1cblxuZnVuY3Rpb24gZ2V0TmV3U29sdXRpb25zKGNtYSkge1xuICBsZXQgYmFkU29sdXRpb24gPSBmYWxzZVxuICBjb25zdCBzb2x1dGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KGNtYS5wb3BzaXplICogY21hLm5fZGltKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNtYS5wb3BzaXplOyBpKyspIHtcbiAgICBjb25zdCBzb2x1dGlvbiA9IGNtYS5hc2soKVxuICAgIGlmIChzb2x1dGlvbi5jb25zdHJ1Y3RvciAhPT0gRmxvYXQzMkFycmF5KSB7XG4gICAgICBiYWRTb2x1dGlvbiA9IHRydWVcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc29sdXRpb24ubGVuZ3RoOyBqKyspIHtcbiAgICAgIHNvbHV0aW9uc1tpICogc29sdXRpb24ubGVuZ3RoICsgal0gPSBzb2x1dGlvbltqXVxuICAgIH1cbiAgfVxuICAvLyBjb25zb2xlLmxvZyhjbWEubWVhbilcbiAgaWYgKCFiYWRTb2x1dGlvbikge1xuICAgIHJldHVybiBzb2x1dGlvbnNcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcImFzayBmYWlsZWRcIilcbiAgICBjb25zb2xlLmxvZyhjbWEpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcGlzb2RlVGFyZ2V0cyh0d2l0Y2hpbmVzcykge1xuICBjb25zdCB0YXJnZXRTaW5zID0gbmV3IEZsb2F0MzJBcnJheShnbG9iYWxzLmVwTGVuKS5maWxsKDApLFxuICAgIHRhcmdldFZlbHMgPSBuZXcgRmxvYXQzMkFycmF5KGdsb2JhbHMuZXBMZW4pLmZpbGwoMClcbiAgbGV0IGxlZnREb3duID0gZmFsc2UsXG4gICAgcmlnaHREb3duID0gZmFsc2VcblxuICBpZiAodHdpdGNoaW5lc3MgIT0gbnVsbCAmJiB0d2l0Y2hpbmVzcyA+IDApIHtcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuICAgICAgcmlnaHREb3duID0gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBsZWZ0RG93biA9IHRydWVcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMTsgaSA8IGdsb2JhbHMuZXBMZW47IGkrKykge1xuICAgIGlmICh0d2l0Y2hpbmVzcyA9PT0gbnVsbCkge1xuICAgICAgcmlnaHREb3duID0gdHJ1ZVxuICAgICAgbGVmdERvd24gPSBmYWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiAoTWF0aC5yYW5kb20oKSA8IHR3aXRjaGluZXNzKSB7XG4gICAgICAvLyAgIGxlZnREb3duID0gIWxlZnREb3duXG4gICAgICAvLyB9XG4gICAgICAvLyBpZiAoTWF0aC5yYW5kb20oKSA8IHR3aXRjaGluZXNzKSB7XG4gICAgICAvLyAgIHJpZ2h0RG93biA9ICFyaWdodERvd25cbiAgICAgIC8vIH1cbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgdHdpdGNoaW5lc3MpIHtcbiAgICAgICAgY29uc3QgcmFuZCA9IE1hdGgucmFuZG9tKClcbiAgICAgICAgaWYgKHJhbmQgPCAwLjcpIHtcbiAgICAgICAgICAvLyA2MCUgY2hhbmNlIHRvIGNob29zZSBvbmUgb3Igc3dpdGNoXG4gICAgICAgICAgaWYgKGxlZnREb3duID09IHJpZ2h0RG93bikge1xuICAgICAgICAgICAgLy8gY2hvb3NlIHJhbmRvbSBpZiBuZWl0aGVyIG9yIGJvdGhcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgICAgICAgIGxlZnREb3duID0gdHJ1ZVxuICAgICAgICAgICAgICByaWdodERvd24gPSBmYWxzZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGVmdERvd24gPSBmYWxzZVxuICAgICAgICAgICAgICByaWdodERvd24gPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN3aXRjaCBkaXJlY3Rpb25cbiAgICAgICAgICAgIGlmIChyaWdodERvd24pIHtcbiAgICAgICAgICAgICAgbGVmdERvd24gPSB0cnVlXG4gICAgICAgICAgICAgIHJpZ2h0RG93biA9IGZhbHNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZWZ0RG93biA9IGZhbHNlXG4gICAgICAgICAgICAgIHJpZ2h0RG93biA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZCA8IDAuOSkge1xuICAgICAgICAgIC8vIDIwJSBjaGFuY2UgdG8gY29hc3RcbiAgICAgICAgICBsZWZ0RG93biA9IGZhbHNlXG4gICAgICAgICAgcmlnaHREb3duID0gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyAxMCUgY2hhbmNlIHRvIHByZXNzIHJhbmRvbVxuICAgICAgICAgIC8vIChtYXliZSBib3RoLCBtYXliZSBvbmUpXG4gICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcbiAgICAgICAgICAgIGxlZnREb3duID0gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByaWdodERvd24gPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIDtbdGFyZ2V0U2luc1tpXSwgdGFyZ2V0VmVsc1tpXV0gPSB1cGRhdGVEaXJlY3Rpb24oXG4gICAgICBsZWZ0RG93bixcbiAgICAgIHJpZ2h0RG93bixcbiAgICAgIHRhcmdldFNpbnNbaSAtIDFdLFxuICAgICAgdGFyZ2V0VmVsc1tpIC0gMV1cbiAgICApXG4gIH1cbiAgLy8gcmV0dXJuIHRhcmdldFNpbnNcbiAgcmV0dXJuIGdsb2JhbHMudGFyZ2V0VHlwZSA9PT0gXCJzaW5cIiA/IHRhcmdldFNpbnMgOiB0YXJnZXRWZWxzXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVGFyZ2V0QXJyYXlzKCkge1xuICBjb25zdCB0YXJnZXRBcnJheXMgPSBbXVxuICBmb3IgKGxldCB0d2l0Y2hpbmVzcyBvZiBnbG9iYWxzLnR3aXRjaGluZXNzZXMpIHtcbiAgICB0YXJnZXRBcnJheXMucHVzaChnZW5lcmF0ZUVwaXNvZGVUYXJnZXRzKHR3aXRjaGluZXNzKSlcbiAgfVxuICByZXR1cm4gdGFyZ2V0QXJyYXlzXG59XG5cbmZ1bmN0aW9uIGdldENyZWF0dXJlc1BlcldvcmtlcihuX2RpbSkge1xuICByZXR1cm4gTWF0aC5jZWlsKFxuICAgICg0ICsgTWF0aC5mbG9vcigzICogTWF0aC5sb2cobl9kaW0pKSkgKlxuICAgICAgKGdsb2JhbHMubXVsdGlwbGllciAvIGdsb2JhbHMubldvcmtlcnMpXG4gICkgLy8gKGVxLiA0OClcbn1cblxuLy8gZnVuY3Rpb24gZ2V0RGVmYXVsdENNQVBvcHNpemUobl9kaW0pIHtcbi8vICAgcmV0dXJuIDQgKyBNYXRoLmZsb29yKDMgKiBNYXRoLmxvZyhuX2RpbSkpIC8vIChlcS4gNDgpXG4vLyB9XG5cbmZ1bmN0aW9uIGdldFBvcHNpemVzKG5fZGltKSB7XG4gIGNvbnN0IGRlZmF1bHRQb3BTaXplID0gZ2V0RGVmYXVsdENNQVBvcHNpemUobl9kaW0pLFxuICAgIGNtYVBvcFNpemUgPVxuICAgICAgZ2xvYmFscy5uV29ya2VycyAqXG4gICAgICBNYXRoLmNlaWwoKGdsb2JhbHMubXVsdGlwbGllciAqIGRlZmF1bHRQb3BTaXplKSAvIGdsb2JhbHMubldvcmtlcnMpLFxuICAgIHRvdGFsUG9wU2l6ZSA9IGNtYVBvcFNpemUgKiBnbG9iYWxzLnR3aXRjaGluZXNzZXMubGVuZ3RoLFxuICAgIHNpbXVsYXRpb25Qb3BTaXplID0gdG90YWxQb3BTaXplIC8gZ2xvYmFscy5uV29ya2Vyc1xuICByZXR1cm4geyBjbWFQb3BTaXplLCB0b3RhbFBvcFNpemUsIHNpbXVsYXRpb25Qb3BTaXplIH1cbn1cbiIsImltcG9ydCB7IGdsb2JhbHMgfSBmcm9tIFwiLi9nbG9iYWxzLmpzXCJcbmltcG9ydCB7IHJhbmRfbm9ybWFsIH0gZnJvbSBcIi4vcmFuZG9tX25vcm1hbC5qc1wiXG5cbmNsYXNzIFRpcHB5IHtcbiAgY29uc3RydWN0b3Iod2hlZWxQb3NJbml0LCB3b3JsZCwgYjIsIHBvcHVsYXRpb24pIHtcbiAgICB0aGlzLnBvcHVsYXRpb24gPSBwb3B1bGF0aW9uXG4gICAgY29uc29sZS5hc3NlcnQod2hlZWxQb3NJbml0Lmxlbmd0aCA9PSAyLCBcIlRpcHB5IHJlcXVpcmVzIDJkIHdoZWVsUG9zXCIpXG4gICAgLy8gdGhpcy53aGVlbFBvc0luaXQgPSB3aGVlbFBvc0luaXQuc2xpY2UoKVxuICAgIHRoaXMud2hlZWxSID0gMC4yNVxuICAgIHRoaXMud2hlZWxQb3NJbml0ID0gW3doZWVsUG9zSW5pdFswXSwgd2hlZWxQb3NJbml0WzFdIC0gdGhpcy53aGVlbFJdXG4gICAgY29uc3Qgd2hlZWxGcmljdGlvbiA9IDAuOSxcbiAgICAgIHdoZWVsRGVuc2l0eSA9IDAuNSxcbiAgICAgIHdoZWVsUmVzdGl0dXRpb24gPSAwLjEsXG4gICAgICBjaGFzc2lzRGVuc2l0eSA9IDIuMFxuICAgIHRoaXMuY2hhc3Npc0ggPSAxLjBcbiAgICB0aGlzLmNoYXNzaXNXID0gMC4zXG4gICAgdGhpcy5heGxlT2Zmc2V0WSA9IDAuMVxuXG4gICAgLy8gY3JlYXRlIHdoZWVsXG4gICAge1xuICAgICAgY29uc3QgYmQgPSBuZXcgYjIuYjJCb2R5RGVmKClcbiAgICAgIGJkLnNldF90eXBlKGIyLmIyX2R5bmFtaWNCb2R5KVxuICAgICAgYmQuc2V0X3Bvc2l0aW9uKG5ldyBiMi5iMlZlYzIoLi4udGhpcy53aGVlbFBvc0luaXQpKVxuICAgICAgdGhpcy53aGVlbEJvZHkgPSB3b3JsZC5DcmVhdGVCb2R5KGJkKVxuXG4gICAgICBjb25zdCBzaGFwZSA9IG5ldyBiMi5iMkNpcmNsZVNoYXBlKClcbiAgICAgIHNoYXBlLnNldF9tX3JhZGl1cyh0aGlzLndoZWVsUilcblxuICAgICAgY29uc3QgZmQgPSBuZXcgYjIuYjJGaXh0dXJlRGVmKClcbiAgICAgIGZkLnNldF9zaGFwZShzaGFwZSlcbiAgICAgIGZkLnNldF9kZW5zaXR5KHdoZWVsRGVuc2l0eSlcbiAgICAgIGZkLnNldF9mcmljdGlvbih3aGVlbEZyaWN0aW9uKVxuICAgICAgZmQuc2V0X3Jlc3RpdHV0aW9uKHdoZWVsUmVzdGl0dXRpb24pXG5cbiAgICAgIGNvbnN0IGZpbHRlciA9IGZkLmdldF9maWx0ZXIoKVxuICAgICAgZmlsdGVyLnNldF9jYXRlZ29yeUJpdHMoMHgwMDAyKVxuICAgICAgZmlsdGVyLnNldF9tYXNrQml0cygweDAwMDEpXG4gICAgICBmZC5zZXRfZmlsdGVyKGZpbHRlcilcbiAgICAgIGNvbnN0IGZpeHR1cmUgPSBiMi5jYXN0T2JqZWN0KFxuICAgICAgICB0aGlzLndoZWVsQm9keS5DcmVhdGVGaXh0dXJlKGZkKSxcbiAgICAgICAgYjIuYjJGaXh0dXJlXG4gICAgICApXG4gICAgICBmaXh0dXJlLnBhcnRUeXBlID0gXCJ3aGVlbFwiXG4gICAgICBmaXh0dXJlLnNwb3QgPSB0aGlzXG5cbiAgICAgIHRoaXMud2hlZWxNYXNzID0gdGhpcy53aGVlbEJvZHkuR2V0TWFzcygpXG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGNoYXNzaXNcbiAgICB7XG4gICAgICBjb25zdCBlZGdlWCA9IDAuNSAqIHRoaXMuY2hhc3Npc1csXG4gICAgICAgIGVkZ2VZID0gMC41ICogdGhpcy5jaGFzc2lzSCxcbiAgICAgICAgY3V0b3V0WCA9IDAuMiAqIHRoaXMuY2hhc3Npc1csXG4gICAgICAgIGN1dG91dFkgPSAwLjM1ICogdGhpcy5jaGFzc2lzSFxuXG4gICAgICB0aGlzLmNoYXNzaXNWZXJ0aWNlcyA9IFtcbiAgICAgICAgWytlZGdlWCwgLWVkZ2VZXSxcbiAgICAgICAgWy1lZGdlWCwgLWVkZ2VZXSxcbiAgICAgICAgWy1lZGdlWCwgK2N1dG91dFldLFxuICAgICAgICBbLWN1dG91dFgsICtlZGdlWV0sXG4gICAgICAgIFsrY3V0b3V0WCwgK2VkZ2VZXSxcbiAgICAgICAgWytlZGdlWCwgK2N1dG91dFldLFxuICAgICAgXVxuXG4gICAgICBjb25zdCBiMkNoYXNzaXNWZXJ0aWNlcyA9IFtdXG4gICAgICBmb3IgKGxldCB2ZXJ0ZXggb2YgdGhpcy5jaGFzc2lzVmVydGljZXMpIHtcbiAgICAgICAgYjJDaGFzc2lzVmVydGljZXMucHVzaChcbiAgICAgICAgICBuZXcgYjIuYjJWZWMyKFxuICAgICAgICAgICAgdmVydGV4WzBdICsgdGhpcy53aGVlbFBvc0luaXRbMF0sXG4gICAgICAgICAgICB2ZXJ0ZXhbMV0gKyB0aGlzLndoZWVsUG9zSW5pdFsxXVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICB0aGlzLmNoYXNzaXNQb3NJbml0ID0gW1xuICAgICAgICB0aGlzLndoZWVsUG9zSW5pdFswXSxcbiAgICAgICAgdGhpcy53aGVlbFBvc0luaXRbMV0gLSAwLjUgKiB0aGlzLmNoYXNzaXNIICsgdGhpcy5heGxlT2Zmc2V0WSxcbiAgICAgIF1cbiAgICAgIGNvbnN0IGJkID0gbmV3IGIyLmIyQm9keURlZigpXG4gICAgICBiZC5zZXRfdHlwZShiMi5iMl9keW5hbWljQm9keSlcbiAgICAgIGJkLnNldF9wb3NpdGlvbihuZXcgYjIuYjJWZWMyKC4uLnRoaXMuY2hhc3Npc1Bvc0luaXQpKVxuICAgICAgLy8gYmQuc2V0X2xpbmVhckRhbXBpbmcoMC4xKVxuICAgICAgLy8gYmQuc2V0X2FuZ3VsYXJEYW1waW5nKDAuMSlcbiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSB3b3JsZC5DcmVhdGVCb2R5KGJkKVxuICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLmIyQ3JlYXRlUG9seWdvblNoYXBlKGIyQ2hhc3Npc1ZlcnRpY2VzLCBiMilcbiAgICAgIGNvbnN0IGZkID0gbmV3IGIyLmIyRml4dHVyZURlZigpXG4gICAgICBjb25zdCBmaWx0ZXIgPSBmZC5nZXRfZmlsdGVyKClcbiAgICAgIGZpbHRlci5zZXRfY2F0ZWdvcnlCaXRzKDB4MDAwMilcbiAgICAgIGZpbHRlci5zZXRfbWFza0JpdHMoMHgwMDAxKVxuICAgICAgZmQuc2V0X2ZpbHRlcihmaWx0ZXIpXG4gICAgICBmZC5zZXRfZGVuc2l0eShjaGFzc2lzRGVuc2l0eSlcbiAgICAgIGZkLnNldF9zaGFwZShzaGFwZSlcbiAgICAgIC8vIGZkLnNldF9mcmljdGlvbigwLjMpXG4gICAgICAvLyBmZC5zZXRfcmVzdGl0dXRpb24oMC4xKVxuICAgICAgY29uc3QgZml4dHVyZSA9IGIyLmNhc3RPYmplY3QoXG4gICAgICAgIHRoaXMuY2hhc3Npc0JvZHkuQ3JlYXRlRml4dHVyZShmZCksXG4gICAgICAgIGIyLmIyRml4dHVyZVxuICAgICAgKVxuICAgICAgZml4dHVyZS5wYXJ0VHlwZSA9IFwiY2hhc3Npc1wiXG4gICAgICBmaXh0dXJlLnNwb3QgPSB0aGlzXG4gICAgICB0aGlzLmNoYXNzaXNNYXNzID0gdGhpcy5jaGFzc2lzQm9keS5HZXRNYXNzKClcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgam9pbnRcbiAgICB7XG4gICAgICBjb25zdCBqZCA9IG5ldyBiMi5iMlJldm9sdXRlSm9pbnREZWYoKVxuICAgICAgamQuSW5pdGlhbGl6ZShcbiAgICAgICAgdGhpcy53aGVlbEJvZHksXG4gICAgICAgIHRoaXMuY2hhc3Npc0JvZHksXG4gICAgICAgIG5ldyBiMi5iMlZlYzIoLi4udGhpcy53aGVlbFBvc0luaXQpXG4gICAgICApXG5cbiAgICAgIGpkLnNldF9lbmFibGVNb3Rvcih0cnVlKVxuICAgICAgamQuc2V0X21heE1vdG9yVG9ycXVlKGdsb2JhbHMubWF4VG9ycXVlKVxuICAgICAgdGhpcy5heGxlID0gYjIuY2FzdE9iamVjdCh3b3JsZC5DcmVhdGVKb2ludChqZCksIGIyLmIyUmV2b2x1dGVKb2ludClcbiAgICB9XG5cbiAgICB0aGlzLmlucHV0RGltID0gdGhpcy5nZXRJbnB1dHMoMCkubGVuZ3RoXG4gICAgLy8gLy8gdGhpcy5zaGFwZXMgPSBbdGhpcy5pbnB1dERpbSwgMTYsIDgsIDRdXG4gICAgLy8gLy8gdGhpcy5zaGFwZXMgPSBbdGhpcy5pbnB1dERpbSwgMjAsIDEwLCA0XVxuICAgIHRoaXMuc2hhcGVzID0gW3RoaXMuaW5wdXREaW0sIDEyLCA4LCAxXVxuXG4gICAgdGhpcy5uX2RpbSA9IDBcbiAgICB0aGlzLndlaWdodENvdW50ID0gMFxuICAgIHRoaXMuYmlhc0NvdW50ID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaGFwZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBjb25zdCBuID0gdGhpcy5zaGFwZXNbaV0sXG4gICAgICAgIG0gPSB0aGlzLnNoYXBlc1tpICsgMV1cbiAgICAgIHRoaXMubl9kaW0gKz0gKG4gKyAxKSAqIG1cbiAgICAgIHRoaXMud2VpZ2h0Q291bnQgKz0gbiAqIG1cbiAgICAgIHRoaXMuYmlhc0NvdW50ICs9IG1cbiAgICB9XG5cbiAgICB0aGlzLnJlc2V0KGIyKVxuICB9XG5cbiAgYjJDcmVhdGVQb2x5Z29uU2hhcGUodmVydGljZXMsIGIyKSB7XG4gICAgY29uc3Qgc2hhcGUgPSBuZXcgYjIuYjJQb2x5Z29uU2hhcGUoKVxuICAgIGNvbnN0IGJ1ZmZlciA9IGIyLl9tYWxsb2ModmVydGljZXMubGVuZ3RoICogOClcbiAgICBsZXQgb2Zmc2V0ID0gMFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGIyLkhFQVBGMzJbKGJ1ZmZlciArIG9mZnNldCkgPj4gMl0gPSB2ZXJ0aWNlc1tpXS5nZXRfeCgpXG4gICAgICBiMi5IRUFQRjMyWyhidWZmZXIgKyAob2Zmc2V0ICsgNCkpID4+IDJdID0gdmVydGljZXNbaV0uZ2V0X3koKVxuICAgICAgb2Zmc2V0ICs9IDhcbiAgICB9XG4gICAgY29uc3QgcHRyX3dyYXBwZWQgPSBiMi53cmFwUG9pbnRlcihidWZmZXIsIGIyLmIyVmVjMilcbiAgICBzaGFwZS5TZXQocHRyX3dyYXBwZWQsIHZlcnRpY2VzLmxlbmd0aClcbiAgICByZXR1cm4gc2hhcGVcbiAgfVxuXG4gIHNldFd0cyhmbGF0V3RzKSB7XG4gICAgLy8gdGhpcy5mbGF0V3RzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLm5fZGltKS5tYXAoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSlcbiAgICB0aGlzLmZsYXRXdHMgPSBmbGF0V3RzXG4gICAgbGV0IGZsYXRXdElkeCA9IDBcbiAgICB0aGlzLndlaWdodHMgPSBbXVxuICAgIC8vIHRoaXMud2VpZ2h0Q291bnQgPSAwXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNoYXBlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLnNoYXBlc1tpXSxcbiAgICAgICAgbSA9IHRoaXMuc2hhcGVzW2kgKyAxXSxcbiAgICAgICAgbmV3V2VpZ2h0ID0gRmxvYXQzMkFycmF5LmZyb20oXG4gICAgICAgICAgdGhpcy5mbGF0V3RzLnNsaWNlKGZsYXRXdElkeCwgZmxhdFd0SWR4ICsgbiAqIG0pXG4gICAgICAgIClcbiAgICAgIC8vIHRoaXMud2VpZ2h0Q291bnQgKz0gbmV3V2VpZ2h0Lmxlbmd0aFxuICAgICAgdGhpcy53ZWlnaHRzLnB1c2gobmV3IE1hdHJpeChuZXdXZWlnaHQsIG4sIG0pKVxuICAgICAgZmxhdFd0SWR4ICs9IG4gKiBtXG4gICAgfVxuICAgIHRoaXMuYmlhc2VzID0gW11cbiAgICAvLyB0aGlzLmJpYXNDb3VudCA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2hhcGVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY29uc3QgbiA9IDEsXG4gICAgICAgIG0gPSB0aGlzLnNoYXBlc1tpICsgMV0sXG4gICAgICAgIG5ld0JpYXMgPSBGbG9hdDMyQXJyYXkuZnJvbShcbiAgICAgICAgICB0aGlzLmZsYXRXdHMuc2xpY2UoZmxhdFd0SWR4LCBmbGF0V3RJZHggKyBuICogbSlcbiAgICAgICAgKVxuICAgICAgLy8gdGhpcy5iaWFzQ291bnQgKz0gbmV3Qmlhcy5sZW5ndGhcbiAgICAgIHRoaXMuYmlhc2VzLnB1c2gobmV3IE1hdHJpeChuZXdCaWFzLCBuLCBtKSlcbiAgICAgIGZsYXRXdElkeCArPSBuICogbVxuICAgIH1cbiAgfVxuXG4gIHJlc2V0KGIyKSB7XG4gICAgdGhpcy5jaGFzc2lzQm9keS5TZXRUcmFuc2Zvcm0obmV3IGIyLmIyVmVjMiguLi50aGlzLmNoYXNzaXNQb3NJbml0KSwgMClcbiAgICB0aGlzLmNoYXNzaXNCb2R5LlNldExpbmVhclZlbG9jaXR5KG5ldyBiMi5iMlZlYzIoMCwgMCkpXG4gICAgdGhpcy5jaGFzc2lzQm9keS5TZXRBbmd1bGFyVmVsb2NpdHkoMClcbiAgICB0aGlzLmNoYXNzaXNCb2R5LlNldEF3YWtlKDEpXG5cbiAgICB0aGlzLndoZWVsQm9keS5TZXRUcmFuc2Zvcm0obmV3IGIyLmIyVmVjMiguLi50aGlzLndoZWVsUG9zSW5pdCksIDApXG4gICAgdGhpcy53aGVlbEJvZHkuU2V0TGluZWFyVmVsb2NpdHkobmV3IGIyLmIyVmVjMigwLCAwKSlcbiAgICB0aGlzLndoZWVsQm9keS5TZXRBbmd1bGFyVmVsb2NpdHkoMClcbiAgICB0aGlzLndoZWVsQm9keS5TZXRBd2FrZSgxKVxuXG4gICAgdGhpcy50YXJnZXRTcUVyclN1bSA9IDBcbiAgICB0aGlzLnRhcmdldFByZXYgPSBudWxsXG5cbiAgICB0aGlzLnByZXZPdXRwdXQgPSAwXG4gICAgdGhpcy5vdXRwdXREaWZmU3FTdW0gPSAwXG5cbiAgICB0aGlzLnByZXZXaGVlbFZlbFggPSAwXG4gICAgdGhpcy53aGVlbEFjY1ggPSAwXG4gICAgdGhpcy5wcmV2Q2hhc3Npc1ZlbFggPSAwXG4gICAgdGhpcy5jaGFzc2lzQWNjWCA9IDBcblxuICAgIHRoaXMuZHJpZnRYU3FTdW0gPSAwXG4gICAgdGhpcy5jcmFzaFN0ZXBDb3VudCA9IDBcbiAgfVxuXG4gIHVwZGF0ZVRhcmdldFNjb3JlKHRhcmdldCwgY3VycmVudCkge1xuICAgIGNvbnN0IGRpZmYgPSB0YXJnZXQgLSBjdXJyZW50LFxuICAgICAgZGlmZlNxID0gZGlmZiAqIGRpZmYsXG4gICAgICBkZW5vbSA9IE1hdGguYWJzKHRhcmdldCkgKyBnbG9iYWxzLnNjb3JlRGVub21FcHNcbiAgICAvLyB0aGlzLnRhcmdldFNxRXJyU3VtICs9IGRpZmZTcSAvIGRlbm9tXG4gICAgdGhpcy50YXJnZXRTcUVyclN1bSArPSBnbG9iYWxzLnRhcmdldFR5cGUgPT09IFwidmVsXCIgPyBkaWZmU3EgOiAxZTIgKiBkaWZmU3FcbiAgfVxuXG4gIHNldFNwZWVkKHNwZWVkKSB7XG4gICAgdGhpcy5heGxlLlNldE1vdG9yU3BlZWQoc3BlZWQpXG4gIH1cblxuICBnZXRJbnB1dHModGFyZ2V0KSB7XG4gICAgdGhpcy5yZXZlcnNlID0gdGFyZ2V0ICE9IDAgPyBNYXRoLnNpZ24odGFyZ2V0KSA6IDFcbiAgICBsZXQgaW5wdXRzXG4gICAgaWYgKHRoaXMuaW5wdXREaW0gIT0gbnVsbCkge1xuICAgICAgaW5wdXRzID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLmlucHV0RGltKVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dHMgPSBbXVxuICAgIH1cbiAgICBsZXQgaSA9IDBcbiAgICAvLyBlbGV2YXRpb25cbiAgICBjb25zdCB3aGVlbFBvcyA9IHRoaXMud2hlZWxCb2R5LkdldFBvc2l0aW9uKCksXG4gICAgICB3aGVlbFggPSB3aGVlbFBvcy5nZXRfeCgpLFxuICAgICAgd2hlZWxZID0gd2hlZWxQb3MuZ2V0X3koKVxuICAgIC8vICAgaW50ZXJwWSA9IGludGVycFRlcnJhaW5ZKHdoZWVsWCwgdGhpcy5wb3B1bGF0aW9uLnRlcnJhaW5QdHMpXG4gICAgLy8gdGhpcy55Q2xlYXJhbmNlID0gaW50ZXJwWSAtIHdoZWVsWSAtIHRoaXMud2hlZWxSXG4gICAgLy8gaW5wdXRzW2ldID0gdGhpcy55Q2xlYXJhbmNlXG4gICAgLy8gaSsrXG4gICAgdGhpcy5saWRhcllzID0gW11cbiAgICBmb3IgKGxldCB4T2ZmIG9mIGdsb2JhbHMueE9mZnMpIHtcbiAgICAgIGNvbnN0IGxpZGFyWSA9XG4gICAgICAgIGludGVycFRlcnJhaW5ZKFxuICAgICAgICAgIHdoZWVsWCArIHRoaXMucmV2ZXJzZSAqIHhPZmYsXG4gICAgICAgICAgdGhpcy5wb3B1bGF0aW9uLnRlcnJhaW5QdHNcbiAgICAgICAgKSAtXG4gICAgICAgIHdoZWVsWSAtXG4gICAgICAgIHRoaXMud2hlZWxSXG4gICAgICB0aGlzLmxpZGFyWXMucHVzaChsaWRhclkpXG4gICAgICBpbnB1dHNbaV0gPSBsaWRhcllcbiAgICAgIGkrK1xuICAgIH1cblxuICAgIC8vIGNoYXNzaXNTaW5cbiAgICBjb25zdCBjaGFzc2lzU2luID0gTWF0aC5zaW4odGhpcy5jaGFzc2lzQm9keS5HZXRBbmdsZSgpKVxuICAgIGlucHV0c1tpXSA9IHRoaXMucmV2ZXJzZSAqIGNoYXNzaXNTaW5cbiAgICBpKytcbiAgICBpZiAoTWF0aC5hYnMoY2hhc3Npc1NpbikgPiBnbG9iYWxzLmNyYXNoU2luTGltaXQpIHtcbiAgICAgIHRoaXMuY3Jhc2hTdGVwQ291bnQrK1xuICAgIH1cbiAgICAvLyBjaGFzc2lzVmVsWCwgY2hhc3Npc1ZlbFlcbiAgICBjb25zdCBjaGFzc2lzVmVsID0gdGhpcy5jaGFzc2lzQm9keS5HZXRMaW5lYXJWZWxvY2l0eSgpLFxuICAgICAgY2hhc3Npc1ZlbFggPSBjaGFzc2lzVmVsLmdldF94KClcbiAgICB0aGlzLmNoYXNzaXNBY2NYID0gY2hhc3Npc1ZlbFggLSB0aGlzLnByZXZDaGFzc2lzVmVsWFxuICAgIHRoaXMucHJldkNoYXNzaXNWZWxYID0gY2hhc3Npc1ZlbFhcbiAgICAvLyBpbnB1dHNbaV0gPSB0aGlzLnJldmVyc2UgKiBjaGFzc2lzVmVsLmdldF94KClcbiAgICAvLyBpKytcbiAgICAvLyBpbnB1dHNbaV0gPSBjaGFzc2lzVmVsLmdldF95KClcbiAgICAvLyBpKytcbiAgICAvLyBjaGFzc2lzQW5nVmVsXG4gICAgaWYgKHRhcmdldCA9PSAwKSB7XG4gICAgICB0aGlzLmRyaWZ0WFNxU3VtICs9IHRoaXMuY2hhc3Npc0FjY1ggKiB0aGlzLmNoYXNzaXNBY2NYXG4gICAgfVxuICAgIGNvbnN0IGNoYXNzaXNBbmdWZWwgPSB0aGlzLmNoYXNzaXNCb2R5LkdldEFuZ3VsYXJWZWxvY2l0eSgpXG4gICAgaW5wdXRzW2ldID0gdGhpcy5yZXZlcnNlICogY2hhc3Npc0FuZ1ZlbFxuICAgIGkrK1xuICAgIC8vIHdoZWVsVmVsWCwgd2hlZWxWZWxZXG4gICAgY29uc3Qgd2hlZWxWZWwgPSB0aGlzLndoZWVsQm9keS5HZXRMaW5lYXJWZWxvY2l0eSgpLFxuICAgICAgd2hlZWxWZWxYID0gd2hlZWxWZWwuZ2V0X3goKVxuICAgIHRoaXMud2hlZWxBY2NYID0gd2hlZWxWZWxYIC0gdGhpcy5wcmV2V2hlZWxWZWxYXG4gICAgdGhpcy5wcmV2V2hlZWxWZWxYID0gd2hlZWxWZWxYXG4gICAgaW5wdXRzW2ldID0gdGhpcy5yZXZlcnNlICogd2hlZWxWZWxYXG4gICAgaSsrXG4gICAgaW5wdXRzW2ldID0gd2hlZWxWZWwuZ2V0X3koKVxuICAgIGkrK1xuICAgIC8vIHdoZWVsQW5nVmVsXG4gICAgY29uc3Qgd2hlZWxBbmdWZWwgPSB0aGlzLndoZWVsQm9keS5HZXRBbmd1bGFyVmVsb2NpdHkoKVxuICAgIGlucHV0c1tpXSA9IHRoaXMucmV2ZXJzZSAqIHdoZWVsQW5nVmVsXG4gICAgaSsrXG4gICAgY29uc3QgYXhsZVJ4biA9IHRoaXMuYXhsZS5HZXRSZWFjdGlvbkZvcmNlKDYwKVxuICAgIGlucHV0c1tpXSA9IDFlLTIgKiB0aGlzLnJldmVyc2UgKiBheGxlUnhuLmdldF94KClcbiAgICBpKytcbiAgICBpbnB1dHNbaV0gPSAxZS0yICogYXhsZVJ4bi5nZXRfeSgpXG4gICAgaSsrXG4gICAgLy8gdGFyZ2V0XG4gICAgaW5wdXRzW2ldID0gdGhpcy5yZXZlcnNlICogdGFyZ2V0XG4gICAgaSsrXG5cbiAgICBpZiAodGhpcy50YXJnZXRQcmV2ICE9PSBudWxsKSB7XG4gICAgICBpZiAoZ2xvYmFscy50YXJnZXRUeXBlID09PSBcInNpblwiKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0U2NvcmUodGhpcy50YXJnZXRQcmV2LCBjaGFzc2lzU2luKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cGRhdGVUYXJnZXRTY29yZSh0aGlzLnRhcmdldFByZXYsIHdoZWVsVmVsWClcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50YXJnZXRQcmV2ID0gdGFyZ2V0XG5cbiAgICByZXR1cm4gaW5wdXRzXG4gIH1cblxuICB1cGRhdGUodGFyZ2V0KSB7XG4gICAgY29uc3QgaW5wdXRzQXJyYXkgPSB0aGlzLmdldElucHV0cyh0YXJnZXQpXG4gICAgY29uc3QgaW5wdXRzTWF0cml4ID0gbmV3IE1hdHJpeChpbnB1dHNBcnJheSwgMSwgaW5wdXRzQXJyYXkubGVuZ3RoKVxuICAgIGNvbnN0IG91dHB1dFJhdyA9IGlucHV0c01hdHJpeFxuICAgICAgLy8gY29uc3Qgc3BlZWRzID0gaW5wdXRzXG4gICAgICAubXVsKHRoaXMud2VpZ2h0c1swXSlcbiAgICAgIC5hZGQodGhpcy5iaWFzZXNbMF0pXG4gICAgICAvLyAucmVsdSgpXG4gICAgICAvLyAubGVha3lSZWx1KClcbiAgICAgIC5sZWFreUVsdSgpXG4gICAgICAubXVsKHRoaXMud2VpZ2h0c1sxXSlcbiAgICAgIC5hZGQodGhpcy5iaWFzZXNbMV0pXG4gICAgICAvLyAucmVsdSgpXG4gICAgICAvLyAubGVha3lSZWx1KClcbiAgICAgIC5sZWFreUVsdSgpXG4gICAgICAubXVsKHRoaXMud2VpZ2h0c1syXSlcbiAgICAgIC5hZGQodGhpcy5iaWFzZXNbMl0pLmRhdGFbMF1cblxuICAgIC8vIGNvbnN0IHJldmVyc2UgPSB0YXJnZXQgIT0gMCA/IE1hdGguc2lnbih0YXJnZXQpIDogMSxcbiAgICBjb25zdCBvdXRwdXQgPSB0aGlzLnJldmVyc2UgKiBvdXRwdXRSYXdcbiAgICB0aGlzLnNldFNwZWVkKG91dHB1dClcblxuICAgIGNvbnN0IG91dHB1dERpZmYgPSBvdXRwdXQgLSB0aGlzLnByZXZPdXRwdXRcbiAgICB0aGlzLm91dHB1dERpZmZTcVN1bSArPSBvdXRwdXREaWZmICogb3V0cHV0RGlmZlxuICAgIHRoaXMucHJldk91dHB1dCA9IG91dHB1dFxuICB9XG5cbiAgZ2V0IGRyYXdQb3NpdGlvbkRhdGEoKSB7XG4gICAgLy8gcmV0dXJuIHtcbiAgICAvLyAgIHdoZWVsUG9zQ3VycmVudDogdGhpcy53aGVlbEJvZHkuR2V0UG9zaXRpb24oKSxcbiAgICAvLyAgIHdoZWVsQW5nbGVDdXJyZW50OiB0aGlzLndoZWVsQm9keS5HZXRBbmdsZSgpLFxuICAgIC8vICAgY2hhc3Npc1Bvc0N1cnJlbnQ6IHRoaXMuY2hhc3Npc0JvZHkuR2V0UG9zaXRpb24oKSxcbiAgICAvLyAgIGNoYXNzaXNBbmdsZUN1cnJlbnQ6IHRoaXMuY2hhc3Npc0JvZHkuR2V0QW5nbGUoKSxcbiAgICAvLyB9XG4gICAgY29uc3Qgd2hlZWxQb3MgPSB0aGlzLndoZWVsQm9keS5HZXRQb3NpdGlvbigpLFxuICAgICAgY2hhc3Npc1BvcyA9IHRoaXMuY2hhc3Npc0JvZHkuR2V0UG9zaXRpb24oKVxuICAgIHJldHVybiB7XG4gICAgICB3aGVlbFBvc0N1cnJlbnQ6IFt3aGVlbFBvcy5nZXRfeCgpLCB3aGVlbFBvcy5nZXRfeSgpXSxcbiAgICAgIHdoZWVsQW5nbGVDdXJyZW50OiB0aGlzLndoZWVsQm9keS5HZXRBbmdsZSgpLFxuICAgICAgY2hhc3Npc1Bvc0N1cnJlbnQ6IFtjaGFzc2lzUG9zLmdldF94KCksIGNoYXNzaXNQb3MuZ2V0X3koKV0sXG4gICAgICBjaGFzc2lzQW5nbGVDdXJyZW50OiB0aGlzLmNoYXNzaXNCb2R5LkdldEFuZ2xlKCksXG4gICAgfVxuICB9XG5cbiAgZ2V0IGNvcnJEYXRhKCkge1xuICAgIHJldHVybiBbXG4gICAgICBNYXRoLnNpbih0aGlzLmNoYXNzaXNCb2R5LkdldEFuZ2xlKCkpLFxuICAgICAgdGhpcy53aGVlbEFjY1gsXG4gICAgICB0aGlzLmNoYXNzaXNBY2NYLFxuICAgIF1cbiAgfVxuXG4gIC8vIHNsZWVwKCkge1xuICAvLyAgIGZvciAobGV0IGJvZHkgb2YgW1xuICAvLyAgICAgdGhpcy5jaGFzc2lzQm9keSxcbiAgLy8gICAgIHRoaXMudXBwZXJGb3JlbGVnQm9keSxcbiAgLy8gICAgIHRoaXMubG93ZXJGb3JlbGVnQm9keSxcbiAgLy8gICAgIHRoaXMudXBwZXJIaW5kbGVnQm9keSxcbiAgLy8gICAgIHRoaXMubG93ZXJIaW5kbGVnQm9keSxcbiAgLy8gICBdKSB7XG4gIC8vICAgICBib2R5LlNldEF3YWtlKDApXG4gIC8vICAgICAvLyBib2R5LlNldEVuYWJsZWQoMClcbiAgLy8gICB9XG4gIC8vIH1cbn1cblxuY2xhc3MgTWF0cml4IHtcbiAgY29uc3RydWN0b3IoZGF0YSwgbSwgbikge1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgICB0aGlzLm0gPSBtXG4gICAgdGhpcy5uID0gblxuICB9XG5cbiAgbXVsKG90aGVyKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuZGF0YSxcbiAgICAgIGIgPSBvdGhlci5kYXRhLFxuICAgICAgbSA9IHRoaXMubSxcbiAgICAgIG4gPSB0aGlzLm4sXG4gICAgICBwID0gb3RoZXIubixcbiAgICAgIGMgPSBuZXcgRmxvYXQzMkFycmF5KG5ldyBBcnJheUJ1ZmZlcig0ICogbSAqIHApKVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgcDsgaisrKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG07IGkrKykge1xuICAgICAgICBsZXQgc3VtID0gMFxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG47IGsrKykge1xuICAgICAgICAgIHN1bSArPSBhW2kgKiBuICsga10gKiBiW2sgKiBwICsgal1cbiAgICAgICAgfVxuICAgICAgICBjW2kgKiBwICsgal0gPSBzdW1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNYXRyaXgoYywgbSwgcClcbiAgfVxuXG4gIGFkZChvdGhlcikge1xuICAgIGNvbnN0IGEgPSB0aGlzLmRhdGEsXG4gICAgICBiID0gb3RoZXIuZGF0YSxcbiAgICAgIGwgPSBhLmxlbmd0aCxcbiAgICAgIGMgPSBuZXcgRmxvYXQzMkFycmF5KG5ldyBBcnJheUJ1ZmZlcig0ICogbCkpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNbaV0gPSBhW2ldICsgYltpXVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE1hdHJpeChjLCB0aGlzLm0sIHRoaXMubilcbiAgfVxuXG4gIHJlbHUoKSB7XG4gICAgY29uc3QgbiA9IHRoaXMuZGF0YS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSB0aGlzLmRhdGEuc2xpY2UoKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSBNYXRoLm1heCgwLCByZXN1bHRbaV0pXG4gICAgfVxuICAgIHJldHVybiBuZXcgTWF0cml4KHJlc3VsdCwgdGhpcy5tLCB0aGlzLm4pXG4gIH1cblxuICBsZWFreVJlbHUoKSB7XG4gICAgY29uc3QgbiA9IHRoaXMuZGF0YS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSB0aGlzLmRhdGEuc2xpY2UoKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICByZXN1bHRbaV0gPSBNYXRoLm1heCgwLjEgKiByZXN1bHRbaV0sIHJlc3VsdFtpXSlcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNYXRyaXgocmVzdWx0LCB0aGlzLm0sIHRoaXMubilcbiAgfVxuXG4gIGVsdSgpIHtcbiAgICBjb25zdCBuID0gdGhpcy5kYXRhLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IHRoaXMuZGF0YS5zbGljZSgpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgIGlmIChyZXN1bHRbaV0gPCAwKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IE1hdGguZXhwbTEocmVzdWx0W2ldKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IE1hdHJpeChyZXN1bHQsIHRoaXMubSwgdGhpcy5uKVxuICB9XG5cbiAgbGVha3lFbHUoKSB7XG4gICAgY29uc3QgbiA9IHRoaXMuZGF0YS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSB0aGlzLmRhdGEuc2xpY2UoKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICBpZiAocmVzdWx0W2ldIDwgMCkge1xuICAgICAgICByZXN1bHRbaV0gPSBNYXRoLmV4cG0xKHJlc3VsdFtpXSkgKyAwLjEgKiByZXN1bHRbaV1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNYXRyaXgocmVzdWx0LCB0aGlzLm0sIHRoaXMubilcbiAgfVxufVxuXG5mdW5jdGlvbiB2ZWN0b3JOb3Jtcyh2ZWN0b3JzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBGbG9hdDMyQXJyYXkodmVjdG9ycy5sZW5ndGgpLmZpbGwoMClcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZWN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmVjdG9yID0gdmVjdG9yc1tpXS5kYXRhXG4gICAgZm9yIChsZXQgeCBvZiB2ZWN0b3IpIHtcbiAgICAgIHJlc3VsdFtpXSArPSB4ICogeFxuICAgIH1cbiAgICAvLyByZXN1bHRbaV0gPSBNYXRoLnNxcnQocmVzdWx0W2ldKVxuICAgIHJlc3VsdFtpXSAvPSB2ZWN0b3IubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiByb3dOb3JtVGhpbmd5KG1hdCkge1xuICAvLyBtOiByb3cgY291bnQsIG46IGNvbHVtbiBjb3VudFxuICBjb25zdCByb3dDb3VudCA9IG1hdC5tLFxuICAgIGNvbENvdW50ID0gbWF0Lm5cbiAgbGV0IHN1bUFsbCA9IDBcbiAgY29uc3Qgcm93U3VtcyA9IG5ldyBGbG9hdDMyQXJyYXkocm93Q291bnQpLmZpbGwoMCksXG4gICAgY29sU3VtcyA9IG5ldyBGbG9hdDMyQXJyYXkoY29sQ291bnQpLmZpbGwoMClcbiAgLy8gcm93IGlkeFxuICBmb3IgKGxldCByb3dJZHggPSAwOyByb3dJZHggPCByb3dDb3VudDsgcm93SWR4KyspIHtcbiAgICAvLyBjb2wgaWR4XG4gICAgZm9yIChsZXQgY29sSWR4ID0gMDsgY29sSWR4IDwgY29sQ291bnQ7IGNvbElkeCsrKSB7XG4gICAgICBjb25zdCB2YWwgPSBtYXQuZGF0YVtyb3dJZHggKiBjb2xDb3VudCArIGNvbElkeF0sXG4gICAgICAgIHZhbFNxID0gdmFsICogdmFsXG4gICAgICAvLyByb3dTdW1zW3Jvd0lkeF0gKz0gTWF0aC5hYnModmFsKVxuICAgICAgcm93U3Vtc1tyb3dJZHhdICs9IHZhbFNxXG4gICAgICAvLyBjb2xTdW1zW2NvbElkeF0gKz0gTWF0aC5hYnModmFsKVxuICAgICAgY29sU3Vtc1tjb2xJZHhdICs9IHZhbFNxXG4gICAgICBzdW1BbGwgKz0gdmFsU3FcbiAgICB9XG4gIH1cbiAgc3VtQWxsIC89IHJvd0NvdW50ICogY29sQ291bnRcbiAgbGV0IHN1bVJvd3MgPSAwXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm93Q291bnQ7IGkrKykge1xuICAgIGNvbnN0IHZhbCA9IHJvd1N1bXNbaV0gLyBjb2xDb3VudFxuICAgIHN1bVJvd3MgKz0gdmFsICogdmFsXG4gIH1cbiAgc3VtUm93cyAvPSByb3dDb3VudFxuICBsZXQgc3VtQ29scyA9IDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xDb3VudDsgaSsrKSB7XG4gICAgY29uc3QgdmFsID0gY29sU3Vtc1tpXSAvIHJvd0NvdW50XG4gICAgc3VtQ29scyArPSB2YWwgKiB2YWxcbiAgfVxuICBzdW1Db2xzIC89IGNvbENvdW50XG5cbiAgLy8gcmV0dXJuIHN1bUFsbCArIDAuMSAqIHN1bVJvd3MgKyAxLjAgKiBzdW1Db2xzXG4gIHJldHVybiBzdW1BbGxcbn1cblxuZXhwb3J0IGNsYXNzIFBvcHVsYXRpb24ge1xuICBjb25zdHJ1Y3Rvcih3aGVlbFBvc0luaXQsIG5UaXBweXMsIHRlcnJhaW5QdHMsIGIyKSB7XG4gICAgdGhpcy53aGVlbFBvc0luaXQgPSB3aGVlbFBvc0luaXQuc2xpY2UoKVxuXG4gICAge1xuICAgICAgY29uc3QgZ3Jhdml0eSA9IG5ldyBiMi5iMlZlYzIoMCwgOS44MSlcbiAgICAgIHRoaXMud29ybGQgPSBuZXcgYjIuYjJXb3JsZChncmF2aXR5KVxuICAgIH1cblxuICAgIHRoaXMuYjIgPSBiMlxuICAgIHRoaXMudGVycmFpblB0cyA9IHRlcnJhaW5QdHNcblxuICAgIC8vIGFkZCBncm91bmRcbiAgICB7XG4gICAgICBjb25zdCBncm91bmRCb2R5ID0gdGhpcy53b3JsZC5DcmVhdGVCb2R5KG5ldyBiMi5iMkJvZHlEZWYoKSlcblxuICAgICAgY29uc3QgdGVycmFpblB0c0ZpbHRlcmVkID0gW11cbiAgICAgIGxldCB5RGlmZlByZXZcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2xvYmFscy5uVGVycmFpblB0czsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHlEaWZmQ3VyciA9IHRlcnJhaW5QdHNbaSArIDFdIC0gdGVycmFpblB0c1tpXSxcbiAgICAgICAgICBzYW1lU2xvcGUgPSB5RGlmZkN1cnIgPT0geURpZmZQcmV2XG4gICAgICAgIHlEaWZmUHJldiA9IHlEaWZmQ3VyclxuICAgICAgICBpZiAoc2FtZVNsb3BlICYmIGkgIT0gZ2xvYmFscy5uVGVycmFpblB0cyAtIDEpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIHRlcnJhaW5QdHNGaWx0ZXJlZC5wdXNoKFt0ZXJyYWluSWR4VG9YUG9zKGkpLCB0ZXJyYWluUHRzW2ldXSlcbiAgICAgIH1cbiAgICAgIC8vIGNvbnNvbGUubG9nKHRlcnJhaW5QdHNGaWx0ZXJlZC5sZW5ndGgsIGdsb2JhbHMublRlcnJhaW5QdHMpXG4gICAgICAvLyByZXZlcnNlZCBsb29wIGZvciBDQ1cgd2luZGluZyBvcmRlciAoQm94MkQpXG4gICAgICBmb3IgKGxldCBpID0gdGVycmFpblB0c0ZpbHRlcmVkLmxlbmd0aCAtIDE7IGkgPj0gMTsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGVkZ2VTaGFwZSA9IG5ldyBiMi5iMkVkZ2VTaGFwZSgpXG4gICAgICAgIGVkZ2VTaGFwZS5TZXRUd29TaWRlZChcbiAgICAgICAgICBuZXcgYjIuYjJWZWMyKHRlcnJhaW5QdHNGaWx0ZXJlZFtpXVswXSwgdGVycmFpblB0c0ZpbHRlcmVkW2ldWzFdKSxcbiAgICAgICAgICBuZXcgYjIuYjJWZWMyKFxuICAgICAgICAgICAgdGVycmFpblB0c0ZpbHRlcmVkW2kgLSAxXVswXSxcbiAgICAgICAgICAgIHRlcnJhaW5QdHNGaWx0ZXJlZFtpIC0gMV1bMV1cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgZ3JvdW5kRkQgPSBuZXcgYjIuYjJGaXh0dXJlRGVmKClcbiAgICAgICAgZ3JvdW5kRkQuc2V0X3NoYXBlKGVkZ2VTaGFwZSlcbiAgICAgICAgZ3JvdW5kRkQuc2V0X2ZyaWN0aW9uKDAuOSlcbiAgICAgICAgZ3JvdW5kRkQuc2V0X3Jlc3RpdHV0aW9uKDAuMSlcbiAgICAgICAgY29uc3QgZ3JvdW5kRml4dHVyZSA9IGIyLmNhc3RPYmplY3QoXG4gICAgICAgICAgZ3JvdW5kQm9keS5DcmVhdGVGaXh0dXJlKGdyb3VuZEZEKSxcbiAgICAgICAgICBiMi5iMkZpeHR1cmVcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgLy8gYWRkIHdhbGxzXG4gICAgICBmb3IgKGNvbnN0IGlkeCBvZiBbMCwgZ2xvYmFscy5uVGVycmFpblB0cyAtIDFdKSB7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IFt0ZXJyYWluSWR4VG9YUG9zKGlkeCksIHRlcnJhaW5QdHNbaWR4XV1cbiAgICAgICAgY29uc3QgZWRnZVNoYXBlID0gbmV3IGIyLmIyRWRnZVNoYXBlKClcbiAgICAgICAgZWRnZVNoYXBlLlNldFR3b1NpZGVkKFxuICAgICAgICAgIG5ldyBiMi5iMlZlYzIoeCwgeSksXG4gICAgICAgICAgbmV3IGIyLmIyVmVjMih4LCB5IC0gZ2xvYmFscy53YWxsSClcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBncm91bmRGRCA9IG5ldyBiMi5iMkZpeHR1cmVEZWYoKVxuICAgICAgICBncm91bmRGRC5zZXRfc2hhcGUoZWRnZVNoYXBlKVxuICAgICAgICBncm91bmRGRC5zZXRfZnJpY3Rpb24oMC45KVxuICAgICAgICBncm91bmRGRC5zZXRfcmVzdGl0dXRpb24oMC4xKVxuICAgICAgICBjb25zdCBncm91bmRGaXh0dXJlID0gYjIuY2FzdE9iamVjdChcbiAgICAgICAgICBncm91bmRCb2R5LkNyZWF0ZUZpeHR1cmUoZ3JvdW5kRkQpLFxuICAgICAgICAgIGIyLmIyRml4dHVyZVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudGlwcHlzID0gW11cbiAgICB0aGlzLmFkZFRpcHB5cyhuVGlwcHlzKVxuICAgIHRoaXMubl9kaW0gPSB0aGlzLnRpcHB5c1swXS5uX2RpbVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgZm9yIChsZXQgdGlwcHkgb2YgdGhpcy50aXBweXMpIHtcbiAgICAgIHRpcHB5LnJlc2V0KHRoaXMuYjIpXG4gICAgfVxuICB9XG5cbiAgYWRkVGlwcHlzKG5UaXBweXMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5UaXBweXM7IGkrKykge1xuICAgICAgdGhpcy50aXBweXMucHVzaChuZXcgVGlwcHkodGhpcy53aGVlbFBvc0luaXQsIHRoaXMud29ybGQsIHRoaXMuYjIsIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIHNldFd0cyhmbGF0V3RzKSB7XG4gICAgbGV0IGZsYXRXdHNJZHggPSAwXG4gICAgZm9yIChsZXQgdGlwcHkgb2YgdGhpcy50aXBweXMpIHtcbiAgICAgIHRpcHB5LnNldFd0cyhmbGF0V3RzLnNsaWNlKGZsYXRXdHNJZHgsIGZsYXRXdHNJZHggKyB0aGlzLm5fZGltKSlcbiAgICAgIGZsYXRXdHNJZHggKz0gdGhpcy5uX2RpbVxuICAgIH1cbiAgfVxuXG4gIHRyYWluKHsgdGFyZ2V0cywgc29sdXRpb25zIH0pIHtcbiAgICAvLyBhc3NpZ24gc29sdXRpb24gYW5kIHRhcmdldCB0byBlYWNoIHRpcHB5XG4gICAgY29uc3QgblNvbHV0aW9ucyA9IHNvbHV0aW9ucy5sZW5ndGggLyB0aGlzLm5fZGltXG4gICAgaWYgKHRoaXMudGlwcHlzLmxlbmd0aCA8IG5Tb2x1dGlvbnMgKiB0YXJnZXRzLmxlbmd0aCkge1xuICAgICAgdGhpcy5hZGRUaXBweXMoblNvbHV0aW9ucyAqIHRhcmdldHMubGVuZ3RoIC0gdGhpcy50aXBweXMubGVuZ3RoKVxuICAgIH1cbiAgICBsZXQgZmxhdFd0c0lkeCA9IDBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5Tb2x1dGlvbnM7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0YXJnZXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHRpcHB5ID0gdGhpcy50aXBweXNbaSAqIHRhcmdldHMubGVuZ3RoICsgal1cbiAgICAgICAgdGlwcHkuc2V0V3RzKHNvbHV0aW9ucy5zbGljZShmbGF0V3RzSWR4LCBmbGF0V3RzSWR4ICsgdGhpcy5uX2RpbSkpXG4gICAgICAgIHRpcHB5LnRhcmdldElkeCA9IGpcbiAgICAgIH1cbiAgICAgIGZsYXRXdHNJZHggKz0gdGhpcy5uX2RpbVxuICAgIH1cbiAgICAvLyBzaW11bGF0ZSB1c2luZyBvbmUgdGFyZ2V0IHBlciBzb2x1dGlvblxuICAgIHRoaXMucmVzZXQoKVxuICAgIGZvciAobGV0IHN0ZXAgPSAwOyBzdGVwIDwgdGFyZ2V0c1swXS5sZW5ndGg7IHN0ZXArKykge1xuICAgICAgZm9yIChsZXQgdGlwcHkgb2YgdGhpcy50aXBweXMpIHtcbiAgICAgICAgdGlwcHkudXBkYXRlKHRhcmdldHNbdGlwcHkudGFyZ2V0SWR4XVtzdGVwXSlcbiAgICAgIH1cbiAgICAgIHRoaXMud29ybGQuU3RlcChnbG9iYWxzLnRzLCA4LCAzKVxuICAgIH1cbiAgICAvLyBzY29yZSBzb2x1dGlvbnMgYWZ0ZXIgc2ltdWxhdGlvblxuICAgIGNvbnN0IHNvbHV0aW9uc1Njb3JlcyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuU29sdXRpb25zOyBpKyspIHtcbiAgICAgIGNvbnN0IHRpcHB5MCA9IHRoaXMudGlwcHlzW2kgKiB0YXJnZXRzLmxlbmd0aF0sXG4gICAgICAgIHNvbHV0aW9uID0gdGlwcHkwLmZsYXRXdHNcbiAgICAgIGxldCB3dHNOb3JtID0gMFxuICAgICAgZm9yIChsZXQgd3RMYXllciBvZiB0aXBweTAud2VpZ2h0cykge1xuICAgICAgICBmb3IgKGxldCB3dCBvZiB3dExheWVyLmRhdGEpIHtcbiAgICAgICAgICB3dHNOb3JtICs9IHd0ICogd3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd3RzTm9ybSAvPSB0aXBweTAud2VpZ2h0Q291bnRcbiAgICAgIGxldCBiaWFzTm9ybSA9IDBcbiAgICAgIGZvciAobGV0IGJpYXNMYXllciBvZiB0aXBweTAuYmlhc2VzKSB7XG4gICAgICAgIGZvciAobGV0IGJpYXMgb2YgYmlhc0xheWVyLmRhdGEpIHtcbiAgICAgICAgICBiaWFzTm9ybSArPSBiaWFzICogYmlhc1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiaWFzTm9ybSAvPSB0aXBweTAuYmlhc0NvdW50XG4gICAgICBjb25zdCB0YXNrU2NvcmVzID0gW11cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGFyZ2V0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBjb25zdCB0YXNrVGlwcHkgPSB0aGlzLnRpcHB5c1tpICogdGFyZ2V0cy5sZW5ndGggKyBqXSxcbiAgICAgICAgICBtc2UgPSB0YXNrVGlwcHkudGFyZ2V0U3FFcnJTdW0gLyBnbG9iYWxzLmVwTGVuLFxuICAgICAgICAgIGNyYXNoZWRSYXRpbyA9IHRhc2tUaXBweS5jcmFzaFN0ZXBDb3VudCAvIGdsb2JhbHMuZXBMZW4sXG4gICAgICAgICAgZHJpZnRYID0gdGFza1RpcHB5LmRyaWZ0WFNxU3VtIC8gZ2xvYmFscy5lcExlblxuICAgICAgICB0YXNrU2NvcmVzLnB1c2goeyBtc2UsIGNyYXNoZWRSYXRpbywgZHJpZnRYIH0pXG4gICAgICB9XG4gICAgICAvLyBzb2x1dGlvbnNTY29yZXMucHVzaCh7IHNvbHV0aW9uLCBzY29yZSB9KVxuICAgICAgc29sdXRpb25zU2NvcmVzLnB1c2goeyBzb2x1dGlvbiwgd3RzTm9ybSwgYmlhc05vcm0sIHRhc2tTY29yZXMgfSlcbiAgICB9XG4gICAgcmV0dXJuIHNvbHV0aW9uc1Njb3Jlc1xuICB9XG5cbiAgdXBkYXRlKHRhcmdldHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGlwcHlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0aXBweSA9IHRoaXMudGlwcHlzW2ldXG4gICAgICB0aXBweS51cGRhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gICAgdGhpcy53b3JsZC5TdGVwKGdsb2JhbHMudHMsIDgsIDMpXG4gIH1cblxuICBkcmF3KHNjYWxlLCBjZW50ZXIpIHtcbiAgICBmb3IgKGxldCB0aXBweSBvZiB0aGlzLnRpcHB5cykge1xuICAgICAgdGlwcHkuZHJhdyhzY2FsZSwgY2VudGVyKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRGlyZWN0aW9uKGxkLCByZCwgX3RhcmdldFNpbiwgX3RhcmdldFZlbCkge1xuICAvLyBubyBjaGFuZ2UgaWYgYm90aCBrZXlzIGRvd25cbiAgbGV0IHRhcmdldFNpbiA9IF90YXJnZXRTaW4sXG4gICAgdGFyZ2V0VmVsID0gX3RhcmdldFZlbFxuICBpZiAobGQgJiYgcmQpIHtcbiAgICByZXR1cm4gW3RhcmdldFNpbiwgdGFyZ2V0VmVsXVxuICB9XG4gIC8vIGRlY2F5IHNpbiB0b3dhcmQgemVyb1xuICBpZiAodGFyZ2V0U2luICE9IDApIHtcbiAgICBpZiAoTWF0aC5hYnModGFyZ2V0U2luKSA8IGdsb2JhbHMuc2luRGVjYXkpIHtcbiAgICAgIHRhcmdldFNpbiA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0U2luIC09IE1hdGguc2lnbih0YXJnZXRTaW4pICogZ2xvYmFscy5zaW5EZWNheVxuICAgIH1cbiAgfVxuICAvLyBjaGFuZ2UgaWYgb25seSBvbmUga2V5XG4gIC8vIGFuZCBsaW1pdCBvdXRwdXRcbiAgaWYgKGxkKSB7XG4gICAgdGFyZ2V0U2luIC09IGdsb2JhbHMuc2luU3RlcFxuICAgIGlmICh0YXJnZXRTaW4gPCAtZ2xvYmFscy5zaW5MaW0pIHtcbiAgICAgIHRhcmdldFNpbiA9IC1nbG9iYWxzLnNpbkxpbVxuICAgIH1cbiAgfSBlbHNlIGlmIChyZCkge1xuICAgIHRhcmdldFNpbiArPSBnbG9iYWxzLnNpblN0ZXBcbiAgICBpZiAodGFyZ2V0U2luID4gZ2xvYmFscy5zaW5MaW0pIHtcbiAgICAgIHRhcmdldFNpbiA9IGdsb2JhbHMuc2luTGltXG4gICAgfVxuICB9XG4gIC8vIGRlY2F5IHZlbCB0b3dhcmQgemVyb1xuICBpZiAodGFyZ2V0VmVsICE9IDApIHtcbiAgICBpZiAoTWF0aC5hYnModGFyZ2V0VmVsKSA8IGdsb2JhbHMudmVsRGVjYXkpIHtcbiAgICAgIHRhcmdldFZlbCA9IDBcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0VmVsIC09IE1hdGguc2lnbih0YXJnZXRWZWwpICogZ2xvYmFscy52ZWxEZWNheVxuICAgIH1cbiAgfVxuXG4gIHRhcmdldFZlbCArPSAwLjEwMiAqIHRhcmdldFNpblxuICBpZiAodGFyZ2V0VmVsID4gZ2xvYmFscy52ZWxMaW0pIHtcbiAgICB0YXJnZXRWZWwgPSBnbG9iYWxzLnZlbExpbVxuICB9IGVsc2UgaWYgKHRhcmdldFZlbCA8IC1nbG9iYWxzLnZlbExpbSkge1xuICAgIHRhcmdldFZlbCA9IC1nbG9iYWxzLnZlbExpbVxuICB9XG4gIC8vIC8vIHVwZGF0ZSB0ZXN0IHRyaWdvbm9tZXRyeVxuICAvLyBpZiAodGFyZ2V0U2luICE9IHRhcmdldERpcmVjdGlvbkJlZm9yZSkge1xuICAvLyAgIHRhcmdldEFuZ2xlID0gTWF0aC5hc2luKHRhcmdldFNpbilcbiAgLy8gICB0YXJnZXRDb3MgPSBNYXRoLmNvcyh0YXJnZXRBbmdsZSlcbiAgLy8gfVxuICByZXR1cm4gW3RhcmdldFNpbiwgdGFyZ2V0VmVsXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVUZXJyYWluUHRzKCkge1xuICBmdW5jdGlvbiB0ZXJyYWluTFJPYmplY3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNsb3BlRGlmZjogMCxcbiAgICAgIHNsb3BlOiAwLFxuICAgICAgeTogMCxcbiAgICAgIHg6IGdsb2JhbHMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWwsXG4gICAgICB4SWR4OiAxLFxuICAgICAgLy8gcmFuZFZhbHM6IHJhbmRfbm9ybWFsKGdsb2JhbHMuZ3JvdW5kSGFsZldpZHRoIC8gZ2xvYmFscy5ncm91bmREZXRhaWxJbnRlcnZhbCAtIDEpLFxuICAgICAgLy8gaWR4OiAwLFxuICAgICAgeXM6IFtdLFxuICAgICAgdXBkYXRlU2xvcGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnggPD0gZ2xvYmFscy5ncm91bmRGbGF0Q2VudGVySGFsZldpZHRoKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5zbG9wZURpZmYgKz0gZ2xvYmFscy5zbG9wZURpZmZNYWcgKiB0aGlzLnJhbmRWYWxzW3RoaXMuaWR4XVxuICAgICAgICB0aGlzLnNsb3BlRGlmZiArPSBnbG9iYWxzLnNsb3BlRGlmZk1hZyAqIHJhbmRfbm9ybWFsKDEpWzBdXG4gICAgICAgIC8vIHRoaXMuaWR4KytcbiAgICAgICAgdGhpcy5zbG9wZURpZmYgKj0gZ2xvYmFscy5zbG9wZURpZmZEZWNheVxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5zbG9wZURpZmYpID4gZ2xvYmFscy5zbG9wZURpZmZMaW0pIHtcbiAgICAgICAgICB0aGlzLnNsb3BlRGlmZiA9IE1hdGgubWluKFxuICAgICAgICAgICAgTWF0aC5tYXgodGhpcy5zbG9wZURpZmYsIC1nbG9iYWxzLnNsb3BlRGlmZkxpbSksXG4gICAgICAgICAgICBnbG9iYWxzLnNsb3BlRGlmZkxpbVxuICAgICAgICAgIClcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNsb3BlIGRpZmYgYnVtcFwiKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZTbG9wZSA9IHRoaXMuc2xvcGVcbiAgICAgICAgdGhpcy5zbG9wZSArPSB0aGlzLnNsb3BlRGlmZlxuICAgICAgICB0aGlzLnNsb3BlICo9IGdsb2JhbHMuc2xvcGVEZWNheVxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5zbG9wZSkgPiBnbG9iYWxzLnNsb3BlTGltKSB7XG4gICAgICAgICAgdGhpcy5zbG9wZSA9IE1hdGgubWluKFxuICAgICAgICAgICAgTWF0aC5tYXgodGhpcy5zbG9wZSwgLWdsb2JhbHMuc2xvcGVMaW0pLFxuICAgICAgICAgICAgZ2xvYmFscy5zbG9wZUxpbVxuICAgICAgICAgIClcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNsb3BlIGJ1bXBcIilcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNsb3BlRGlmZiA9IHRoaXMuc2xvcGUgLSBwcmV2U2xvcGVcbiAgICAgIH0sXG4gICAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU2xvcGUoKVxuICAgICAgICB0aGlzLnkgKz0gdGhpcy5zbG9wZSAqIGdsb2JhbHMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWxcbiAgICAgICAgdGhpcy55cy5wdXNoKHRoaXMueSlcbiAgICAgICAgLy8gcHJldmVudCBmbG9hdGluZyBwb2ludCBkcmlmdFxuICAgICAgICB0aGlzLnhJZHgrK1xuICAgICAgICB0aGlzLnggPSBnbG9iYWxzLmdyb3VuZERldGFpbEludGVydmFsICogdGhpcy54SWR4XG4gICAgICB9LFxuICAgIH1cbiAgfVxuICBjb25zdCBsZWZ0T2JqID0gdGVycmFpbkxST2JqZWN0KCksXG4gICAgcmlnaHRPYmogPSB0ZXJyYWluTFJPYmplY3QoKVxuXG4gIGZvciAoXG4gICAgbGV0IF8gPSAwO1xuICAgIF8gPCBnbG9iYWxzLmdyb3VuZEhhbGZXaWR0aCAvIGdsb2JhbHMuZ3JvdW5kRGV0YWlsSW50ZXJ2YWw7XG4gICAgXysrXG4gICkge1xuICAgIGxlZnRPYmoudXBkYXRlKClcbiAgICByaWdodE9iai51cGRhdGUoKVxuICB9XG4gIGxlZnRPYmoueXMucmV2ZXJzZSgpXG5cbiAgcmV0dXJuIGxlZnRPYmoueXMuY29uY2F0KFswXSkuY29uY2F0KHJpZ2h0T2JqLnlzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24geFBvc1RvVGVycmFpbklkeCh4KSB7XG4gIHggPSBNYXRoLm1pbihNYXRoLm1heCh4LCAtZ2xvYmFscy5ncm91bmRIYWxmV2lkdGgpLCBnbG9iYWxzLmdyb3VuZEhhbGZXaWR0aClcbiAgcmV0dXJuIChcbiAgICBNYXRoLnJvdW5kKHggLyBnbG9iYWxzLmdyb3VuZERldGFpbEludGVydmFsKSArIChnbG9iYWxzLm5UZXJyYWluUHRzIC0gMSkgLyAyXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlcnJhaW5JZHhUb1hQb3MoaWR4KSB7XG4gIHJldHVybiAoaWR4IC0gKGdsb2JhbHMublRlcnJhaW5QdHMgLSAxKSAvIDIpICogZ2xvYmFscy5ncm91bmREZXRhaWxJbnRlcnZhbFxufVxuXG5mdW5jdGlvbiBpbnRlcnBUZXJyYWluWSh4LCB0ZXJyYWluUHRzKSB7XG4gIHggPSBNYXRoLm1pbihNYXRoLm1heCh4LCAtZ2xvYmFscy5ncm91bmRIYWxmV2lkdGgpLCBnbG9iYWxzLmdyb3VuZEhhbGZXaWR0aClcbiAgY29uc3QgeFNjYWxlZCA9IHggLyBnbG9iYWxzLmdyb3VuZERldGFpbEludGVydmFsLFxuICAgIGlkeE9mZnNldCA9IChnbG9iYWxzLm5UZXJyYWluUHRzIC0gMSkgLyAyLFxuICAgIGNsaXBwZWQgPSBbTWF0aC5mbG9vcih4U2NhbGVkKSwgTWF0aC5jZWlsKHhTY2FsZWQpXSxcbiAgICB4cyA9IGNsaXBwZWQubWFwKCh2KSA9PiBnbG9iYWxzLmdyb3VuZERldGFpbEludGVydmFsICogdiksXG4gICAgeXMgPSBjbGlwcGVkLm1hcCgodikgPT4gdGVycmFpblB0c1t2ICsgaWR4T2Zmc2V0XSlcblxuICBpZiAoeHNbMV0gPT0geHNbMF0pIHtcbiAgICByZXR1cm4geXNbMF1cbiAgfVxuICBjb25zdCBzbG9wZSA9ICh5c1sxXSAtIHlzWzBdKSAvICh4c1sxXSAtIHhzWzBdKSxcbiAgICB4RGlmZiA9IHggLSB4c1swXSxcbiAgICB5RGlmZiA9IHNsb3BlICogeERpZmZcbiAgcmV0dXJuIHlzWzBdICsgeURpZmZcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gdGhlIHN0YXJ0dXAgZnVuY3Rpb25cbl9fd2VicGFja19yZXF1aXJlX18ueCA9ICgpID0+IHtcblx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5cdC8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxuXHR2YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs3NDldLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg2MzApKSlcblx0X193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcblx0cmV0dXJuIF9fd2VicGFja19leHBvcnRzX187XG59O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzIGFuZCBzaWJsaW5nIGNodW5rcyBmb3IgdGhlIGVudHJ5cG9pbnRcbl9fd2VicGFja19yZXF1aXJlX18udSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIFwiOGE0YmNlYjc3N2M3ZDZiNWI2YTNcIiArIFwiLmpzXCI7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFsbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18ubWluaUNzc0YgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIHVuZGVmaW5lZDtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgY2h1bmtzXG4vLyBcIjFcIiBtZWFucyBcImFscmVhZHkgbG9hZGVkXCJcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDYzMDogMVxufTtcblxuLy8gaW1wb3J0U2NyaXB0cyBjaHVuayBsb2FkaW5nXG52YXIgaW5zdGFsbENodW5rID0gKGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR3aGlsZShjaHVua0lkcy5sZW5ndGgpXG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzLnBvcCgpXSA9IDE7XG5cdHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xufTtcbl9fd2VicGFja19yZXF1aXJlX18uZi5pID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdC8vIFwiMVwiIGlzIHRoZSBzaWduYWwgZm9yIFwiYWxyZWFkeSBsb2FkZWRcIlxuXHRpZighaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdGltcG9ydFNjcmlwdHMoX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgX193ZWJwYWNrX3JlcXVpcmVfXy51KGNodW5rSWQpKTtcblx0XHR9XG5cdH1cbn07XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rdGlwcHlfcHJvamVjdF93ZWJzaXRlXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3RpcHB5X3Byb2plY3Rfd2Vic2l0ZVwiXSB8fCBbXTtcbnZhciBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiA9IGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gaW5zdGFsbENodW5rO1xuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0IiwiLy8gcnVuIHN0YXJ0dXBcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJuZXh0IiwiZ2xvYmFscyIsInciLCJoIiwibElucHV0Q29kZXMiLCJySW5wdXRDb2RlcyIsInhPZmZzIiwidHMiLCJzaW5MaW0iLCJzaW5TdGVwIiwic2luRGVjYXkiLCJ2ZWxMaW0iLCJ2ZWxEZWNheSIsImdyb3VuZEhhbGZXaWR0aCIsImdyb3VuZEZsYXRDZW50ZXJIYWxmV2lkdGgiLCJncm91bmREZXRhaWxJbnRlcnZhbCIsIm5UZXJyYWluUHRzIiwidGhpcyIsIndhbGxIIiwid2FsbFciLCJzbG9wZURlY2F5Iiwic2xvcGVMaW0iLCJzbG9wZURpZmZNYWciLCJzbG9wZURpZmZEZWNheSIsInNsb3BlRGlmZkxpbSIsImJhck1heCIsImxpbSIsInRhcmdldFR5cGUiLCJiYXJIZWlnaHQiLCJzY29yZURlbm9tRXBzIiwiY3Jhc2hTaW5MaW1pdCIsIm1heFRvcnF1ZSIsIm5Xb3JrZXJzIiwibXVsdGlwbGllciIsImVwTGVuIiwidHdpdGNoaW5lc3NlcyIsImNtYVNpZ21hIiwiY21hTWVhbkluaXQiLCJGbG9hdDMyQXJyYXkiLCJmcm9tIiwiY21hIiwiaW5pdGlhbGl6ZWQiLCJ0cmFpbiIsInNvbHV0aW9ucyIsImJhZFNvbHV0aW9uIiwicG9wc2l6ZSIsIm5fZGltIiwiaSIsInNvbHV0aW9uIiwiYXNrIiwiY29uc3RydWN0b3IiLCJqIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImdldE5ld1NvbHV0aW9ucyIsInRhcmdldEFycmF5cyIsInR3aXRjaGluZXNzIiwicHVzaCIsImdlbmVyYXRlRXBpc29kZVRhcmdldHMiLCJnZW5lcmF0ZVRhcmdldEFycmF5cyIsIndvcmtlclNvbHV0aW9uTGVuZ3RoIiwic29sdXRpb25JZHgiLCJ0YXJnZXRzU29sdXRpb25zIiwidGFyZ2V0cyIsInNsaWNlIiwicG9zdE1lc3NhZ2UiLCJsZCIsInJkIiwidGFyZ2V0U2luIiwidGFyZ2V0VmVsIiwidGFyZ2V0U2lucyIsImZpbGwiLCJ0YXJnZXRWZWxzIiwibGVmdERvd24iLCJyaWdodERvd24iLCJNYXRoIiwicmFuZG9tIiwicmFuZCIsImFicyIsInNpZ24iLCJvbm1lc3NhZ2UiLCJlIiwiY21hUG9wU2l6ZSIsImNtYU1lYW4iLCJkYXRhIiwiaW5mbyIsIm1zZyIsInNjb3JlcyIsIm1hcCIsIngiLCJzY29yZSIsInRlbGwiLCJyZWR1Y2UiLCJhIiwiYiIsIm1pbiIsIm1lYW4iLCJkZWZhdWx0UG9wU2l6ZSIsImdldERlZmF1bHRDTUFQb3BzaXplIiwiY2VpbCIsInRvdGFsUG9wU2l6ZSIsInNpbXVsYXRpb25Qb3BTaXplIiwiZ2V0UG9wc2l6ZXMiLCJDTUEiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiTyIsInJlc3VsdCIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiZnVsZmlsbGVkIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiciIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImYiLCJjaHVua0lkIiwiUHJvbWlzZSIsImFsbCIsInByb21pc2VzIiwidSIsIm1pbmlDc3NGIiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsIndpbmRvdyIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiYmluZCIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInBvcCIsInRoZW4iXSwic291cmNlUm9vdCI6IiJ9